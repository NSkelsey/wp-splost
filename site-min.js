/*!
ICanHaz.js version 0.10 -- by @HenrikJoreteg
More info at: http://icanhazjs.com
*/function loadSpreadsheet(){Tabletop.init({key:URL,callback:showInfo,simpleSheet:!0})}function getCurrentYear(){return(new Date).getFullYear()}function getCatTotal(e){var t=0;return e.forEach(function(e){var n=e.total;t+=parseInt(n)}),t}function completedProjects(e){var t=0;return e.forEach(function(e){hasActiveFuture(e)||(t+=1)}),t}function isActive(e){var t="year"+getCurrentYear(),n=e[t];return n>0?!0:!1}function amountSpent(e){var t=0;return e.forEach(function(e){var n="year"+getCurrentYear(),r=parseInt(e[n]);r>0&&(t+=r),getPreviousYears().forEach(function(n){var r=parseInt(e[n]);r>0&&(t+=r)})}),t}function getType(e,t){var n=[];return e.forEach(function(e){var r="type",i=e[r];i===t&&n.push(e)}),n}function getProject(e,t){var n=[];return e.forEach(function(e){var r="project",i=e[r];i===t&&n.push(e)}),n}function getMoney(e){return e===""?!1:accounting.formatMoney(parseInt(e))}function turnCurrency(e){return e.forEach(function(e){var t=getMoney(e.total);t&&(e.total=t),YEARS.forEach(function(t){var n=getMoney(e[t]);n&&(e[t]=n)})}),e}function turnMonthlyCurrency(e){return e.forEach(function(e){var t=getMoney(e.actual),n=getMoney(e.budgeted);t&&(e.actual=t),n&&(e.budgeted=n)}),e}function comboArrays(e,t){var n=e,r=t,i=n.concat(r);return i}function isComplete(e){var t="year"+getCurrentYear(),n=e[t];return n>0?"completed":"active"}function getPreviousYears(){var e="year"+getCurrentYear();return YEARS.slice(0,YEARS.indexOf(e))}function getFutureYears(){var e="year"+getCurrentYear();return YEARS.slice(YEARS.indexOf(e))}function hasActiveFuture(e){var t=!1;return getFutureYears().forEach(function(n){e[n]>0&&(t=!0)}),t}function getActiveProjects(e){var t=[];return e.forEach(function(n){isActive(n)&&t.push(n)}),t}function displayAddress(e,t){var n=new L.LatLng(t.lat,t.long);setCenter(e,n);var r=new L.Marker(n);e.addLayer(r),r.bindPopup(t.project).openPopup()}function loadMap(){var e=new L.Map("map",{touchZoom:!0,scrollWheelZoom:!1,dragging:!0}),t=new L.TileLayer("http://tile.stamen.com/toner/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>',maxZoom:18});return e.addLayer(t),e}function setCenter(e,t){e.setView(t,13)}(function(){var e=function(){function o(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return s[e]||e})}var e=Object.prototype.toString;Array.isArray=Array.isArray||function(t){return e.call(t)=="[object Array]"};var t=String.prototype.trim,n;if(t)n=function(e){return e==null?"":t.call(e)};else{var r,i;/\S/.test(" ")?(r=/^[\s\xA0]+/,i=/[\s\xA0]+$/):(r=/^\s+/,i=/\s+$/),n=function(e){return e==null?"":e.toString().replace(r,"").replace(i,"")}}var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u={},a=function(){};return a.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(e,t,n,r){r||(this.context=t,this.buffer=[]);if(!this.includes("",e)){if(r)return e;this.send(e);return}e=this.render_pragmas(e);var i=this.render_section(e,t,n);i===!1&&(i=this.render_tags(e,t,n,r));if(r)return i;this.sendLines(i)},send:function(e){e!==""&&this.buffer.push(e)},sendLines:function(e){if(e){var t=e.split("\n");for(var n=0;n<t.length;n++)this.send(t[n])}},render_pragmas:function(e){if(!this.includes("%",e))return e;var t=this,n=this.getCachedRegex("render_pragmas",function(e,t){return new RegExp(e+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+t,"g")});return e.replace(n,function(e,n,r){if(!t.pragmas_implemented[n])throw{message:"This implementation of mustache doesn't understand the '"+n+"' pragma"};t.pragmas[n]={};if(r){var i=r.split("=");t.pragmas[n][i[0]]=i[1]}return""})},render_partial:function(e,t,r){e=n(e);if(!r||r[e]===undefined)throw{message:"unknown_partial '"+e+"'"};return!t||typeof t[e]!="object"?this.render(r[e],t,r,!0):this.render(r[e],t[e],r,!0)},render_section:function(e,t,n){if(!this.includes("#",e)&&!this.includes("^",e))return!1;var r=this,i=this.getCachedRegex("render_section",function(e,t){return new RegExp("^([\\s\\S]*?)"+e+"(\\^|\\#)\\s*(.+)\\s*"+t+"\n*([\\s\\S]*?)"+e+"\\/\\s*\\3\\s*"+t+"\\s*([\\s\\S]*)$","g")});return e.replace(i,function(e,i,s,o,u,a){var f=i?r.render_tags(i,t,n,!0):"",l=a?r.render(a,t,n,!0):"",c,h=r.find(o,t);return s==="^"?!h||Array.isArray(h)&&h.length===0?c=r.render(u,t,n,!0):c="":s==="#"&&(Array.isArray(h)?c=r.map(h,function(e){return r.render(u,r.create_context(e),n,!0)}).join(""):r.is_object(h)?c=r.render(u,r.create_context(h),n,!0):typeof h=="function"?c=h.call(t,u,function(e){return r.render(e,t,n,!0)}):h?c=r.render(u,t,n,!0):c=""),f+c+l})},render_tags:function(e,t,n,r){var i=this,s=function(){return i.getCachedRegex("render_tags",function(e,t){return new RegExp(e+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+t+"+","g")})},u=s(),a=function(e,r,a){switch(r){case"!":return"";case"=":return i.set_delimiters(a),u=s(),"";case">":return i.render_partial(a,t,n);case"{":case"&":return i.find(a,t);default:return o(i.find(a,t))}},f=e.split("\n");for(var l=0;l<f.length;l++)f[l]=f[l].replace(u,a,this),r||this.send(f[l]);if(r)return f.join("\n")},set_delimiters:function(e){var t=e.split(" ");this.otag=this.escape_regex(t[0]),this.ctag=this.escape_regex(t[1])},escape_regex:function(e){if(!arguments.callee.sRE){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+t.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},find:function(e,t){function r(e){return e===!1||e===0||e}e=n(e);var i;if(e.match(/([a-z_]+)\./ig)){var s=this.walk_context(e,t);r(s)&&(i=s)}else r(t[e])?i=t[e]:r(this.context[e])&&(i=this.context[e]);return typeof i=="function"?i.apply(t):i!==undefined?i:""},walk_context:function(e,t){var n=e.split("."),r=t[n[0]]!=undefined?t:this.context,i=r[n.shift()];while(i!=undefined&&n.length>0)r=i,i=i[n.shift()];return typeof i=="function"?i.apply(r):i},includes:function(e,t){return t.indexOf(this.otag+e)!=-1},create_context:function(e){if(this.is_object(e))return e;var t=".";this.pragmas["IMPLICIT-ITERATOR"]&&(t=this.pragmas["IMPLICIT-ITERATOR"].iterator);var n={};return n[t]=e,n},is_object:function(e){return e&&typeof e=="object"},map:function(e,t){if(typeof e.map=="function")return e.map(t);var n=[],r=e.length;for(var i=0;i<r;i++)n.push(t(e[i]));return n},getCachedRegex:function(e,t){var n=u[this.otag];n||(n=u[this.otag]={});var r=n[this.ctag];r||(r=n[this.ctag]={});var i=r[e];return i||(i=r[e]=t(this.otag,this.ctag)),i}},{name:"mustache.js",version:"0.4.0",to_html:function(e,t,n,r){var i=new a;r&&(i.send=r),i.render(e,t||{},n);if(!r)return i.buffer.join("\n")}}}();(function(){function t(e){return"".trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}var n={VERSION:"0.10",templates:{},$:typeof window!="undefined"?window.jQuery||window.Zepto||null:null,addTemplate:function(t,r){if(typeof t=="object"){for(var i in t)this.addTemplate(i,t[i]);return}n[t]?console.error("Invalid name: "+t+"."):n.templates[t]?console.error('Template "'+t+'  " exists'):(n.templates[t]=r,n[t]=function(r,i){r=r||{};var s=e.to_html(n.templates[t],r,n.templates);return n.$&&!i?n.$(s):s})},clearAll:function(){for(var e in n.templates)delete n[e];n.templates={}},refresh:function(){n.clearAll(),n.grabTemplates()},grabTemplates:function(){var e,r=document.getElementsByTagName("script"),i,s=[];for(e=0,l=r.length;e<l;e++)i=r[e],i&&i.innerHTML&&i.id&&(i.type==="text/html"||i.type==="text/x-icanhaz")&&(n.addTemplate(i.id,t(i.innerHTML)),s.unshift(i));for(e=0,l=s.length;e<l;e++)s[e].parentNode.removeChild(s[e])}};typeof require!="undefined"?module.exports=n:window.ich=n,typeof document!="undefined"&&(n.$?n.$(function(){n.grabTemplates()}):document.addEventListener("DOMContentLoaded",function(){n.grabTemplates()},!0))})()})(),function(e,t){function o(e){return!!(e===""||e&&e.charCodeAt&&e.substr)}function u(e){return i?i(e):s.call(e)==="[object Array]"}function a(e){return e&&s.call(e)==="[object Object]"}function f(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&e[n]==null&&(e[n]=t[n]);return e}function l(e,t,n){var i=[],s,o;if(!e)return i;if(r&&e.map===r)return e.map(t,n);for(s=0,o=e.length;s<o;s++)i[s]=t.call(n,e[s],s,e);return i}function c(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function h(e){var t=n.settings.currency.format;return typeof e=="function"&&(e=e()),o(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:!e||!e.pos||!e.pos.match("%v")?o(t)?n.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t:e}var n={};n.version="0.3.2",n.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var r=Array.prototype.map,i=Array.isArray,s=Object.prototype.toString,p=n.unformat=n.parse=function(e,t){if(u(e))return l(e,function(e){return p(e,t)});e=e||0;if(typeof e=="number")return e;t=t||n.settings.number.decimal;var r=new RegExp("[^0-9-"+t+"]",["g"]),i=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(r,"").replace(t,"."));return isNaN(i)?0:i},d=n.toFixed=function(e,t){t=c(t,n.settings.number.precision);var r=Math.pow(10,t);return(Math.round(n.unformat(e)*r)/r).toFixed(t)},v=n.formatNumber=function(e,t,r,i){if(u(e))return l(e,function(e){return v(e,t,r,i)});e=p(e);var s=f(a(t)?t:{precision:t,thousand:r,decimal:i},n.settings.number),o=c(s.precision),h=e<0?"-":"",m=parseInt(d(Math.abs(e||0),o),10)+"",g=m.length>3?m.length%3:0;return h+(g?m.substr(0,g)+s.thousand:"")+m.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+s.thousand)+(o?s.decimal+d(Math.abs(e),o).split(".")[1]:"")},m=n.formatMoney=function(e,t,r,i,s,o){if(u(e))return l(e,function(e){return m(e,t,r,i,s,o)});e=p(e);var d=f(a(t)?t:{symbol:t,precision:r,thousand:i,decimal:s,format:o},n.settings.currency),g=h(d.format),y=e>0?g.pos:e<0?g.neg:g.zero;return y.replace("%s",d.symbol).replace("%v",v(Math.abs(e),c(d.precision),d.thousand,d.decimal))};n.formatColumn=function(e,t,r,i,s,d){if(!e)return[];var m=f(a(t)?t:{symbol:t,precision:r,thousand:i,decimal:s,format:d},n.settings.currency),g=h(m.format),y=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,b=0,w=l(e,function(e,t){if(u(e))return n.formatColumn(e,m);e=p(e);var r=e>0?g.pos:e<0?g.neg:g.zero,i=r.replace("%s",m.symbol).replace("%v",v(Math.abs(e),c(m.precision),m.thousand,m.decimal));return i.length>b&&(b=i.length),i});return l(w,function(e,t){return o(e)&&e.length<b?y?e.replace(m.symbol,m.symbol+(new Array(b-e.length+1)).join(" ")):(new Array(b-e.length+1)).join(" ")+e:e})},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports.accounting=n):typeof define=="function"&&define.amd?define([],function(){return n}):(n.noConflict=function(r){return function(){return e.accounting=r,n.noConflict=t,n}}(e.accounting),e.accounting=n)}(this),Raphael.fn.g.barchart=function(e,t,n,r,i,s){s=s||{};var o={round:"round",sharp:"sharp",soft:"soft"}[s.type]||"square",u=parseFloat(s.gutter||"20%"),a=this.set(),f=this.set(),l=this.set(),c=this.set(),h=Math.max.apply(Math,i),p=[],d=this,v=0,m=s.colors||this.g.colors,g=i.length;if(this.raphael.is(i[0],"array")){h=[],v=g,g=0;for(var y=i.length;y--;)f.push(this.set()),h.push(Math.max.apply(Math,i[y])),g=Math.max(g,i[y].length);if(s.stacked)for(var y=g;y--;){var b=0;for(var w=i.length;w--;)b+=+i[w][y]||0;p.push(b)}for(var y=i.length;y--;)if(i[y].length<g)for(var w=g;w--;)i[y].push(0);h=Math.max.apply(Math,s.stacked?p:h)}h=s.to||h;var E=n/(g*(100+u)+u)*100,S=E*u/100,x=s.vgutter==null?20:s.vgutter,T=[],N=e+S,C=(r-2*x)/h;s.stretch||(S=Math.round(S),E=Math.floor(E)),!s.stacked&&(E/=v||1);for(var y=0;y<g;y++){T=[];for(var w=0;w<(v||1);w++){var k=Math.round((v?i[w][y]:i[y])*C),L=t+r-x-k,A=this.g.finger(Math.round(N+E/2),L+k,E,k,!0,o).attr({stroke:"none",fill:m[v?w:y]});v?f[w].push(A):f.push(A),A.y=L,A.x=Math.round(N+E/2),A.w=E,A.h=k,A.value=v?i[w][y]:i[y],s.stacked?T.push(A):N+=E}if(s.stacked){var O;c.push(O=this.rect(T[0].x-T[0].w/2,t,E,r).attr(this.g.shim)),O.bars=this.set();var M=0;for(var _=T.length;_--;)T[_].toFront();for(var _=0,D=T.length;_<D;_++){var A=T[_],P,k=(M+A.value)*C,H=this.g.finger(A.x,t+r-x-!!M*.5,E,k,!0,o,1);O.bars.push(A),M&&A.attr({path:H}),A.h=k,A.y=t+r-x-!!M*.5-k,l.push(P=this.rect(A.x-A.w/2,A.y,E,A.value*C).attr(this.g.shim)),P.bar=A,P.value=A.value,M+=A.value}N+=E}N+=S}c.toFront(),N=e+S;if(!s.stacked)for(var y=0;y<g;y++){for(var w=0;w<(v||1);w++){var P;l.push(P=this.rect(Math.round(N),t+x,E,r-x).attr(this.g.shim)),P.bar=v?f[w][y]:f[y],P.value=P.bar.value,N+=E}N+=S}return a.label=function(e,n){e=e||[],this.labels=d.set();var o,u=-Infinity;if(s.stacked)for(var a=0;a<g;a++){var c=0;for(var p=0;p<(v||1);p++){c+=v?i[p][a]:i[a];if(p==v-1){var m=d.g.labelise(e[a],c,h);o=d.g.text(f[a*(v||1)+p].x,t+r-x/2,m).insertBefore(l[a*(v||1)+p]);var y=o.getBBox();y.x-7<u?o.remove():(this.labels.push(o),u=y.x+y.width)}}}else for(var a=0;a<g;a++)for(var p=0;p<(v||1);p++){var m=d.g.labelise(v?e[p]&&e[p][a]:e[a],v?i[p][a]:i[a],h);o=d.g.text(f[a*(v||1)+p].x,n?t+r-x/2:f[a*(v||1)+p].y-10,m).insertBefore(l[a*(v||1)+p]);var y=o.getBBox();y.x-7<u?o.remove():(this.labels.push(o),u=y.x+y.width)}return this},a.hover=function(e,t){return c.hide(),l.show(),l.mouseover(e).mouseout(t),this},a.hoverColumn=function(e,t){return l.hide(),c.show(),t=t||function(){},c.mouseover(e).mouseout(t),this},a.click=function(e){return c.hide(),l.show(),l.click(e),this},a.each=function(e){if(!Raphael.is(e,"function"))return this;for(var t=l.length;t--;)e.call(l[t]);return this},a.eachColumn=function(e){if(!Raphael.is(e,"function"))return this;for(var t=c.length;t--;)e.call(c[t]);return this},a.clickColumn=function(e){return l.hide(),c.show(),c.click(e),this},a.push(f,l,c),a.bars=f,a.covers=l,a},Raphael.fn.g.hbarchart=function(e,t,n,r,i,s){s=s||{};var o={round:"round",sharp:"sharp",soft:"soft"}[s.type]||"square",u=parseFloat(s.gutter||"20%"),a=this.set(),f=this.set(),l=this.set(),c=this.set(),h=Math.max.apply(Math,i),p=[],d=this,v=0,m=s.colors||this.g.colors,g=i.length;if(this.raphael.is(i[0],"array")){h=[],v=g,g=0;for(var y=i.length;y--;)f.push(this.set()),h.push(Math.max.apply(Math,i[y])),g=Math.max(g,i[y].length);if(s.stacked)for(var y=g;y--;){var b=0;for(var w=i.length;w--;)b+=+i[w][y]||0;p.push(b)}for(var y=i.length;y--;)if(i[y].length<g)for(var w=g;w--;)i[y].push(0);h=Math.max.apply(Math,s.stacked?p:h)}h=s.to||h;var E=Math.floor(r/(g*(100+u)+u)*100),S=Math.floor(E*u/100),x=[],T=t+S,N=(n-1)/h;!s.stacked&&(E/=v||1);for(var y=0;y<g;y++){x=[];for(var w=0;w<(v||1);w++){var C=v?i[w][y]:i[y],k=this.g.finger(e,T+E/2,Math.round(C*N),E-1,!1,o).attr({stroke:"none",fill:m[v?w:y]});v?f[w].push(k):f.push(k),k.x=e+Math.round(C*N),k.y=T+E/2,k.w=Math.round(C*N),k.h=E,k.value=+C,s.stacked?x.push(k):T+=E}if(s.stacked){var L=this.rect(e,x[0].y-x[0].h/2,n,E).attr(this.g.shim);c.push(L),L.bars=this.set();var A=0;for(var O=x.length;O--;)x[O].toFront();for(var O=0,M=x.length;O<M;O++){var k=x[O],_,C=Math.round((A+k.value)*N),D=this.g.finger(e,k.y,C,E-1,!1,o,1);L.bars.push(k),A&&k.attr({path:D}),k.w=C,k.x=e+C,l.push(_=this.rect(e+A*N,k.y-k.h/2,k.value*N,E).attr(this.g.shim)),_.bar=k,A+=k.value}T+=E}T+=S}c.toFront(),T=t+S;if(!s.stacked)for(var y=0;y<g;y++){for(var w=0;w<(v||1);w++){var _=this.rect(e,T,n,E).attr(this.g.shim);l.push(_),_.bar=v?f[w][y]:f[y],_.value=_.bar.value,T+=E}T+=S}return a.label=function(t,n){t=t||[],this.labels=d.set();for(var r=0;r<g;r++)for(var s=0;s<v;s++){var o=d.g.labelise(v?t[s]&&t[s][r]:t[r],v?i[s][r]:i[r],h),u=n?f[r*(v||1)+s].x-E/2+3:e+5,a=n?"end":"start",c;this.labels.push(c=d.g.text(u,f[r*(v||1)+s].y,o).attr({"text-anchor":a}).insertBefore(l[0])),c.getBBox().x<e+5?c.attr({x:e+5,"text-anchor":"start"}):f[r*(v||1)+s].label=c}return this},a.hover=function(e,t){return c.hide(),l.show(),t=t||function(){},l.mouseover(e).mouseout(t),this},a.hoverColumn=function(e,t){return l.hide(),c.show(),t=t||function(){},c.mouseover(e).mouseout(t),this},a.each=function(e){if(!Raphael.is(e,"function"))return this;for(var t=l.length;t--;)e.call(l[t]);return this},a.eachColumn=function(e){if(!Raphael.is(e,"function"))return this;for(var t=c.length;t--;)e.call(c[t]);return this},a.click=function(e){return c.hide(),l.show(),l.click(e),this},a.clickColumn=function(e){return l.hide(),c.show(),c.click(e),this},a.push(f,l,c),a.bars=f,a.covers=l,a},function(){function n(n,r,i,s,o,u,a,f){var l,c={round:"round",sharp:"sharp",soft:"soft",square:"square"};if(o&&!s||!o&&!i)return a?"":f.path();u=c[u]||"square",s=Math.round(s),i=Math.round(i),n=Math.round(n),r=Math.round(r);switch(u){case"round":if(!o){var h=~~(s/2);i<h?(h=i,l=["M",n+.5,r+.5-~~(s/2),"l",0,0,"a",h,~~(s/2),0,0,1,0,s,"l",0,0,"z"]):l=["M",n+.5,r+.5-h,"l",i-h,0,"a",h,h,0,1,1,0,s,"l",h-i,0,"z"]}else h=~~(i/2),s<h?(h=s,l=["M",n-~~(i/2),r,"l",0,0,"a",~~(i/2),h,0,0,1,i,0,"l",0,0,"z"]):l=["M",n-h,r,"l",0,h-s,"a",h,h,0,1,1,i,0,"l",0,s-h,"z"];break;case"sharp":if(!o){var p=~~(s/2);l=["M",n,r+p,"l",0,-s,t(i-p,0),0,e(p,i),p,-e(p,i),p+(p*2<s),"z"]}else p=~~(i/2),l=["M",n+p,r,"l",-i,0,0,-t(s-p,0),p,-e(p,s),p,e(p,s),p,"z"];break;case"square":o?l=["M",n+~~(i/2),r,"l",1-i,0,0,-s,i-1,0,"z"]:l=["M",n,r+~~(s/2),"l",0,-s,i,0,0,s,"z"];break;case"soft":o?(h=e(Math.round(i/5),s),l=["M",n-~~(i/2),r,"l",0,h-s,"a",h,h,0,0,1,h,-h,"l",i-2*h,0,"a",h,h,0,0,1,h,h,"l",0,s-h,"z"]):(h=e(i,Math.round(s/5)),l=["M",n+.5,r+.5-~~(s/2),"l",i-h,0,"a",h,h,0,0,1,h,h,"l",0,s-h*2,"a",h,h,0,0,1,-h,h,"l",h-i,0,"z"])}return a?l.join(","):f.path(l)}function r(e,t,r,i,s,o,u){u=u||{};var a=this,f=u.type||"square",l=parseFloat(u.gutter||"20%"),c=e.set(),h=e.set(),p=e.set(),d=e.set(),v=Math.max.apply(Math,o),m=[],g=0,y=u.colors||a.colors,b=o.length;if(Raphael.is(o[0],"array")){v=[],g=b,b=0;for(var w=o.length;w--;)h.push(e.set()),v.push(Math.max.apply(Math,o[w])),b=Math.max(b,o[w].length);if(u.stacked)for(var w=b;w--;){var E=0;for(var S=o.length;S--;)E+=+o[S][w]||0;m.push(E)}for(var w=o.length;w--;)if(o[w].length<b)for(var S=b;S--;)o[w].push(0);v=Math.max.apply(Math,u.stacked?m:v)}v=u.to||v;var x=i/(b*(100+l)+l)*100,T=x*l/100,N=u.vgutter==null?20:u.vgutter,C=[],k=t+T,L=(s-2*N)/v;u.stretch||(T=Math.round(T),x=Math.floor(x)),!u.stacked&&(x/=g||1);for(var w=0;w<b;w++){C=[];for(var S=0;S<(g||1);S++){var A=Math.round((g?o[S][w]:o[w])*L),O=r+s-N-A,M=n(Math.round(k+x/2),O+A,x,A,!0,f,null,e).attr({stroke:"none",fill:y[g?S:w]});g?h[S].push(M):h.push(M),M.y=O,M.x=Math.round(k+x/2),M.w=x,M.h=A,M.value=g?o[S][w]:o[w],u.stacked?C.push(M):k+=x}if(u.stacked){var _;d.push(_=e.rect(C[0].x-C[0].w/2,r,x,s).attr(a.shim)),_.bars=e.set();var D=0;for(var P=C.length;P--;)C[P].toFront();for(var P=0,H=C.length;P<H;P++){var M=C[P],B,A=(D+M.value)*L,j=n(M.x,r+s-N-!!D*.5,x,A,!0,f,1,e);_.bars.push(M),D&&M.attr({path:j}),M.h=A,M.y=r+s-N-!!D*.5-A,p.push(B=e.rect(M.x-M.w/2,M.y,x,M.value*L).attr(a.shim)),B.bar=M,B.value=M.value,D+=M.value}k+=x}k+=T}d.toFront(),k=t+T;if(!u.stacked)for(var w=0;w<b;w++){for(var S=0;S<(g||1);S++){var B;p.push(B=e.rect(Math.round(k),r+N,x,s-N).attr(a.shim)),B.bar=g?h[S][w]:h[w],B.value=B.bar.value,k+=x}k+=T}return c.label=function(t,n){t=t||[],this.labels=e.set();var i,a=-Infinity;if(u.stacked)for(var f=0;f<b;f++){var l=0;for(var c=0;c<(g||1);c++){l+=g?o[c][f]:o[f];if(c==g-1){var d=e.labelise(t[f],l,v);i=e.text(h[f*(g||1)+c].x,r+s-N/2,d).attr(txtattr).insertBefore(p[f*(g||1)+c]);var m=i.getBBox();m.x-7<a?i.remove():(this.labels.push(i),a=m.x+m.width)}}}else for(var f=0;f<b;f++)for(var c=0;c<(g||1);c++){var d=e.labelise(g?t[c]&&t[c][f]:t[f],g?o[c][f]:o[f],v);i=e.text(h[f*(g||1)+c].x,n?r+s-N/2:h[f*(g||1)+c].y-10,d).attr(txtattr).insertBefore(p[f*(g||1)+c]);var m=i.getBBox();m.x-7<a?i.remove():(this.labels.push(i),a=m.x+m.width)}return this},c.hover=function(e,t){return d.hide(),p.show(),p.mouseover(e).mouseout(t),this},c.hoverColumn=function(e,t){return p.hide(),d.show(),t=t||function(){},d.mouseover(e).mouseout(t),this},c.click=function(e){return d.hide(),p.show(),p.click(e),this},c.each=function(e){if(!Raphael.is(e,"function"))return this;for(var t=p.length;t--;)e.call(p[t]);return this},c.eachColumn=function(e){if(!Raphael.is(e,"function"))return this;for(var t=d.length;t--;)e.call(d[t]);return this},c.clickColumn=function(e){return p.hide(),d.show(),d.click(e),this},c.push(h,p,d),c.bars=h,c.covers=p,c}function s(e,t,r,i,s,o,u){u=u||{};var a=this,f=u.type||"square",l=parseFloat(u.gutter||"20%"),c=e.set(),h=e.set(),p=e.set(),d=e.set(),v=Math.max.apply(Math,o),m=[],g=0,y=u.colors||a.colors,b=o.length;if(Raphael.is(o[0],"array")){v=[],g=b,b=0;for(var w=o.length;w--;)h.push(e.set()),v.push(Math.max.apply(Math,o[w])),b=Math.max(b,o[w].length);if(u.stacked)for(var w=b;w--;){var E=0;for(var S=o.length;S--;)E+=+o[S][w]||0;m.push(E)}for(var w=o.length;w--;)if(o[w].length<b)for(var S=b;S--;)o[w].push(0);v=Math.max.apply(Math,u.stacked?m:v)}v=u.to||v;var x=Math.floor(s/(b*(100+l)+l)*100),T=Math.floor(x*l/100),N=[],C=r+T,k=(i-1)/v;!u.stacked&&(x/=g||1);for(var w=0;w<b;w++){N=[];for(var S=0;S<(g||1);S++){var L=g?o[S][w]:o[w],A=n(t,C+x/2,Math.round(L*k),x-1,!1,f,null,e).attr({stroke:"none",fill:y[g?S:w]});g?h[S].push(A):h.push(A),A.x=t+Math.round(L*k),A.y=C+x/2,A.w=Math.round(L*k),A.h=x,A.value=+L,u.stacked?N.push(A):C+=x}if(u.stacked){var O=e.rect(t,N[0].y-N[0].h/2,i,x).attr(a.shim);d.push(O),O.bars=e.set();var M=0;for(var _=N.length;_--;)N[_].toFront();for(var _=0,D=N.length;_<D;_++){var A=N[_],P,L=Math.round((M+A.value)*k),H=n(t,A.y,L,x-1,!1,f,1,e);O.bars.push(A),M&&A.attr({path:H}),A.w=L,A.x=t+L,p.push(P=e.rect(t+M*k,A.y-A.h/2,A.value*k,x).attr(a.shim)),P.bar=A,M+=A.value}C+=x}C+=T}d.toFront(),C=r+T;if(!u.stacked)for(var w=0;w<b;w++){for(var S=0;S<(g||1);S++){var P=e.rect(t,C,i,x).attr(a.shim);p.push(P),P.bar=g?h[S][w]:h[w],P.value=P.bar.value,C+=x}C+=T}return c.label=function(n,r){n=n||[],this.labels=e.set();for(var i=0;i<b;i++)for(var s=0;s<g;s++){var u=e.labelise(g?n[s]&&n[s][i]:n[i],g?o[s][i]:o[i],v),a=r?h[i*(g||1)+s].x-x/2+3:t+5,f=r?"end":"start",l;this.labels.push(l=e.text(a,h[i*(g||1)+s].y,u).attr(txtattr).attr({"text-anchor":f}).insertBefore(p[0])),l.getBBox().x<t+5?l.attr({x:t+5,"text-anchor":"start"}):h[i*(g||1)+s].label=l}return this},c.hover=function(e,t){return d.hide(),p.show(),t=t||function(){},p.mouseover(e).mouseout(t),this},c.hoverColumn=function(e,t){return p.hide(),d.show(),t=t||function(){},d.mouseover(e).mouseout(t),this},c.each=function(e){if(!Raphael.is(e,"function"))return this;for(var t=p.length;t--;)e.call(p[t]);return this},c.eachColumn=function(e){if(!Raphael.is(e,"function"))return this;for(var t=d.length;t--;)e.call(d[t]);return this},c.click=function(e){return d.hide(),p.show(),p.click(e),this},c.clickColumn=function(e){return p.hide(),d.show(),d.click(e),this},c.push(h,p,d),c.bars=h,c.covers=p,c}var e=Math.min,t=Math.max,i=function(){};i.prototype=Raphael.g,s.prototype=r.prototype=new i,Raphael.fn.barchart=function(e,t,n,i,s,o){return new r(this,e,t,n,i,s,o)},Raphael.fn.hbarchart=function(e,t,n,r,i,o){return new s(this,e,t,n,r,i,o)}}(),function(){var e=Math.max,t=Math.min;Raphael.fn.g=Raphael.fn.g||{},Raphael.fn.g.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"},Raphael.fn.g.shim={stroke:"none",fill:"#000","fill-opacity":0},Raphael.fn.g.txtattr={font:"12px Arial, sans-serif"},Raphael.fn.g.colors=[];var n=[.6,.2,.05,.1333,.75,0];for(var i=0;i<10;i++)i<n.length?Raphael.fn.g.colors.push("hsb("+n[i]+", .75, .75)"):Raphael.fn.g.colors.push("hsb("+n[i-n.length]+", 1, .5)");Raphael.fn.g.text=function(e,t,n){return this.text(e,t,n).attr(this.g.txtattr)},Raphael.fn.g.labelise=function(e,t,n){return e?(e+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(e,r,i){if(r)return(+t).toFixed(r.replace(/^#+\.?/g,"").length);if(i)return(t*100/n).toFixed(i.replace(/^%+\.?/g,"").length)+"%"}):(+t).toFixed(0)},Raphael.fn.g.finger=function(n,r,i,s,o,u,f){if(o&&!s||!o&&!i)return f?"":this.path();u={square:"square",sharp:"sharp",soft:"soft"}[u]||"round";var l;s=Math.round(s),i=Math.round(i),n=Math.round(n),r=Math.round(r);switch(u){case"round":if(!o){var h=~~(s/2);i<h?(h=i,l=["M",n+.5,r+.5-~~(s/2),"l",0,0,"a",h,~~(s/2),0,0,1,0,s,"l",0,0,"z"]):l=["M",n+.5,r+.5-h,"l",i-h,0,"a",h,h,0,1,1,0,s,"l",h-i,0,"z"]}else h=~~(i/2),s<h?(h=s,l=["M",n-~~(i/2),r,"l",0,0,"a",~~(i/2),h,0,0,1,i,0,"l",0,0,"z"]):l=["M",n-h,r,"l",0,h-s,"a",h,h,0,1,1,i,0,"l",0,s-h,"z"];break;case"sharp":if(!o){var p=~~(s/2);l=["M",n,r+p,"l",0,-s,e(i-p,0),0,t(p,i),p,-t(p,i),p+(p*2<s),"z"]}else p=~~(i/2),l=["M",n+p,r,"l",-i,0,0,-e(s-p,0),p,-t(p,s),p,t(p,s),p,"z"];break;case"square":o?l=["M",n+~~(i/2),r,"l",1-i,0,0,-s,i-1,0,"z"]:l=["M",n,r+~~(s/2),"l",0,-s,i,0,0,s,"z"];break;case"soft":o?(h=t(Math.round(i/5),s),l=["M",n-~~(i/2),r,"l",0,h-s,"a",h,h,0,0,1,h,-h,"l",i-2*h,0,"a",h,h,0,0,1,h,h,"l",0,s-h,"z"]):(h=t(i,Math.round(s/5)),l=["M",n+.5,r+.5-~~(s/2),"l",i-h,0,"a",h,h,0,0,1,h,h,"l",0,s-h*2,"a",h,h,0,0,1,-h,h,"l",h-i,0,"z"])}return f?l.join(","):this.path(l)},Raphael.fn.g.disc=function(e,t,n){return this.circle(e,t,n)},Raphael.fn.g.line=function(e,t,n){return this.rect(e-n,t-n/5,2*n,2*n/5)},Raphael.fn.g.square=function(e,t,n){return n*=.7,this.rect(e-n,t-n,2*n,2*n)},Raphael.fn.g.triangle=function(e,t,n){return n*=1.75,this.path("M".concat(e,",",t,"m0-",n*.58,"l",n*.5,",",n*.87,"-",n,",0z"))},Raphael.fn.g.diamond=function(e,t,n){return this.path(["M",e,t-n,"l",n,n,-n,n,-n,-n,n,-n,"z"])},Raphael.fn.g.flower=function(e,t,n,r){n*=1.25;var i=n,s=i*.5;r=+r<3||!r?5:r;var o=["M",e,t+s,"Q"],u;for(var a=1;a<r*2+1;a++)u=a%2?i:s,o=o.concat([+(e+u*Math.sin(a*Math.PI/r)).toFixed(3),+(t+u*Math.cos(a*Math.PI/r)).toFixed(3)]);return o.push("z"),this.path(o.join(","))},Raphael.fn.g.star=function(e,t,n,r,i){r=r||n*.382,i=i||5;var s=["M",e,t+r,"L"],o;for(var u=1;u<i*2;u++)o=u%2?n:r,s=s.concat([e+o*Math.sin(u*Math.PI/i),t+o*Math.cos(u*Math.PI/i)]);return s.push("z"),this.path(s.join(","))},Raphael.fn.g.cross=function(e,t,n){return n/=2.5,this.path("M".concat(e-n,",",t,"l",[-n,-n,n,-n,n,n,n,-n,n,n,-n,n,n,n,-n,n,-n,-n,-n,n,-n,-n,"z"]))},Raphael.fn.g.plus=function(e,t,n){return n/=2,this.path("M".concat(e-n/2,",",t-n/2,"l",[0,-n,n,0,0,n,n,0,0,n,-n,0,0,n,-n,0,0,-n,-n,0,0,-n,"z"]))},Raphael.fn.g.arrow=function(e,t,n){return this.path("M".concat(e-n*.7,",",t-n*.4,"l",[n*.6,0,0,-n*.4,n,n*.8,-n,n*.8,0,-n*.4,-n*.6,0],"z"))},Raphael.fn.g.tag=function(e,t,n,r,i){r=r||0,i=i==null?5:i,n=n==null?"$9.99":n;var s=.5522*i,o=this.set(),u=3;return o.push(this.path().attr({fill:"#000",stroke:"#000"})),o.push(this.text(e,t,n).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"})),o.update=function(){this.rotate(0,e,t);var n=this[1].getBBox();if(n.height>=i*2)this[0].attr({path:["M",e,t+i,"a",i,i,0,1,1,0,-i*2,i,i,0,1,1,0,i*2,"m",0,-i*2-u,"a",i+u,i+u,0,1,0,0,(i+u)*2,"L",e+i+u,t+n.height/2+u,"l",n.width+2*u,0,0,-n.height-2*u,-n.width-2*u,0,"L",e,t-i-u].join(",")});else{var o=Math.sqrt(Math.pow(i+u,2)-Math.pow(n.height/2+u,2));this[0].attr({path:["M",e,t+i,"c",-s,0,-i,s-i,-i,-i,0,-s,i-s,-i,i,-i,s,0,i,i-s,i,i,0,s,s-i,i,-i,i,"M",e+o,t-n.height/2-u,"a",i+u,i+u,0,1,0,0,n.height+2*u,"l",i+u-o+n.width+2*u,0,0,-n.height-2*u,"L",e+o,t-n.height/2-u].join(",")})}return this[1].attr({x:e+i+u+n.width/2,y:t}),r=(360-r)%360,this.rotate(r,e,t),r>90&&r<270&&this[1].attr({x:e-i-u-n.width/2,y:t,rotation:[180+r,e,t]}),this},o.update(),o},Raphael.fn.g.popupit=function(t,n,r,i,s){i=i==null?2:i,s=s||5,t=Math.round(t),n=Math.round(n);var o=r.getBBox(),u=Math.round(o.width/2),f=Math.round(o.height/2),l=[0,u+s*2,0,-u-s*2],c=[-f*2-s*3,-f-s,0,-f-s],h=["M",t-l[i],n-c[i],"l",-s,(i==2)*-s,-e(u-s,0),0,"a",s,s,0,0,1,-s,-s,"l",0,-e(f-s,0),(i==3)*-s,-s,(i==3)*s,-s,0,-e(f-s,0),"a",s,s,0,0,1,s,-s,"l",e(u-s,0),0,s,!i*-s,s,!i*s,e(u-s,0),0,"a",s,s,0,0,1,s,s,"l",0,e(f-s,0),(i==1)*s,s,(i==1)*-s,s,0,e(f-s,0),"a",s,s,0,0,1,-s,s,"l",-e(u-s,0),0,"z"].join(","),p=[{x:t,y:n+s*2+f},{x:t-s*2-u,y:n},{x:t,y:n-s*2-f},{x:t+s*2+u,y:n}][i];return r.translate(p.x-u-o.x,p.y-f-o.y),this.path(h).attr({fill:"#000",stroke:"none"}).insertBefore(r.node?r:r[0])},Raphael.fn.g.popup=function(t,n,r,i,s){i=i==null?2:i>3?3:i,s=s||5,r=r||"$9.99";var o=this.set(),u=3;return o.push(this.path().attr({fill:"#000",stroke:"#000"})),o.push(this.text(t,n,r).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"})),o.update=function(r,o,u){r=r||t,o=o||n;var c=this[1].getBBox(),h=c.width/2,p=c.height/2,d=[0,h+s*2,0,-h-s*2],v=[-p*2-s*3,-p-s,0,-p-s],m=["M",r-d[i],o-v[i],"l",-s,(i==2)*-s,-e(h-s,0),0,"a",s,s,0,0,1,-s,-s,"l",0,-e(p-s,0),(i==3)*-s,-s,(i==3)*s,-s,0,-e(p-s,0),"a",s,s,0,0,1,s,-s,"l",e(h-s,0),0,s,!i*-s,s,!i*s,e(h-s,0),0,"a",s,s,0,0,1,s,s,"l",0,e(p-s,0),(i==1)*s,s,(i==1)*-s,s,0,e(p-s,0),"a",s,s,0,0,1,-s,s,"l",-e(h-s,0),0,"z"].join(","),y=[{x:r,y:o+s*2+p},{x:r-s*2-h,y:o},{x:r,y:o-s*2-p},{x:r+s*2+h,y:o}][i];return y.path=m,u?this.animate(y,500,">"):this.attr(y),this},o.update(t,n)},Raphael.fn.g.flag=function(e,t,n,i){i=i||0,n=n||"$9.99";var s=this.set(),o=3;return s.push(this.path().attr({fill:"#000",stroke:"#000"})),s.push(this.text(e,t,n).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"})),s.update=function(e,t){this.rotate(0,e,t);var n=this[1].getBBox(),s=n.height/2;return this[0].attr({path:["M",e,t,"l",s+o,-s-o,n.width+2*o,0,0,n.height+2*o,-n.width-2*o,0,"z"].join(",")}),this[1].attr({x:e+s+o+n.width/2,y:t}),i=360-i,this.rotate(i,e,t),i>90&&i<270&&this[1].attr({x:e-r-o-n.width/2,y:t,rotation:[180+i,e,t]}),this},s.update(e,t)},Raphael.fn.g.label=function(e,n,r){var i=this.set();return i.push(this.rect(e,n,10,10).attr({stroke:"none",fill:"#000"})),i.push(this.text(e,n,r).attr(this.g.txtattr).attr({fill:"#fff"})),i.update=function(){var e=this[1].getBBox(),n=t(e.width+10,e.height+10)/2;this[0].attr({x:e.x-n/2,y:e.y-n/2,width:e.width+n,height:e.height+n,r:n})},i.update(),i},Raphael.fn.g.labelit=function(e){var n=e.getBBox(),r=t(20,n.width+10,n.height+10)/2;return this.rect(n.x-r/2,n.y-r/2,n.width+r,n.height+r,r).attr({stroke:"none",fill:"#000"}).insertBefore(e.node?e:e[0])},Raphael.fn.g.drop=function(e,t,n,r,i){r=r||30,i=i||0;var s=this.set();return s.push(this.path(["M",e,t,"l",r,0,"A",r*.4,r*.4,0,1,0,e+r*.7,t-r*.7,"z"]).attr({fill:"#000",stroke:"none",rotation:[22.5-i,e,t]})),i=(i+90)*Math.PI/180,s.push(this.text(e+r*Math.sin(i),t+r*Math.cos(i),n).attr(this.g.txtattr).attr({"font-size":r*12/30,fill:"#fff"})),s.drop=s[0],s.text=s[1],s},Raphael.fn.g.blob=function(t,n,r,i,s){i=(+i+1?i:45)+90,s=s||12;var o=Math.PI/180,u=s*12/12,f=this.set();return f.push(this.path().attr({fill:"#000",stroke:"none"})),f.push(this.text(t+s*Math.sin(i*o),n+s*Math.cos(i*o)-u/2,r).attr(this.g.txtattr).attr({"font-size":u,fill:"#fff"})),f.update=function(r,f,l){r=r||t,f=f||n;var c=this[1].getBBox(),h=e(c.width+u,s*25/12),p=e(c.height+u,s*25/12),d=r+s*Math.sin((i-22.5)*o),v=f+s*Math.cos((i-22.5)*o),y=r+s*Math.sin((i+22.5)*o),b=f+s*Math.cos((i+22.5)*o),w=(y-d)/2,E=(b-v)/2,S=h/2,x=p/2,T=-Math.sqrt(Math.abs(S*S*x*x-S*S*E*E-x*x*w*w)/(S*S*E*E+x*x*w*w)),N=T*S*E/x+(y+d)/2,C=T*-x*w/S+(b+v)/2;return l?this.animate({x:N,y:C,path:["M",t,n,"L",y,b,"A",S,x,0,1,1,d,v,"z"].join(",")},500,">"):this.attr({x:N,y:C,path:["M",t,n,"L",y,b,"A",S,x,0,1,1,d,v,"z"].join(",")}),this},f.update(t,n),f},Raphael.fn.g.colorValue=function(e,n,r,i){return"hsb("+[t((1-e/n)*.4,1),r||.75,i||.75]+")"},Raphael.fn.g.snapEnds=function(e,t,n){function s(e){return Math.abs(e-.5)<.25?~~e+.5:Math.round(e)}var r=e,i=t;if(r==i)return{from:r,to:i,power:0};var o=(i-r)/n,u=~~o,a=u,f=0;if(u){while(a)f--,a=~~(o*Math.pow(10,f))/Math.pow(10,f);f++}else{while(!u)f=f||1,u=~~(o*Math.pow(10,f))/Math.pow(10,f),f++;f&&f--}return i=s(t*Math.pow(10,f))/Math.pow(10,f),i<t&&(i=s((t+.5)*Math.pow(10,f))/Math.pow(10,f)),r=s((e-(f>0?0:.5))*Math.pow(10,f))/Math.pow(10,f),{from:r,to:i,power:f}},Raphael.fn.g.axis=function(e,t,n,r,i,s,o,u,a,f){f=f==null?2:f,a=a||"t",s=s||10;var l=a=="|"||a==" "?["M",e+.5,t,"l",0,.001]:o==1||o==3?["M",e+.5,t,"l",0,-n]:["M",e,t+.5,"l",n,0],c=this.g.snapEnds(r,i,s),h=c.from,p=c.to,v=c.power,m=0,g=this.set();d=(p-h)/s;var y=h,b=v>0?v:0;x=n/s;if(+o==1||+o==3){var w=t,E=(o-1?1:-1)*(f+3+!!(o-1));while(w>=t-n)a!="-"&&a!=" "&&(l=l.concat(["M",e-(a=="+"||a=="|"?f:!(o-1)*f*2),w+.5,"l",f*2+1,0])),g.push(this.text(e+E,w,u&&u[m++]||(Math.round(y)==y?y:+y.toFixed(b))).attr(this.g.txtattr).attr({"text-anchor":o-1?"start":"end"})),y+=d,w-=x;Math.round(w+x-(t-n))&&(a!="-"&&a!=" "&&(l=l.concat(["M",e-(a=="+"||a=="|"?f:!(o-1)*f*2),t-n+.5,"l",f*2+1,0])),g.push(this.text(e+E,
t-n,u&&u[m]||(Math.round(y)==y?y:+y.toFixed(b))).attr(this.g.txtattr).attr({"text-anchor":o-1?"start":"end"})))}else{y=h,b=(v>0)*v,E=(o?-1:1)*(f+9+!o);var S=e,x=n/s,T=0,N=0;while(S<=e+n){a!="-"&&a!=" "&&(l=l.concat(["M",S+.5,t-(a=="+"?f:!!o*f*2),"l",0,f*2+1])),g.push(T=this.text(S,t+E,u&&u[m++]||(Math.round(y)==y?y:+y.toFixed(b))).attr(this.g.txtattr));var C=T.getBBox();N>=C.x-5?g.pop(g.length-1).remove():N=C.x+C.width,y+=d,S+=x}Math.round(S-x-e-n)&&(a!="-"&&a!=" "&&(l=l.concat(["M",e+n+.5,t-(a=="+"?f:!!o*f*2),"l",0,f*2+1])),g.push(this.text(e+n,t+E,u&&u[m]||(Math.round(y)==y?y:+y.toFixed(b))).attr(this.g.txtattr)))}var k=this.path(l);return k.text=g,k.all=this.set([k,g]),k.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},k},Raphael.el.lighter=function(e){e=e||2;var n=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[n[0],n[1]],n[0]=Raphael.rgb2hsb(Raphael.getRGB(n[0]).hex),n[1]=Raphael.rgb2hsb(Raphael.getRGB(n[1]).hex),n[0].b=t(n[0].b*e,1),n[0].s=n[0].s/e,n[1].b=t(n[1].b*e,1),n[1].s=n[1].s/e,this.attr({fill:"hsb("+[n[0].h,n[0].s,n[0].b]+")",stroke:"hsb("+[n[1].h,n[1].s,n[1].b]+")"})},Raphael.el.darker=function(e){e=e||2;var n=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[n[0],n[1]],n[0]=Raphael.rgb2hsb(Raphael.getRGB(n[0]).hex),n[1]=Raphael.rgb2hsb(Raphael.getRGB(n[1]).hex),n[0].s=t(n[0].s*e,1),n[0].b=n[0].b/e,n[1].s=t(n[1].s*e,1),n[1].b=n[1].b/e,this.attr({fill:"hsb("+[n[0].h,n[0].s,n[0].b]+")",stroke:"hsb("+[n[1].h,n[1].s,n[1].b]+")"})},Raphael.el.original=function(){this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs)}}(),Raphael.el.popup=function(e,t,n,r){var i=this.paper||this[0].paper,s,o,u,a,f;if(!i)return;switch(this.type){case"text":case"circle":case"ellipse":u=!0;break;default:u=!1}e=e==null?"up":e,t=t||5,s=this.getBBox(),n=typeof n=="number"?n:u?s.x+s.width/2:s.x,r=typeof r=="number"?r:u?s.y+s.height/2:s.y,a=Math.max(s.width/2-t,0),f=Math.max(s.height/2-t,0),this.translate(n-s.x-(u?s.width/2:0),r-s.y-(u?s.height/2:0)),s=this.getBBox();var l={up:["M",n,r,"l",-t,-t,-a,0,"a",t,t,0,0,1,-t,-t,"l",0,-s.height,"a",t,t,0,0,1,t,-t,"l",t*2+a*2,0,"a",t,t,0,0,1,t,t,"l",0,s.height,"a",t,t,0,0,1,-t,t,"l",-a,0,"z"].join(","),down:["M",n,r,"l",t,t,a,0,"a",t,t,0,0,1,t,t,"l",0,s.height,"a",t,t,0,0,1,-t,t,"l",-(t*2+a*2),0,"a",t,t,0,0,1,-t,-t,"l",0,-s.height,"a",t,t,0,0,1,t,-t,"l",a,0,"z"].join(","),left:["M",n,r,"l",-t,t,0,f,"a",t,t,0,0,1,-t,t,"l",-s.width,0,"a",t,t,0,0,1,-t,-t,"l",0,-(t*2+f*2),"a",t,t,0,0,1,t,-t,"l",s.width,0,"a",t,t,0,0,1,t,t,"l",0,f,"z"].join(","),right:["M",n,r,"l",t,-t,0,-f,"a",t,t,0,0,1,t,-t,"l",s.width,0,"a",t,t,0,0,1,t,t,"l",0,t*2+f*2,"a",t,t,0,0,1,-t,t,"l",-s.width,0,"a",t,t,0,0,1,-t,-t,"l",0,-f,"z"].join(",")};return o={up:{x:-!u*(s.width/2),y:-t*2-(u?s.height/2:s.height)},down:{x:-!u*(s.width/2),y:t*2+(u?s.height/2:s.height)},left:{x:-t*2-(u?s.width/2:s.width),y:-!u*(s.height/2)},right:{x:t*2+(u?s.width/2:s.width),y:-!u*(s.height/2)}}[e],this.translate(o.x,o.y),i.path(l[e]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])},Raphael.el.tag=function(e,t,n,r){var i=3,s=this.paper||this[0].paper;if(!s)return;var o=s.path().attr({fill:"#000",stroke:"#000"}),u=this.getBBox(),a,f,l,c;switch(this.type){case"text":case"circle":case"ellipse":l=!0;break;default:l=!1}return e=e||0,n=typeof n=="number"?n:l?u.x+u.width/2:u.x,r=typeof r=="number"?r:l?u.y+u.height/2:u.y,t=t==null?5:t,f=.5522*t,u.height>=t*2?o.attr({path:["M",n,r+t,"a",t,t,0,1,1,0,-t*2,t,t,0,1,1,0,t*2,"m",0,-t*2-i,"a",t+i,t+i,0,1,0,0,(t+i)*2,"L",n+t+i,r+u.height/2+i,"l",u.width+2*i,0,0,-u.height-2*i,-u.width-2*i,0,"L",n,r-t-i].join(",")}):(a=Math.sqrt(Math.pow(t+i,2)-Math.pow(u.height/2+i,2)),o.attr({path:["M",n,r+t,"c",-f,0,-t,f-t,-t,-t,0,-f,t-f,-t,t,-t,f,0,t,t-f,t,t,0,f,f-t,t,-t,t,"M",n+a,r-u.height/2-i,"a",t+i,t+i,0,1,0,0,u.height+2*i,"l",t+i-a+u.width+2*i,0,0,-u.height-2*i,"L",n+a,r-u.height/2-i].join(",")})),e=360-e,o.rotate(e,n,r),this.attrs?(this.attr(this.attrs.x?"x":"cx",n+t+i+(l?u.width/2:this.type=="text"?u.width:0)).attr("y",l?r:r-u.height/2),this.rotate(e,n,r),e>90&&e<270&&this.attr(this.attrs.x?"x":"cx",n-t-i-(l?u.width/2:u.width)).rotate(180,n,r)):e>90&&e<270?(this.translate(n-u.x-u.width-t-i,r-u.y-u.height/2),this.rotate(e-180,u.x+u.width+t+i,u.y+u.height/2)):(this.translate(n-u.x+t+i,r-u.y-u.height/2),this.rotate(e,u.x-t-i,u.y+u.height/2)),o.insertBefore(this.node?this:this[0])},Raphael.el.drop=function(e,t,n){var r=this.getBBox(),i=this.paper||this[0].paper,s,o,u,a,f;if(!i)return;switch(this.type){case"text":case"circle":case"ellipse":s=!0;break;default:s=!1}return e=e||0,t=typeof t=="number"?t:s?r.x+r.width/2:r.x,n=typeof n=="number"?n:s?r.y+r.height/2:r.y,o=Math.max(r.width,r.height)+Math.min(r.width,r.height),u=i.path(["M",t,n,"l",o,0,"A",o*.4,o*.4,0,1,0,t+o*.7,n-o*.7,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-e,t,n),e=(e+90)*Math.PI/180,a=t+o*Math.sin(e)-(s?0:r.width/2),f=n+o*Math.cos(e)-(s?0:r.height/2),this.attrs?this.attr(this.attrs.x?"x":"cx",a).attr(this.attrs.y?"y":"cy",f):this.translate(a-r.x,f-r.y),u.insertBefore(this.node?this:this[0])},Raphael.el.flag=function(e,t,n){var r=3,i=this.paper||this[0].paper;if(!i)return;var s=i.path().attr({fill:"#000",stroke:"#000"}),o=this.getBBox(),u=o.height/2,a;switch(this.type){case"text":case"circle":case"ellipse":a=!0;break;default:a=!1}return e=e||0,t=typeof t=="number"?t:a?o.x+o.width/2:o.x,n=typeof n=="number"?n:a?o.y+o.height/2:o.y,s.attr({path:["M",t,n,"l",u+r,-u-r,o.width+2*r,0,0,o.height+2*r,-o.width-2*r,0,"z"].join(",")}),e=360-e,s.rotate(e,t,n),this.attrs?(this.attr(this.attrs.x?"x":"cx",t+u+r+(a?o.width/2:this.type=="text"?o.width:0)).attr("y",a?n:n-o.height/2),this.rotate(e,t,n),e>90&&e<270&&this.attr(this.attrs.x?"x":"cx",t-u-r-(a?o.width/2:o.width)).rotate(180,t,n)):e>90&&e<270?(this.translate(t-o.x-o.width-u-r,n-o.y-o.height/2),this.rotate(e-180,o.x+o.width+u+r,o.y+o.height/2)):(this.translate(t-o.x+u+r,n-o.y-o.height/2),this.rotate(e,o.x-u-r,o.y+o.height/2)),s.insertBefore(this.node?this:this[0])},Raphael.el.label=function(){var e=this.getBBox(),t=this.paper||this[0].paper,n=Math.min(20,e.width+10,e.height+10)/2;if(!t)return;return t.rect(e.x-n/2,e.y-n/2,e.width+n,e.height+n,n).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0])},Raphael.el.blob=function(e,t,n){var r=this.getBBox(),i=Math.PI/180,s=this.paper||this[0].paper,o,u,a;if(!s)return;switch(this.type){case"text":case"circle":case"ellipse":u=!0;break;default:u=!1}o=s.path().attr({fill:"#000",stroke:"none"}),e=(+e+1?e:45)+90,a=Math.min(r.height,r.width),t=typeof t=="number"?t:u?r.x+r.width/2:r.x,n=typeof n=="number"?n:u?r.y+r.height/2:r.y;var f=Math.max(r.width+a,a*25/12),l=Math.max(r.height+a,a*25/12),c=t+a*Math.sin((e-22.5)*i),h=n+a*Math.cos((e-22.5)*i),p=t+a*Math.sin((e+22.5)*i),d=n+a*Math.cos((e+22.5)*i),v=(p-c)/2,m=(d-h)/2,g=f/2,y=l/2,b=-Math.sqrt(Math.abs(g*g*y*y-g*g*m*m-y*y*v*v)/(g*g*m*m+y*y*v*v)),w=b*g*m/y+(p+c)/2,E=b*-y*v/g+(d+h)/2;return o.attr({x:w,y:E,path:["M",t,n,"L",p,d,"A",g,y,0,1,1,c,h,"z"].join(",")}),this.translate(w-r.x-r.width/2,E-r.y-r.height/2),o.insertBefore(this.node?this:this[0])},Raphael.fn.label=function(e,t,n){var r=this.set();return n=this.text(e,t,n).attr(Raphael.g.txtattr),r.push(n.label(),n)},Raphael.fn.popup=function(e,t,n,r,i){var s=this.set();return n=this.text(e,t,n).attr(Raphael.g.txtattr),s.push(n.popup(r,i),n)},Raphael.fn.tag=function(e,t,n,r,i){var s=this.set();return n=this.text(e,t,n).attr(Raphael.g.txtattr),s.push(n.tag(r,i),n)},Raphael.fn.flag=function(e,t,n,r){var i=this.set();return n=this.text(e,t,n).attr(Raphael.g.txtattr),i.push(n.flag(r),n)},Raphael.fn.drop=function(e,t,n,r){var i=this.set();return n=this.text(e,t,n).attr(Raphael.g.txtattr),i.push(n.drop(r),n)},Raphael.fn.blob=function(e,t,n,r){var i=this.set();return n=this.text(e,t,n).attr(Raphael.g.txtattr),i.push(n.blob(r),n)},Raphael.el.lighter=function(e){e=e||2;var t=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[t[0],t[1]],t[0]=Raphael.rgb2hsb(Raphael.getRGB(t[0]).hex),t[1]=Raphael.rgb2hsb(Raphael.getRGB(t[1]).hex),t[0].b=Math.min(t[0].b*e,1),t[0].s=t[0].s/e,t[1].b=Math.min(t[1].b*e,1),t[1].s=t[1].s/e,this.attr({fill:"hsb("+[t[0].h,t[0].s,t[0].b]+")",stroke:"hsb("+[t[1].h,t[1].s,t[1].b]+")"}),this},Raphael.el.darker=function(e){e=e||2;var t=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[t[0],t[1]],t[0]=Raphael.rgb2hsb(Raphael.getRGB(t[0]).hex),t[1]=Raphael.rgb2hsb(Raphael.getRGB(t[1]).hex),t[0].s=Math.min(t[0].s*e,1),t[0].b=t[0].b/e,t[1].s=Math.min(t[1].s*e,1),t[1].b=t[1].b/e,this.attr({fill:"hsb("+[t[0].h,t[0].s,t[0].b]+")",stroke:"hsb("+[t[1].h,t[1].s,t[1].b]+")"}),this},Raphael.el.resetBrightness=function(){return this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs),this},function(){var e=["lighter","darker","resetBrightness"],t=["popup","tag","flag","label","drop","blob"];for(var n in t)(function(e){Raphael.st[e]=function(){return Raphael.el[e].apply(this,arguments)}})(t[n]);for(var n in e)(function(e){Raphael.st[e]=function(){for(var t=0;t<this.length;t++)this[t][e].apply(this[t],arguments);return this}})(e[n])}(),Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:function(){var e=[.6,.2,.05,.1333,.75,0],t=[];for(var n=0;n<10;n++)n<e.length?t.push("hsb("+e[n]+",.75, .75)"):t.push("hsb("+e[n-e.length]+", 1, .5)");return t}(),snapEnds:function(e,t,n){function s(e){return Math.abs(e-.5)<.25?~~e+.5:Math.round(e)}var r=e,i=t;if(r==i)return{from:r,to:i,power:0};var o=(i-r)/n,u=~~o,a=u,f=0;if(u){while(a)f--,a=~~(o*Math.pow(10,f))/Math.pow(10,f);f++}else{if(o==0||!isFinite(o))f=1;else while(!u)f=f||1,u=~~(o*Math.pow(10,f))/Math.pow(10,f),f++;f&&f--}return i=s(t*Math.pow(10,f))/Math.pow(10,f),i<t&&(i=s((t+.5)*Math.pow(10,f))/Math.pow(10,f)),r=s((e-(f>0?0:.5))*Math.pow(10,f))/Math.pow(10,f),{from:r,to:i,power:f}},axis:function(e,t,n,r,i,s,o,u,a,f,l){f=f==null?2:f,a=a||"t",s=s||10,l=arguments[arguments.length-1];var c=a=="|"||a==" "?["M",e+.5,t,"l",0,.001]:o==1||o==3?["M",e+.5,t,"l",0,-n]:["M",e,t+.5,"l",n,0],h=this.snapEnds(r,i,s),p=h.from,d=h.to,v=h.power,m=0,g={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},y=l.set(),b;b=(d-p)/s;var w=p,E=v>0?v:0;N=n/s;if(+o==1||+o==3){var S=t,x=(o-1?1:-1)*(f+3+!!(o-1));while(S>=t-n)a!="-"&&a!=" "&&(c=c.concat(["M",e-(a=="+"||a=="|"?f:!(o-1)*f*2),S+.5,"l",f*2+1,0])),y.push(l.text(e+x,S,u&&u[m++]||(Math.round(w)==w?w:+w.toFixed(E))).attr(g).attr({"text-anchor":o-1?"start":"end"})),w+=b,S-=N;Math.round(S+N-(t-n))&&(a!="-"&&a!=" "&&(c=c.concat(["M",e-(a=="+"||a=="|"?f:!(o-1)*f*2),t-n+.5,"l",f*2+1,0])),y.push(l.text(e+x,t-n,u&&u[m]||(Math.round(w)==w?w:+w.toFixed(E))).attr(g).attr({"text-anchor":o-1?"start":"end"})))}else{w=p,E=(v>0)*v,x=(o?-1:1)*(f+9+!o);var T=e,N=n/s,C=0,k=0;while(T<=e+n){a!="-"&&a!=" "&&(c=c.concat(["M",T+.5,t-(a=="+"?f:!!o*f*2),"l",0,f*2+1])),y.push(C=l.text(T,t+x,u&&u[m++]||(Math.round(w)==w?w:+w.toFixed(E))).attr(g));var L=C.getBBox();k>=L.x-5?y.pop(y.length-1).remove():k=L.x+L.width,w+=b,T+=N}Math.round(T-N-e-n)&&(a!="-"&&a!=" "&&(c=c.concat(["M",e+n+.5,t-(a=="+"?f:!!o*f*2),"l",0,f*2+1])),y.push(l.text(e+n,t+x,u&&u[m]||(Math.round(w)==w?w:+w.toFixed(E))).attr(g)))}var A=l.path(c);return A.text=y,A.all=l.set([A,y]),A.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},A},labelise:function(e,t,n){return e?(e+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(e,r,i){if(r)return(+t).toFixed(r.replace(/^#+\.?/g,"").length);if(i)return(t*100/n).toFixed(i.replace(/^%+\.?/g,"").length)+"%"}):(+t).toFixed(0)}}(function(e){e.L={VERSION:"0.3",ROOT_URL:e.L_ROOT_URL||function(){var e=document.getElementsByTagName("script"),t=/\/?leaflet[\-\._]?([\w\-\._]*)\.js\??/,n,r,i,s;for(n=0,r=e.length;n<r;n++){i=e[n].src,s=i.match(t);if(s)return s[1]==="include"?"../../dist/":i.split(t)[0]+"/"}return""}(),noConflict:function(){return e.L=this._originalL,this},_originalL:e.L}})(this),L.Util={extend:function(e){var t=Array.prototype.slice.call(arguments,1);for(var n=0,r=t.length,i;n<r;n++){i=t[n]||{};for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return e},bind:function(e,t){return function(){return e.apply(t,arguments)}},stamp:function(){var e=0,t="_leaflet_id";return function(n){return n[t]=n[t]||++e,n[t]}}(),requestAnimFrame:function(){function e(e){window.setTimeout(e,1e3/60)}var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||e;return function(n,r,i,s){n=r?L.Util.bind(n,r):n,i&&t===e?n():t(n,s)}}(),limitExecByInterval:function(e,t,n){function r(){i=!1,s&&(o.callee.apply(n,o),s=!1)}var i,s,o;return function(){o=arguments,i?s=!0:(i=!0,setTimeout(r,t),e.apply(n,o))}},falseFn:function(){return!1},formatNum:function(e,t){var n=Math.pow(10,t||5);return Math.round(e*n)/n},setOptions:function(e,t){e.options=L.Util.extend({},e.options,t)},getParamString:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return"?"+t.join("&")},template:function(e,t){return e.replace(/\{ *([\w_]+) *\}/g,function(e,n){var r=t[n];if(!t.hasOwnProperty(n))throw Error("No value provided for variable "+e);return r})}},L.Class=function(){},L.Class.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments)},n=function(){};n.prototype=this.prototype;var r=new n;r.constructor=t,t.prototype=r,t.superclass=this.prototype;for(var i in this)this.hasOwnProperty(i)&&i!=="prototype"&&i!=="superclass"&&(t[i]=this[i]);return e.statics&&(L.Util.extend(t,e.statics),delete e.statics),e.includes&&(L.Util.extend.apply(null,[r].concat(e.includes)),delete e.includes),e.options&&r.options&&(e.options=L.Util.extend({},r.options,e.options)),L.Util.extend(r,e),t.extend=L.Class.extend,t.include=function(e){L.Util.extend(this.prototype,e)},t},L.Mixin={},L.Mixin.Events={addEventListener:function(e,t,n){var r=this._leaflet_events=this._leaflet_events||{};return r[e]=r[e]||[],r[e].push({action:t,context:n||this}),this},hasEventListeners:function(e){var t="_leaflet_events";return t in this&&e in this[t]&&this[t][e].length>0},removeEventListener:function(e,t,n){if(!this.hasEventListeners(e))return this;for(var r=0,i=this._leaflet_events,s=i[e].length;r<s;r++)if(i[e][r].action===t&&(!n||i[e][r].context===n))return i[e].splice(r,1),this;return this},fireEvent:function(e,t){if(!this.hasEventListeners(e))return this;var n=L.Util.extend({type:e,target:this},t),r=this._leaflet_events[e].slice();for(var i=0,s=r.length;i<s;i++)r[i].action.call(r[i].context||this,n);return this}},L.Mixin.Events.on=L.Mixin.Events.addEventListener,L.Mixin.Events.off=L.Mixin.Events.removeEventListener,L.Mixin.Events.fire=L.Mixin.Events.fireEvent,function(){var e=navigator.userAgent.toLowerCase(),t=!!window.ActiveXObject,n=e.indexOf("webkit")!==-1,r=typeof orientation!="undefined"?!0:!1,i=e.indexOf("android")!==-1,s=window.opera;L.Browser={ie:t,ie6:t&&!window.XMLHttpRequest,webkit:n,webkit3d:n&&"WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,gecko:e.indexOf("gecko")!==-1,opera:s,android:i,mobileWebkit:r&&n,mobileOpera:r&&s,mobile:r,touch:function(){var e=!1,t="ontouchstart";if(t in document.documentElement)return!0;var n=document.createElement("div");return!n.setAttribute||!n.removeAttribute?!1:(n.setAttribute(t,"return;"),typeof n[t]=="function"&&(e=!0),n.removeAttribute(t),n=null,e)}()}}(),L.Point=function(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t},L.Point.prototype={add:function(e){return this.clone()._add(e)},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(e)},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e,t){return new L.Point(this.x/e,this.y/e,t)},multiplyBy:function(e){return new L.Point(this.x*e,this.y*e)},distanceTo:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},clone:function(){return new L.Point(this.x,this.y)},toString:function(){return"Point("+L.Util.formatNum(this.x)+", "+L.Util.formatNum(this.y)+")"}},L.Bounds=L.Class.extend({initialize:function(e,t){if(!e)return;var n=e instanceof Array?e:[e,t];for(var r=0,i=n.length;r<i;r++)this.extend(n[r])},extend:function(e){!this.min&&!this.max?(this.min=new L.Point(e.x,e.y),this.max=new L.Point(e.x,e.y)):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y))},getCenter:function(e){return new L.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},contains:function(e){var t,n;return e instanceof L.Bounds?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){var t=this.min,n=this.max,r=e.min,i=e.max,s=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return s&&o}}),L.Transformation=L.Class.extend({initialize:function(e,t,n,r){this._a=e,this._b=t,this._c=n,this._d=r},transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new L.Point((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}}),L.DomUtil={get:function(e){return typeof e=="string"?document.getElementById(e):e},getStyle:function(e,t){var n=e.style[t];!n&&e.currentStyle&&(n=e.currentStyle[t]);if(!n||n==="auto"){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return n==="auto"?null:n},getViewportOffset:function(e){var t=0,n=0,r=e,i=document.body;do{t+=r.offsetTop||0,n+=r.offsetLeft||0;if(r.offsetParent===i&&L.DomUtil.getStyle(r,"position")==="absolute")break;r=r.offsetParent}while(r);r=e;do{if(r===i)break;t-=r.scrollTop||0,n-=r.scrollLeft||0,r=r.parentNode}while(r);return new L.Point(n,t)},create:function(e,t,n){var r=document.createElement(e);return r.className=t,n&&n.appendChild(r),r},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=L.Util.falseFn)},enableTextSelection:function(){document.onselectstart=this._onselectstart,this._onselectstart=null},hasClass:function(e,t){return e.className.length>0&&RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},addClass:function(e,t){L.DomUtil.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},removeClass:function(e,t){e.className=e.className.replace(/(\S+)\s*/g,function(e,n){return n===t?"":e}).replace(/^\s+/,"")},setOpacity:function(e,t){L.Browser.ie?e.style.filter="alpha(opacity="+Math.round(t*100)+")":e.style.opacity=t},testProp:function(e){var t=document.documentElement.style;for(var n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1},getTranslateString:function(e){return L.DomUtil.TRANSLATE_OPEN+e.x+"px,"+e.y+"px"+L.DomUtil.TRANSLATE_CLOSE},getScaleString:function(e,t){var n=L.DomUtil.getTranslateString(t),r=" scale("+e+") ",i=L.DomUtil.getTranslateString(t.multiplyBy(-1));return n+r+i},setPosition:function(e,t){e._leaflet_pos=t,L.Browser.webkit3d?(e.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(t),L.Browser.android&&(e.style["-webkit-perspective"]="1000",e.style["-webkit-backface-visibility"]="hidden")):(e.style.left=t.x+"px",e.style.top=t.y+"px")},getPosition:function(e){return e._leaflet_pos}},L.Util.extend(L.DomUtil,{TRANSITION:L.DomUtil.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:L.DomUtil.testProp(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]),TRANSLATE_OPEN:"translate"+(L.Browser.webkit3d?"3d(":"("),TRANSLATE_CLOSE:L.Browser.webkit3d?",0)":")"}),L.LatLng=function(e,t,n){var r=parseFloat(e),i=parseFloat(t);if(isNaN(r)||isNaN(i))throw Error("Invalid LatLng object: ("+e+", "+t+")");n!==!0&&(r=Math.max(Math.min(r,90),-90),i=(i+180)%360+(i<-180||i===180?180:-180)),this.lat=r,this.lng=i},L.Util.extend(L.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),L.LatLng.prototype={equals:function(e){if(e instanceof L.LatLng){var t=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return t<=L.LatLng.MAX_MARGIN}return!1},toString:function(){return"LatLng("+L.Util.formatNum(this.lat)+", "+L.Util.formatNum(this.lng)+")"},distanceTo:function(e){var t=6378137,n=L.LatLng.DEG_TO_RAD,r=(e.lat-this.lat)*n,i=(e.lng-this.lng)*n,s=this.lat*n,o=e.lat*n,u=Math.sin(r/2),a=Math.sin(i/2),f=u*u+a*a*Math.cos(s)*Math.cos(o);return t*2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}},L.LatLngBounds=L.Class.extend({initialize:function(e,t){if(!e)return;var n=e instanceof Array?e:[e,t];for(var r=0,i=n.length;r<i;r++)this.extend(n[r])},extend:function(e){!this._southWest&&!this._northEast?(this._southWest=new L.LatLng(e.lat,e.lng,!0),this._northEast=new L.LatLng(e.lat,e.lng,!0)):(this._southWest.lat=Math.min(e.lat,this._southWest.lat),this._southWest.lng=Math.min(e.lng,this._southWest.lng),this._northEast.lat=Math.max(e.lat,this._northEast.lat),this._northEast.lng=Math.max(e.lng,this._northEast.lng))},getCenter:function(){return new L.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new L.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new L.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(e){var t=this._southWest,n=this._northEast,r,i;return e instanceof L.LatLngBounds?(r=e.getSouthWest(),i=e.getNorthEast()):r=i=e,r.lat>=t.lat&&i.lat<=n.lat&&r.lng>=t.lng&&i.lng<=n.lng},intersects:function(e){var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),s=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return s&&o},toBBoxString:function(){var e=this._southWest,t=this._northEast;return[e.lng,e.lat,t.lng,t.lat].join(",")}}),L.Projection={},L.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(e){var t=L.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=e.lng*t,s=r*t;return s=Math.log(Math.tan(Math.PI/4+s/2)),new L.Point(i,s)},unproject:function(e,t){var n=L.LatLng.RAD_TO_DEG,r=e.x*n,i=(2*Math.atan(Math.exp(e.y))-Math.PI/2)*n;return new L.LatLng(i,r,t)}},L.Projection.LonLat={project:function(e){return new L.Point(e.lng,e.lat)},unproject:function(e,t){return new L.LatLng(e.y,e.x,t)}},L.CRS={latLngToPoint:function(e,t){var n=this.projection.project(e);return this.transformation._transform(n,t)},pointToLatLng:function(e,t,n){var r=this.transformation.untransform(e,t);return this.projection.unproject(r,n)},project:function(e){return this.projection.project(e)}},L.CRS.EPSG3857=L.Util.extend({},L.CRS,{code:"EPSG:3857",projection:L.Projection.SphericalMercator,transformation:new L.Transformation(.5/Math.PI,.5,-0.5/Math.PI,.5),project:function(e){var t=this.projection.project(e),n=6378137;return t.multiplyBy(n)}}),L.CRS.EPSG900913=L.Util.extend({},L.CRS.EPSG3857,{code:"EPSG:900913"}),L.CRS.EPSG4326=L.Util.extend({},L.CRS,{code:"EPSG:4326",projection:L.Projection.LonLat,transformation:new L.Transformation(1/360,.5,-1/360,.5)}),L.Map=L.Class.extend({includes:L.Mixin.Events,options:{crs:L.CRS.EPSG3857||L.CRS.EPSG4326,scale:function(e){return 256*Math.pow(2,e)},center:null,zoom:null,layers:[],dragging:!0,touchZoom:L.Browser.touch&&!L.Browser.android,scrollWheelZoom:!L.Browser.touch,doubleClickZoom:!0,boxZoom:!0,zoomControl:!0,attributionControl:!0,fadeAnimation:L.DomUtil.TRANSITION&&!L.Browser.android,zoomAnimation:L.DomUtil.TRANSITION&&!L.Browser.android&&!L.Browser.mobileOpera,trackResize:!0,closePopupOnClick:!0,worldCopyJump:!0},initialize:function(e,t){L.Util.setOptions(this,t),this._container=L.DomUtil.get(e);if(this._container._leaflet)throw Error("Map container is already initialized.");this._container._leaflet=!0,this._initLayout(),L.DomEvent&&(this._initEvents(),L.Handler&&this._initInteraction(),L.Control&&this._initControls()),this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds);var n=this.options.center,r=this.options.zoom;n!==null&&r!==null&&this.setView(n,r,!0);var i=this.options.layers;i=i instanceof Array?i:[i],this._tileLayersNum=0,this._initLayers(i)},setView:function(e,t){return this._resetView(e,this._limitZoom(t)),this},setZoom:function(e){return this.setView(this.getCenter(),e)},zoomIn:function(){return this.setZoom(this._zoom+1)},zoomOut:function(){return this.setZoom(this._zoom-1)},fitBounds:function(e){var t=this.getBoundsZoom(e);return this.setView(e.getCenter(),t)},fitWorld:function(){var e=new L.LatLng(-60,-170),t=new L.LatLng(85,179);return this.fitBounds(new L.LatLngBounds(e,t))},panTo:function(e){return this.setView(e,this._zoom)},panBy:function(e){return this.fire("movestart"),this._rawPanBy(e),this.fire("move"),this.fire("moveend"),this},setMaxBounds:function(e){this.options.maxBounds=e;if(!e)return this._boundsMinZoom=null,this;var t=this.getBoundsZoom(e,!0);return this._boundsMinZoom=t,this._loaded&&(this._zoom<t?this.setView(e.getCenter(),t):this.panInsideBounds(e)),this},panInsideBounds:function(e){var t=this.getBounds(),n=this.project(t.getSouthWest()),r=this.project(t.getNorthEast()),i=this.project(e.getSouthWest()),s=this.project(e.getNorthEast()),o=0,u=0;return r.y<s.y&&(u=s.y-r.y),r.x>s.x&&(o=s.x-r.x),n.y>i.y&&(u=i.y-n.y),n.x<i.x&&(o=i.x-n.x),this.panBy(new L.Point(o,u,!0))},addLayer:function(e,t){var n=L.Util.stamp(e);if(this._layers[n])return this;this._layers[n]=e,e.options&&!isNaN(e.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,e.options.maxZoom)),e.options&&!isNaN(e.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||Infinity,e.options.minZoom)),this.options.zoomAnimation&&L.TileLayer&&e instanceof L.TileLayer&&(this._tileLayersNum++,e.on("load",this._onTileLayerLoad,this)),this.attributionControl&&e.getAttribution&&this.attributionControl.addAttribution(e.getAttribution());var r=function(){e.onAdd(this,t),this.fire("layeradd",{layer:e})};return this._loaded?r.call(this):this.on("load",r,this),this},removeLayer:function(e){var t=L.Util.stamp(e);return this._layers[t]&&(e.onRemove(this),delete this._layers[t],this.options.zoomAnimation&&L.TileLayer&&e instanceof L.TileLayer&&(this._tileLayersNum--,e.off("load",this._onTileLayerLoad,this)),this.attributionControl&&e.getAttribution&&this.attributionControl.removeAttribution(e.getAttribution()),this.fire("layerremove",{layer:e})),this},hasLayer:function(e){var t=L.Util.stamp(e);return this._layers.hasOwnProperty(t)},invalidateSize:function(){var e=this.getSize();return this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),this._loaded?(this._rawPanBy(e.subtract(this.getSize()).divideBy(2,!0)),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(L.Util.bind(function(){this.fire("moveend")},this),200),this):this},getCenter:function(e){var t=this.getSize().divideBy(2),n=this._getTopLeftPoint().add(t);return this.unproject(n,this._zoom,e)},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(new L.Point(e.min.x,e.max.y),this._zoom,!0),n=this.unproject(new L.Point(e.max.x,e.min.y),this._zoom,!0);return new L.LatLngBounds(t,n)},getMinZoom:function(){var e=this.options.minZoom||0,t=this._layersMinZoom||0,n=this._boundsMinZoom||0;return Math.max(e,t,n)},getMaxZoom:function(){var e=isNaN(this.options.maxZoom)?Infinity:this.options.maxZoom,t=this._layersMaxZoom||Infinity;return Math.min(e,t)},getBoundsZoom:function(e,t){var n=this.getSize(),r=this.options.minZoom||0,i=this.getMaxZoom(),s=e.getNorthEast(),o=e.getSouthWest(),u,a,f,l=!0;t&&r--;do r++,a=this.project(s,r),f=this.project(o,r),u=new L.Point(a.x-f.x,f.y-a.y),t?l=u.x<n.x||u.y<n.y:l=u.x<=n.x&&u.y<=n.y;while(l&&r<=i);return l&&t?null:t?r:r-1},getSize:function(){if(!this._size||this._sizeChanged)this._size=new L.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1;return this._size},getPixelBounds:function(){var e=this._getTopLeftPoint(),t=this.getSize();return new L.Bounds(e,e.add(t))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},mouseEventToContainerPoint:function(e){return L.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},containerPointToLayerPoint:function(e){return e.subtract(L.DomUtil.getPosition(this._mapPane))},layerPointToContainerPoint:function(e){return e.add(L.DomUtil.getPosition(this._mapPane))},layerPointToLatLng:function(e){return this.unproject(e.add(this._initialTopLeftPoint))},latLngToLayerPoint:function(e){return this.project(e)._round()._subtract(this._initialTopLeftPoint)},project:function(e,t){return t=typeof t=="undefined"?this._zoom:t,this.options.crs.latLngToPoint(e,this.options.scale(t))},unproject:function(e,t,n){return t=typeof t=="undefined"?this._zoom:t,this.options.crs.pointToLatLng(e,this.options.scale(t),n)},_initLayout:function(){var e=this._container;e.innerHTML="",e.className+=" leaflet-container",this.options.fadeAnimation&&(e.className+=" leaflet-fade-anim");var t=L.DomUtil.getStyle(e,"position");t!=="absolute"&&t!=="relative"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._mapPane=e.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=e.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),this._objectsPane=e.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),e.shadowPane=this._createPane("leaflet-shadow-pane"),e.overlayPane=this._createPane("leaflet-overlay-pane"),e.markerPane=this._createPane("leaflet-marker-pane"),e.popupPane=this._createPane("leaflet-popup-pane")},_createPane:function(e,t){return L.DomUtil.create("div",e,t||this._objectsPane)},_resetView:function(e,t,n,r){var i=this._zoom!==t;r||(this.fire("movestart"),i&&this.fire("zoomstart")),this._zoom=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(e);if(!n)L.DomUtil.setPosition(this._mapPane,new L.Point(0,0));else{var s=L.DomUtil.getPosition(this._mapPane);this._initialTopLeftPoint._add(s)}this._tileLayersToLoad=this._tileLayersNum,this.fire("viewreset",{hard:!n}),this.fire("move"),(i||r)&&this.fire("zoomend"),this.fire("moveend"),this._loaded||(this._loaded=!0,this.fire("load"))},_initLayers:function(e){this._layers={};var t,n;for(t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_initControls:function(){this.options.zoomControl&&this.addControl(new L.Control.Zoom),this.options.attributionControl&&(this.attributionControl=new L.Control.Attribution,this.addControl(this.attributionControl))},_rawPanBy:function(e){var t=L.DomUtil.getPosition(this._mapPane);L.DomUtil.setPosition(this._mapPane,t.subtract(e))},_initEvents:function(){L.DomEvent.addListener(this._container,"click",this._onMouseClick,this);var e=["dblclick","mousedown","mouseenter","mouseleave","mousemove","contextmenu"],t,n;for(t=0,n=e.length;t<n;t++)L.DomEvent.addListener(this._container,e[t],this._fireMouseEvent,this);this.options.trackResize&&L.DomEvent.addListener(window,"resize",this._onResize,this)},_onResize:function(){L.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(e){if(!this._loaded||this.dragging&&this.dragging.moved())return;this.fire("pre"+e.type),this._fireMouseEvent(e)},_fireMouseEvent:function(e){if(!this._loaded)return;var t=e.type;t=t==="mouseenter"?"mouseover":t==="mouseleave"?"mouseout":t;if(!this.hasEventListeners(t))return;t==="contextmenu"&&L.DomEvent.preventDefault(e),this.fire(t,{latlng:this.mouseEventToLatLng(e),layerPoint:this.mouseEventToLayerPoint(e)})},_initInteraction:function(){var e={dragging:L.Map.Drag,touchZoom:L.Map.TouchZoom,doubleClickZoom:L.Map.DoubleClickZoom,scrollWheelZoom:L.Map.ScrollWheelZoom,boxZoom:L.Map.BoxZoom},t;for(t in e)e.hasOwnProperty(t)&&e[t]&&(this[t]=new e[t](this),this.options[t]&&this[t].enable())},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(L.Util.bind(this._clearTileBg,this),500))},_getTopLeftPoint:function(){if(!this._loaded)throw Error("Set map center and zoom first.");var e=L.DomUtil.getPosition
(this._mapPane);return this._initialTopLeftPoint.subtract(e)},_getNewTopLeftPoint:function(e){var t=this.getSize().divideBy(2);return this.project(e).subtract(t).round()},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom();return Math.max(t,Math.min(n,e))}}),L.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(e){var t=L.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=this.R_MAJOR,s=this.R_MINOR,o=e.lng*t*i,u=r*t,a=s/i,f=Math.sqrt(1-a*a),l=f*Math.sin(u);l=Math.pow((1-l)/(1+l),f*.5);var c=Math.tan(.5*(Math.PI*.5-u))/l;return u=-s*Math.log(c),new L.Point(o,u)},unproject:function(e,t){var n=L.LatLng.RAD_TO_DEG,r=this.R_MAJOR,i=this.R_MINOR,s=e.x*n/r,o=i/r,u=Math.sqrt(1-o*o),a=Math.exp(-e.y/i),f=Math.PI/2-2*Math.atan(a),l=15,c=1e-7,h=l,p=.1,d;while(Math.abs(p)>c&&--h>0)d=u*Math.sin(f),p=Math.PI/2-2*Math.atan(a*Math.pow((1-d)/(1+d),.5*u))-f,f+=p;return new L.LatLng(f*n,s,t)}},L.CRS.EPSG3395=L.Util.extend({},L.CRS,{code:"EPSG:3395",projection:L.Projection.Mercator,transformation:function(){var e=L.Projection.Mercator,t=e.R_MAJOR,n=e.R_MINOR;return new L.Transformation(.5/(Math.PI*t),.5,-0.5/(Math.PI*n),.5)}()}),L.TileLayer=L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,scheme:"xyz",continuousWorld:!1,noWrap:!1,zoomOffset:0,zoomReverse:!1,unloadInvisibleTiles:L.Browser.mobile,updateWhenIdle:L.Browser.mobile,reuseTiles:!1},initialize:function(e,t,n){L.Util.setOptions(this,t),this._url=e,this._urlParams=n,typeof this.options.subdomains=="string"&&(this.options.subdomains=this.options.subdomains.split(""))},onAdd:function(e,t){this._map=e,this._insertAtTheBottom=t,this._initContainer(),this._createTileProto(),e.on("viewreset",this._resetCallback,this),this.options.updateWhenIdle?e.on("moveend",this._update,this):(this._limitedUpdate=L.Util.limitExecByInterval(this._update,150,this),e.on("move",this._limitedUpdate,this)),this._reset(),this._update()},onRemove:function(e){this._map.getPanes().tilePane.removeChild(this._container),this._container=null,this._map.off("viewreset",this._resetCallback,this),this.options.updateWhenIdle?this._map.off("moveend",this._update,this):this._map.off("move",this._limitedUpdate,this)},getAttribution:function(){return this.options.attribution},setOpacity:function(e){this.options.opacity=e,this._setOpacity(e);if(L.Browser.webkit)for(var t in this._tiles)this._tiles.hasOwnProperty(t)&&(this._tiles[t].style.webkitTransform+=" translate(0,0)")},_setOpacity:function(e){e<1&&L.DomUtil.setOpacity(this._container,e)},_initContainer:function(){var e=this._map.getPanes().tilePane,t=e.firstChild;if(!this._container||e.empty)this._container=L.DomUtil.create("div","leaflet-layer"),this._insertAtTheBottom&&t?e.insertBefore(this._container,t):e.appendChild(this._container),this._setOpacity(this.options.opacity)},_resetCallback:function(e){this._reset(e.hard)},_reset:function(e){var t;for(t in this._tiles)this._tiles.hasOwnProperty(t)&&this.fire("tileunload",{tile:this._tiles[t]});this._tiles={},this.options.reuseTiles&&(this._unusedTiles=[]),e&&this._container&&(this._container.innerHTML=""),this._initContainer()},_update:function(){var e=this._map.getPixelBounds(),t=this._map.getZoom(),n=this.options.tileSize;if(t>this.options.maxZoom||t<this.options.minZoom)return;var r=new L.Point(Math.floor(e.min.x/n),Math.floor(e.min.y/n)),i=new L.Point(Math.floor(e.max.x/n),Math.floor(e.max.y/n)),s=new L.Bounds(r,i);this._addTilesFromCenterOut(s),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(s)},_addTilesFromCenterOut:function(e){var t=[],n=e.getCenter();for(var r=e.min.y;r<=e.max.y;r++)for(var i=e.min.x;i<=e.max.x;i++){if(i+":"+r in this._tiles)continue;t.push(new L.Point(i,r))}t.sort(function(e,t){return e.distanceTo(n)-t.distanceTo(n)});var s=document.createDocumentFragment();this._tilesToLoad=t.length;for(var o=0,u=this._tilesToLoad;o<u;o++)this._addTile(t[o],s);this._container.appendChild(s)},_removeOtherTiles:function(e){var t,n,r,i,s;for(i in this._tiles)if(this._tiles.hasOwnProperty(i)){t=i.split(":"),n=parseInt(t[0],10),r=parseInt(t[1],10);if(n<e.min.x||n>e.max.x||r<e.min.y||r>e.max.y)s=this._tiles[i],this.fire("tileunload",{tile:s,url:s.src}),s.parentNode===this._container&&this._container.removeChild(s),this.options.reuseTiles&&this._unusedTiles.push(this._tiles[i]),s.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",delete this._tiles[i]}},_addTile:function(e,t){var n=this._getTilePos(e),r=this._map.getZoom(),i=e.x+":"+e.y,s=Math.pow(2,this._getOffsetZoom(r));if(!this.options.continuousWorld){if(!this.options.noWrap)e.x=(e.x%s+s)%s;else if(e.x<0||e.x>=s){this._tilesToLoad--;return}if(e.y<0||e.y>=s){this._tilesToLoad--;return}}var o=this._getTile();L.DomUtil.setPosition(o,n),this._tiles[i]=o,this.options.scheme==="tms"&&(e.y=s-e.y-1),this._loadTile(o,e,r),t.appendChild(o)},_getOffsetZoom:function(e){return e=this.options.zoomReverse?this.options.maxZoom-e:e,e+this.options.zoomOffset},_getTilePos:function(e){var t=this._map.getPixelOrigin(),n=this.options.tileSize;return e.multiplyBy(n).subtract(t)},getTileUrl:function(e,t){var n=this.options.subdomains,r=this.options.subdomains[(e.x+e.y)%n.length];return L.Util.template(this._url,L.Util.extend({s:r,z:this._getOffsetZoom(t),x:e.x,y:e.y},this._urlParams))},_createTileProto:function(){this._tileImg=L.DomUtil.create("img","leaflet-tile"),this._tileImg.galleryimg="no";var e=this.options.tileSize;this._tileImg.style.width=e+"px",this._tileImg.style.height=e+"px"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var e=this._unusedTiles.pop();return this._resetTile(e),e}return this._createTile()},_resetTile:function(e){},_createTile:function(){var e=this._tileImg.cloneNode(!1);return e.onselectstart=e.onmousemove=L.Util.falseFn,e},_loadTile:function(e,t,n){e._layer=this,e.onload=this._tileOnLoad,e.onerror=this._tileOnError,e.src=this.getTileUrl(t,n)},_tileOnLoad:function(e){var t=this._layer;this.className+=" leaflet-tile-loaded",t.fire("tileload",{tile:this,url:this.src}),t._tilesToLoad--,t._tilesToLoad||t.fire("load")},_tileOnError:function(e){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var n=t.options.errorTileUrl;n&&(this.src=n)}}),L.TileLayer.WMS=L.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,t){this._url=e,this.wmsParams=L.Util.extend({},this.defaultWmsParams),this.wmsParams.width=this.wmsParams.height=this.options.tileSize;for(var n in t)this.options.hasOwnProperty(n)||(this.wmsParams[n]=t[n]);L.Util.setOptions(this,t)},onAdd:function(e){var t=parseFloat(this.wmsParams.version)<1.3?"srs":"crs";this.wmsParams[t]=e.options.crs.code,L.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e,t){var n=this.options.tileSize,r=e.multiplyBy(n),i=r.add(new L.Point(n,n)),s=this._map.unproject(r,this._zoom,!0),o=this._map.unproject(i,this._zoom,!0),u=this._map.options.crs.project(s),a=this._map.options.crs.project(o),f=[u.x,a.y,a.x,u.y].join(",");return this._url+L.Util.getParamString(this.wmsParams)+"&bbox="+f}}),L.TileLayer.Canvas=L.TileLayer.extend({options:{async:!1},initialize:function(e){L.Util.setOptions(this,e)},redraw:function(){for(var e in this._tiles){var t=this._tiles[e];this._redrawTile(t)}},_redrawTile:function(e){this.drawTile(e,e._tilePoint,e._zoom)},_createTileProto:function(){this._canvasProto=L.DomUtil.create("canvas","leaflet-tile");var e=this.options.tileSize;this._canvasProto.width=e,this._canvasProto.height=e},_createTile:function(){var e=this._canvasProto.cloneNode(!1);return e.onselectstart=e.onmousemove=L.Util.falseFn,e},_loadTile:function(e,t,n){e._layer=this,e._tilePoint=t,e._zoom=n,this.drawTile(e,t,n),this.options.async||this.tileDrawn(e)},drawTile:function(e,t,n){},tileDrawn:function(e){this._tileOnLoad.call(e)}}),L.ImageOverlay=L.Class.extend({includes:L.Mixin.Events,initialize:function(e,t){this._url=e,this._bounds=t},onAdd:function(e){this._map=e,this._image||this._initImage(),e.getPanes().overlayPane.appendChild(this._image),e.on("viewreset",this._reset,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._image),e.off("viewreset",this._reset,this)},_initImage:function(){this._image=L.DomUtil.create("img","leaflet-image-layer"),this._image.style.visibility="hidden",L.Util.extend(this._image,{galleryimg:"no",onselectstart:L.Util.falseFn,onmousemove:L.Util.falseFn,onload:L.Util.bind(this._onImageLoad,this),src:this._url})},_reset:function(){var e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),t=this._map.latLngToLayerPoint(this._bounds.getSouthEast()),n=t.subtract(e);L.DomUtil.setPosition(this._image,e),this._image.style.width=n.x+"px",this._image.style.height=n.y+"px"},_onImageLoad:function(){this._image.style.visibility="",this.fire("load")}}),L.Icon=L.Class.extend({iconUrl:L.ROOT_URL+"images/marker.png",shadowUrl:L.ROOT_URL+"images/marker-shadow.png",iconSize:new L.Point(25,41),shadowSize:new L.Point(41,41),iconAnchor:new L.Point(13,41),popupAnchor:new L.Point(0,-33),initialize:function(e){e&&(this.iconUrl=e)},createIcon:function(){return this._createIcon("icon")},createShadow:function(){return this._createIcon("shadow")},_createIcon:function(e){var t=this[e+"Size"],n=this[e+"Url"];if(!n&&e==="shadow")return null;var r;return n?r=this._createImg(n):r=this._createDiv(),r.className="leaflet-marker-"+e,r.style.marginLeft=-this.iconAnchor.x+"px",r.style.marginTop=-this.iconAnchor.y+"px",t&&(r.style.width=t.x+"px",r.style.height=t.y+"px"),r},_createImg:function(e){var t;return L.Browser.ie6?(t=document.createElement("div"),t.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+e+'")'):(t=document.createElement("img"),t.src=e),t},_createDiv:function(){return document.createElement("div")}}),L.Marker=L.Class.extend({includes:L.Mixin.Events,options:{icon:new L.Icon,title:"",clickable:!0,draggable:!1,zIndexOffset:0},initialize:function(e,t){L.Util.setOptions(this,t),this._latlng=e},onAdd:function(e){this._map=e,this._initIcon(),e.on("viewreset",this._reset,this),this._reset()},onRemove:function(e){this._removeIcon(),this.closePopup&&this.closePopup(),this._map=null,e.off("viewreset",this._reset,this)},getLatLng:function(){return this._latlng},setLatLng:function(e){this._latlng=e,this._icon&&(this._reset(),this._popup&&this._popup.setLatLng(this._latlng))},setZIndexOffset:function(e){this.options.zIndexOffset=e,this._icon&&this._reset()},setIcon:function(e){this._map&&this._removeIcon(),this.options.icon=e,this._map&&(this._initIcon(),this._reset())},_initIcon:function(){this._icon||(this._icon=this.options.icon.createIcon(),this.options.title&&(this._icon.title=this.options.title),this._initInteraction()),this._shadow||(this._shadow=this.options.icon.createShadow()),this._map._panes.markerPane.appendChild(this._icon),this._shadow&&this._map._panes.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this._map._panes.markerPane.removeChild(this._icon),this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_reset:function(){var e=this._map.latLngToLayerPoint(this._latlng).round();L.DomUtil.setPosition(this._icon,e),this._shadow&&L.DomUtil.setPosition(this._shadow,e),this._icon.style.zIndex=e.y+this.options.zIndexOffset},_initInteraction:function(){if(this.options.clickable){this._icon.className+=" leaflet-clickable",L.DomEvent.addListener(this._icon,"click",this._onMouseClick,this);var e=["dblclick","mousedown","mouseover","mouseout"];for(var t=0;t<e.length;t++)L.DomEvent.addListener(this._icon,e[t],this._fireMouseEvent,this)}L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())},_onMouseClick:function(e){L.DomEvent.stopPropagation(e);if(this.dragging&&this.dragging.moved())return;this.fire(e.type)},_fireMouseEvent:function(e){this.fire(e.type),L.DomEvent.stopPropagation(e)}}),L.Popup=L.Class.extend({includes:L.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:new L.Point(0,2),autoPanPadding:new L.Point(5,5),className:""},initialize:function(e,t){L.Util.setOptions(this,e),this._source=t},onAdd:function(e){this._map=e,this._container||this._initLayout(),this._updateContent(),this._container.style.opacity="0",this._map._panes.popupPane.appendChild(this._container),this._map.on("viewreset",this._updatePosition,this),this._map.options.closePopupOnClick&&this._map.on("preclick",this._close,this),this._update(),this._container.style.opacity="1",this._opened=!0},onRemove:function(e){e._panes.popupPane.removeChild(this._container),L.Util.falseFn(this._container.offsetWidth),e.off("viewreset",this._updatePosition,this),e.off("click",this._close,this),this._container.style.opacity="0",this._opened=!1},setLatLng:function(e){return this._latlng=e,this._opened&&this._update(),this},setContent:function(e){return this._content=e,this._opened&&this._update(),this},_close:function(){this._opened&&this._map.closePopup()},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-popup "+this.options.className),this.options.closeButton&&(this._closeButton=L.DomUtil.create("a","leaflet-popup-close-button",this._container),this._closeButton.href="#close",L.DomEvent.addListener(this._closeButton,"click",this._onCloseButtonClick,this)),this._wrapper=L.DomUtil.create("div","leaflet-popup-content-wrapper",this._container),L.DomEvent.disableClickPropagation(this._wrapper),this._contentNode=L.DomUtil.create("div","leaflet-popup-content",this._wrapper),this._tipContainer=L.DomUtil.create("div","leaflet-popup-tip-container",this._container),this._tip=L.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_update:function(){this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan()},_updateContent:function(){if(!this._content)return;typeof this._content=="string"?this._contentNode.innerHTML=this._content:(this._contentNode.innerHTML="",this._contentNode.appendChild(this._content))},_updateLayout:function(){this._container.style.width="",this._container.style.whiteSpace="nowrap";var e=this._container.offsetWidth;this._container.style.width=(e>this.options.maxWidth?this.options.maxWidth:e<this.options.minWidth?this.options.minWidth:e)+"px",this._container.style.whiteSpace="",this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._containerBottom=-e.y-this.options.offset.y,this._containerLeft=e.x-Math.round(this._containerWidth/2)+this.options.offset.x,this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"},_adjustPan:function(){if(!this.options.autoPan)return;var e=this._container.offsetHeight,t=new L.Point(this._containerLeft,-e-this._containerBottom),n=this._map.layerPointToContainerPoint(t),r=new L.Point(0,0),i=this.options.autoPanPadding,s=this._map.getSize();n.x<0&&(r.x=n.x-i.x),n.x+this._containerWidth>s.x&&(r.x=n.x+this._containerWidth-s.x+i.x),n.y<0&&(r.y=n.y-i.y),n.y+e>s.y&&(r.y=n.y+e-s.y+i.y),(r.x||r.y)&&this._map.panBy(r)},_onCloseButtonClick:function(e){this._close(),L.DomEvent.stop(e)}}),L.Marker.include({openPopup:function(){return this._popup.setLatLng(this._latlng),this._map&&this._map.openPopup(this._popup),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(e,t){return t=L.Util.extend({offset:this.options.icon.popupAnchor},t),this._popup||this.on("click",this.openPopup,this),this._popup=new L.Popup(t,this),this._popup.setContent(e),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.openPopup)),this}}),L.Map.include({openPopup:function(e){return this.closePopup(),this._popup=e,this.addLayer(e),this.fire("popupopen",{popup:this._popup}),this},closePopup:function(){return this._popup&&(this.removeLayer(this._popup),this.fire("popupclose",{popup:this._popup}),this._popup=null),this}}),L.LayerGroup=L.Class.extend({initialize:function(e){this._layers={};if(e)for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},addLayer:function(e){var t=L.Util.stamp(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=L.Util.stamp(e);return delete this._layers[t],this._map&&this._map.removeLayer(e),this},clearLayers:function(){return this._iterateLayers(this.removeLayer,this),this},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),n,r;for(n in this._layers)this._layers.hasOwnProperty(n)&&(r=this._layers[n],r[e]&&r[e].apply(r,t));return this},onAdd:function(e){this._map=e,this._iterateLayers(e.addLayer,e)},onRemove:function(e){this._iterateLayers(e.removeLayer,e),delete this._map},_iterateLayers:function(e,t){for(var n in this._layers)this._layers.hasOwnProperty(n)&&e.call(t,this._layers[n])}}),L.FeatureGroup=L.LayerGroup.extend({includes:L.Mixin.Events,addLayer:function(e){this._initEvents(e),L.LayerGroup.prototype.addLayer.call(this,e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent)},bindPopup:function(e){return this._popupContent=e,this.invoke("bindPopup",e)},setStyle:function(e){return this.invoke("setStyle",e)},_events:["click","dblclick","mouseover","mouseout"],_initEvents:function(e){for(var t=0,n=this._events.length;t<n;t++)e.on(this._events[t],this._propagateEvent,this)},_propagateEvent:function(e){e.layer=e.target,e.target=this,this.fire(e.type,e)}}),L.Path=L.Class.extend({includes:[L.Mixin.Events],statics:{CLIP_PADDING:.5},options:{stroke:!0,color:"#0033ff",weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0,updateOnMoveEnd:!0},initialize:function(e){L.Util.setOptions(this,e)},onAdd:function(e){this._map=e,this._initElements(),this._initEvents(),this.projectLatlngs(),this._updatePath(),e.on("viewreset",this.projectLatlngs,this),this._updateTrigger=this.options.updateOnMoveEnd?"moveend":"viewreset",e.on(this._updateTrigger,this._updatePath,this)},onRemove:function(e){this._map=null,e._pathRoot.removeChild(this._container),e.off("viewreset",this.projectLatlngs,this),e.off(this._updateTrigger,this._updatePath,this)},projectLatlngs:function(){},setStyle:function(e){return L.Util.setOptions(this,e),this._container&&this._updateStyle(),this},_redraw:function(){this._map&&(this.projectLatlngs(),this._updatePath())}}),L.Map.include({_updatePathViewport:function(){var e=L.Path.CLIP_PADDING,t=this.getSize(),n=L.DomUtil.getPosition(this._mapPane),r=n.multiplyBy(-1).subtract(t.multiplyBy(e)),i=r.add(t.multiplyBy(1+e*2));this._pathViewport=new L.Bounds(r,i)}}),L.Path.SVG_NS="http://www.w3.org/2000/svg",L.Browser.svg=!!document.createElementNS&&!!document.createElementNS(L.Path.SVG_NS,"svg").createSVGRect,L.Path=L.Path.extend({statics:{SVG:L.Browser.svg,_createElement:function(e){return document.createElementNS(L.Path.SVG_NS,e)}},getPathString:function(){},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=L.Path._createElement("g"),this._path=L.Path._createElement("path"),this._container.appendChild(this._path),this._map._pathRoot.appendChild(this._container)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill?this._path.setAttribute("fill-rule","evenodd"):this._path.setAttribute("fill","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight)),this.options.fill&&(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity))},_updatePath:function(){var e=this.getPathString();e||(e="M0 0"),this._path.setAttribute("d",e)},_initEvents:function(){if(this.options.clickable){L.Browser.vml||this._path.setAttribute("class","leaflet-clickable"),L.DomEvent.addListener(this._container,"click",this._onMouseClick,this);var e=["dblclick","mousedown","mouseover","mouseout","mousemove"];for(var t=0;t<e.length;t++)L.DomEvent.addListener(this._container,e[t],this._fireMouseEvent,this)}},_onMouseClick:function(e){if(this._map.dragging&&this._map.dragging.moved())return;this._fireMouseEvent(e)},_fireMouseEvent:function(e){if(!this.hasEventListeners(e.type))return;this.fire(e.type,{latlng:this._map.mouseEventToLatLng(e),layerPoint:this._map.mouseEventToLayerPoint(e)}),L.DomEvent.stopPropagation(e)}}),L.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=L.Path._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_updateSvgViewport:function(){this._updatePathViewport();var e=this._pathViewport,t=e.min,n=e.max,r=n.x-t.x,i=n.y-t.y,s=this._pathRoot,o=this._panes.overlayPane;L.Browser.webkit&&o.removeChild(s),L.DomUtil.setPosition(s,t),s.setAttribute("width",r),s.setAttribute("height",i),s.setAttribute("viewBox",[t.x,t.y,r,i].join(" ")),L.Browser.webkit&&o.appendChild(s)}}),L.Path.include({bindPopup:function(e,t){if(!this._popup||this._popup.options!==t)this._popup=new L.Popup(t,this);return this._popup.setContent(e),this._openPopupAdded||(this.on("click",this._openPopup,this),this._openPopupAdded=!0),this},_openPopup:function(e){this._popup.setLatLng(e.latlng),this._map.openPopup(this._popup)}}),L.Browser.vml=function(){var e=document.createElement("div"),t;return e.innerHTML='<v:shape adj="1"/>',t=e.firstChild,t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}(),L.Path=L.Browser.svg||!L.Browser.vml?L.Path:L.Path.extend({statics:{VML:!0,CLIP_PADDING:.02,_createElement:function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()},_initPath:function(){this._container=L.Path._createElement("shape"),this._container.className+=" leaflet-vml-shape"+(this.options.clickable?" leaflet-clickable":""),this._container.coordsize="1 1",this._path=L.Path._createElement("path"),this._container.appendChild(this._path),this._map._pathRoot.appendChild(this._container)},_initStyle:function(){this.options.stroke?(this._stroke=L.Path._createElement("stroke"),this._stroke.endcap="round",this._container.appendChild(this._stroke)):this._container.stroked=!1,this.options.fill?(this._container.filled=!0,this._fill=L.Path._createElement("fill"),this._container.appendChild(this._fill)):this._container.filled=!1,this._updateStyle()},_updateStyle:function(){this.options.stroke&&(this._stroke.weight=this.options.weight+"px",this._stroke.color=this.options.color,this._stroke.opacity=this.options.opacity),this.options.fill&&(this._fill.color=this.options.fillColor||this.options.color,this._fill.opacity=this.options.fillOpacity)},_updatePath:function(){this._container.style.display="none",this._path.v=this.getPathString()+" ",this._container.style.display=""}}),L.Map.include(L.Browser.svg||!L.Browser.vml?{}:{_initPathRoot:function(){this._pathRoot||(this._pathRoot=document.createElement("div"),this._pathRoot.className="leaflet-vml-container",this._panes.overlayPane.appendChild(this._pathRoot),this.on("moveend",this._updatePathViewport),this._updatePathViewport())}}),L.Browser.canvas=function(){return!!document.createElement("canvas").getContext}(),L.Path=L.Path.SVG&&!window.L_PREFER_CANVAS||!L.Browser.canvas?L.Path:L.Path.extend({statics:{CANVAS:!0,SVG:!1},options:{updateOnMoveEnd:!0},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){this.options.stroke&&(this._ctx.lineWidth=this.options.weight,this._ctx.strokeStyle=this.options.color),this.options.fill&&(this._ctx.fillStyle=this.options.fillColor||this.options.color)},_drawPath:function(){var e,t,n,r,i,s;this._ctx.beginPath();for(e=0,n=this._parts.length;e<n;e++){for(t=0,r=this._parts[e].length;t<r;t++)i=this._parts[e][t],s=(t===0?"move":"line")+"To",this._ctx[s](i.x,i.y);this instanceof L.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(this._checkIfEmpty())return;this._drawPath(),this._ctx.save(),this._updateStyle();var e=this.options.opacity,t=this.options.fillOpacity;this.options.fill&&(t<1&&(this._ctx.globalAlpha=t),this._ctx.fill()),this.options.stroke&&(e<1&&(this._ctx.globalAlpha=e),this._ctx.stroke()),this._ctx.restore()},_initEvents:function(){this.options.clickable&&this._map.on("click",this._onClick,this)},_onClick:function(e){this._containsPoint(e.layerPoint)&&this.fire("click",e)},onRemove:function(e){e.off("viewreset",this._projectLatlngs,this),e.off(this._updateTrigger,this._updatePath,this),e.fire(this._updateTrigger)}}),L.Map.include(L.Path.SVG&&!window.L_PREFER_CANVAS||!L.Browser.canvas?{}:{_initPathRoot:function(){var e=this._pathRoot,t;e||(e=this._pathRoot=document.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){this._updatePathViewport();var e=this._pathViewport,t=e.min,n=e.max.subtract(t),r=this._pathRoot;L.DomUtil.setPosition(r,t),r.width=n.x,r.height=n.y,r.getContext("2d").translate(-t.x,-t.y)}}),L.LineUtil={simplify:function(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=this._reducePoints(e,n),e=this._simplifyDP(e,n),e},pointToSegmentDistance:function(e,t,n){return Math.sqrt(this._sqClosestPointOnSegment(e,t,n,!0))},closestPointOnSegment:function(e,t,n){return this._sqClosestPointOnSegment(e,t,n)},_simplifyDP:function(e,t){var n=e.length,r=typeof Uint8Array!="undefined"?Uint8Array:Array,i=new r(n);i[0]=i[n-1]=1,this._simplifyDPStep(e,i,t,0,n-1);var s,o=[];for(s=0;s<n;s++)i[s]&&o.push(e[s]);return o},_simplifyDPStep:function(e,t,n,r,i){var s=0,o,u,a;for(u=r+1;u<=i-1;u++)a=this._sqClosestPointOnSegment(e[u],e[r],e[i],!0),a>s&&(o=u,s=a);s>n&&(t[o]=1,this._simplifyDPStep(e,t,n,r,o),this._simplifyDPStep(e,t,n,o,i))},_reducePoints:function(e,t){var n=[e[0]];for(var r=1,i=0,s=e.length;r<s;r++)this._sqDist(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<s-1&&n.push(e[s-1]),n},clipSegment:function(e,t,n,r){var i=n.min,s=n.max,o=r?this._lastCode:this._getBitCode(e,n),u=this._getBitCode(t,n);this._lastCode=u;for(;;){if(!(o|u))return[e,t];if(o&u)return!1;var a=o||u,f=this._getEdgeIntersection(e,t,a,n),l=this._getBitCode(f,n);a===o?(e=f,o=l):(t=f,u=l)}},_getEdgeIntersection:function(e,t,n,r){var i=t.x-e.x,s=t.y-e.y,o=r.min,u=r.max;if(n&8)return new L.Point(e.x+i*(u.y-e.y)/s,u.y);if(n&4)return new L.Point(e.x+i*(o.y-e.y)/s,o.y);if(n&2)return new L.Point(u.x,e.y+s*(u.x-e.x)/i);if(n&1)return new L.Point(o.x,e.y+s*(o.x-e.x)/i)},_getBitCode:function(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},_sqClosestPointOnSegment:function(e,t,n,r){var i=t.x,s=t.y,o=n.x-i,u=n.y-s,a=o*o+u*u,f;return a>0&&(f=((e.x-i)*o+(e.y-s)*u)/a,f>1?(i=n.x,s=n.y):f>0&&(i+=o*f,s+=u*f)),o=e.x-i,u=e.y-s,r?o*o+u*u:new L.Point(i,s)}},L.Polyline=L.Path.extend({initialize:function(e,t){L.Path.prototype.initialize.call(this,t),this._latlngs=e},options:{smoothFactor:1,noClip:!1,updateOnMoveEnd:!0},projectLatlngs:function(){this._originalPoints=[];for(var e=0,t=this._latlngs.length;e<t;e++)this._originalPoints[e]=this._map.latLngToLayerPoint(this._latlngs[e])},getPathString:function(){for(var e=0,t=this._parts.length,n="";e<t;e++)n+=this._getPathPartStr(this._parts[e]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._latlngs=e,this._redraw(),this},addLatLng:function(e){return this._latlngs.push(e),this._redraw(),this},spliceLatLngs:function(e,t){var n=[].splice.apply(this._latlngs,arguments);return this._redraw(),n},closestLayerPoint:function(e){var t=Infinity,n=this._parts,r,i,s=null;for(var o=0,u=n.length;o<u;o++){var a=n[o];for(var f=1,l=a.length;f<l;f++){r=a[f-1],i=a[f];var c=L.LineUtil._sqClosestPointOnSegment(e,r,i);c._sqDist<t&&(t=c._sqDist,s=c)}}return s&&(s.distance=Math.sqrt(t)),s},getBounds:function(){var e=new L.LatLngBounds,t=this.getLatLngs();for(var n=0,r=t.length;n<r;n++)e.extend(t[n]);return e},_getPathPartStr:function(e){var t=L.Path.VML;for(var n=0,r=e.length,i="",s;n<r;n++)s=e[n],t&&s._round(),i+=(n?"L":"M")+s.x+" "+s.y;return i},_clipPoints:function(){var e=this._originalPoints,t=e.length,n,r,i;if(this.options.noClip){this._parts=[e];return}this._parts=[];var s=this._parts,o=this._map._pathViewport,u=L.LineUtil;for(n=0,r=0;n<t-1;n++){i=u.clipSegment(e[n],e[n+1],o,n);if(!i)continue;s[r]=s[r]||[],s[r].push(i[0]);if(i[1]!==e[n+1]||n===t-2)s[r].push(i[1]),r++}},_simplifyPoints:function(){var e=this._parts,t=L.LineUtil;for(var n=0,r=e.length;n<r;n++)e[n]=t.simplify(e[n],this.options.smoothFactor)},_updatePath:function(){this._clipPoints(),this._simplifyPoints(),L.Path.prototype._updatePath.call(this)}}),L.PolyUtil={},L.PolyUtil.clipPolygon=function(e,t){var n=t.min,r=t.max,i,s=[1,4,2,8],o,u,a,f,l,c,h,p,d=L.LineUtil;for(o=0,c=e.length;o<c;o++)e[o]._code=d._getBitCode(e[o],t);for(a=0;a<4;a++){h=s[a],i=[];for(o=0,c=e.length,u=c-1;o<c;u=o++)f=e[o],l=e[u],f._code&h?l._code&h||(p=d._getEdgeIntersection(l,f,h,t),p._code=d._getBitCode(p,t),i.push(p)):(l._code&h&&(p=d._getEdgeIntersection(l,f,h,t),p._code=d._getBitCode(p,t),i.push(p)),i.push(f));e=i}return e},L.Polygon=L.Polyline.extend({options:{fill:!0},initialize:function(e,t){L.Polyline.prototype.initialize.call(this,e,t),e&&e[0]instanceof Array&&(this._latlngs=e[0],this._holes=e.slice(1))},projectLatlngs:function(){L.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[];if(!this._holes)return;for(var e=0,t=this._holes.length,n;e<t;e++){this._holePoints[e]=[];for(var r=0,i=this._holes[e].length;r<i;r++)this._holePoints[e][r]=this._map.latLngToLayerPoint(this._holes[e][r])}},_clipPoints:function(){var e=this._originalPoints,t=[];this._parts=[e].concat(this._holePoints);if(this.options.noClip)return;for(var n=0,r=this._parts.length;n<r;n++){var i=L.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);if(!i.length)continue;t.push(i)}this._parts=t},_getPathPartStr:function(e){var t=L.Polyline.prototype._getPathPartStr.call(this,e);return t+(L.Browser.svg?"z":"x")}}),function(){function e(e){return L.FeatureGroup.extend({initialize:function(e,t){this._layers={},this._options=t,this.setLatLngs(e)},setLatLngs:function(t){var n=0,r=t.length;this._iterateLayers(function(e){n<r?e.setLatLngs(t[n++]):this.removeLayer(e)},this);while(n<r)this.addLayer(new e(t[n++],this._options))}})}L.MultiPolyline=e(L.Polyline),L.MultiPolygon=e(L.Polygon)}(),L.Circle=L.Path.extend({initialize:function(e,t,n){L.Path.prototype.initialize.call(this,n),this._latlng=e,this._mRadius=t},options:{fill:!0},setLatLng:function(e){return this._latlng=e,this._redraw(),this},setRadius:function(e){return this._mRadius=e,this._redraw(),this},projectLatlngs:function(){var e=40075017,t=e*Math.cos(L.LatLng.DEG_TO_RAD*this._latlng.lat),n=this._mRadius/t*360,r=new L.LatLng(this._latlng.lat,this._latlng.lng-n,!0),i=this._map.latLngToLayerPoint(r);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.round(this._point.x-i.x)},getPathString:function(){var e=this._point,t=this._radius;return this._checkIfEmpty()?"":L.Browser.svg?"M"+e.x+","+(e.y-t)+"A"+t+","+t+",0,1,1,"+(e.x-.1)+","+(e.y-t)+" z":(e._round(),t=Math.round(t),"AL "+e.x+","+e.y+" "+t+","+t+" 0,"+23592600)},_checkIfEmpty:function(){var e=this._map._pathViewport,t=this._radius,n=this._point;return n.x-t>e.max.x||n.y-t>e.max.y||n.x+t<e.min.x||n.y+t<e.min.y}}),L.CircleMarker=L.Circle.extend({options:{radius:10,weight:2},initialize:function(e,t){L.Circle.prototype.initialize.call(this,e,null,t),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(e){return this._radius=e,this._redraw(),this}}),L.Polyline.include(L.Path.CANVAS?{_containsPoint:function(e,t){var n,r,i,s,o,u,a,f=this.options.weight/2;L.Browser.touch&&(f+=10);for(n=0,s=this._parts.length;n<s;n++
){a=this._parts[n];for(r=0,o=a.length,i=o-1;r<o;i=r++){if(!t&&r===0)continue;u=L.LineUtil.pointToSegmentDistance(e,a[i],a[r]);if(u<=f)return!0}}return!1}}:{}),L.Polygon.include(L.Path.CANVAS?{_containsPoint:function(e){var t=!1,n,r,i,s,o,u,a,f;if(L.Polyline.prototype._containsPoint.call(this,e,!0))return!0;for(s=0,a=this._parts.length;s<a;s++){n=this._parts[s];for(o=0,f=n.length,u=f-1;o<f;u=o++)r=n[o],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(t=!t)}return t}}:{}),L.Circle.include(L.Path.CANVAS?{_drawPath:function(){var e=this._point;this._ctx.beginPath(),this._ctx.arc(e.x,e.y,this._radius,0,Math.PI*2)},_containsPoint:function(e){var t=this._point,n=this.options.stroke?this.options.weight/2:0;return e.distanceTo(t)<=this._radius+n}}:{}),L.GeoJSON=L.FeatureGroup.extend({initialize:function(e,t){L.Util.setOptions(this,t),this._geojson=e,this._layers={},e&&this.addGeoJSON(e)},addGeoJSON:function(e){if(e.features){for(var t=0,n=e.features.length;t<n;t++)this.addGeoJSON(e.features[t]);return}var r=e.type==="Feature",i=r?e.geometry:e,s=L.GeoJSON.geometryToLayer(i,this.options.pointToLayer);this.fire("featureparse",{layer:s,properties:e.properties,geometryType:i.type,bbox:e.bbox,id:e.id}),this.addLayer(s)}}),L.Util.extend(L.GeoJSON,{geometryToLayer:function(e,t){var n=e.coordinates,r,i,s,o,u,a=[];switch(e.type){case"Point":return r=this.coordsToLatLng(n),t?t(r):new L.Marker(r);case"MultiPoint":for(s=0,o=n.length;s<o;s++)r=this.coordsToLatLng(n[s]),u=t?t(r):new L.Marker(r),a.push(u);return new L.FeatureGroup(a);case"LineString":return i=this.coordsToLatLngs(n),new L.Polyline(i);case"Polygon":return i=this.coordsToLatLngs(n,1),new L.Polygon(i);case"MultiLineString":return i=this.coordsToLatLngs(n,1),new L.MultiPolyline(i);case"MultiPolygon":return i=this.coordsToLatLngs(n,2),new L.MultiPolygon(i);case"GeometryCollection":for(s=0,o=e.geometries.length;s<o;s++)u=this.geometryToLayer(e.geometries[s],t),a.push(u);return new L.FeatureGroup(a);default:throw Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e,t){var n=parseFloat(e[t?0:1]),r=parseFloat(e[t?1:0]);return new L.LatLng(n,r,!0)},coordsToLatLngs:function(e,t,n){var r,i=[],s,o=e.length;for(s=0;s<o;s++)r=t?this.coordsToLatLngs(e[s],t-1,n):this.coordsToLatLng(e[s],n),i.push(r);return i}}),L.DomEvent={addListener:function(e,t,n,r){var i=L.Util.stamp(n),s="_leaflet_"+t+i;if(e[s])return;var o=function(t){return n.call(r||e,t||L.DomEvent._getEvent())};if(L.Browser.touch&&t==="dblclick"&&this.addDoubleTapListener)this.addDoubleTapListener(e,o,i);else if("addEventListener"in e)if(t==="mousewheel")e.addEventListener("DOMMouseScroll",o,!1),e.addEventListener(t,o,!1);else if(t==="mouseenter"||t==="mouseleave"){var u=o,a=t==="mouseenter"?"mouseover":"mouseout";o=function(t){if(!L.DomEvent._checkMouse(e,t))return;return u(t)},e.addEventListener(a,o,!1)}else e.addEventListener(t,o,!1);else"attachEvent"in e&&e.attachEvent("on"+t,o);e[s]=o},removeListener:function(e,t,n){var r=L.Util.stamp(n),i="_leaflet_"+t+r,s=e[i];if(!s)return;L.Browser.touch&&t==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,r):"removeEventListener"in e?t==="mousewheel"?(e.removeEventListener("DOMMouseScroll",s,!1),e.removeEventListener(t,s,!1)):t==="mouseenter"||t==="mouseleave"?e.removeEventListener(t==="mouseenter"?"mouseover":"mouseout",s,!1):e.removeEventListener(t,s,!1):"detachEvent"in e&&e.detachEvent("on"+t,s),e[i]=null},_checkMouse:function(e,t){var n=t.relatedTarget;if(!n)return!0;try{while(n&&n!==e)n=n.parentNode}catch(r){return!1}return n!==e},_getEvent:function(){var e=window.event;if(!e){var t=arguments.callee.caller;while(t){e=t.arguments[0];if(e&&window.Event===e.constructor)break;t=t.caller}}return e},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},disableClickPropagation:function(e){L.DomEvent.addListener(e,L.Draggable.START,L.DomEvent.stopPropagation),L.DomEvent.addListener(e,"click",L.DomEvent.stopPropagation),L.DomEvent.addListener(e,"dblclick",L.DomEvent.stopPropagation)},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stop:function(e){L.DomEvent.preventDefault(e),L.DomEvent.stopPropagation(e)},getMousePosition:function(e,t){var n=e.pageX?e.pageX:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=e.pageY?e.pageY:e.clientY+document.body.scrollTop+document.documentElement.scrollTop,i=new L.Point(n,r);return t?i.subtract(L.DomUtil.getViewportOffset(t)):i},getWheelDelta:function(e){var t=0;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),t}},L.Draggable=L.Class.extend({includes:L.Mixin.Events,statics:{START:L.Browser.touch?"touchstart":"mousedown",END:L.Browser.touch?"touchend":"mouseup",MOVE:L.Browser.touch?"touchmove":"mousemove",TAP_TOLERANCE:15},initialize:function(e,t){this._element=e,this._dragStartTarget=t||e},enable:function(){if(this._enabled)return;L.DomEvent.addListener(this._dragStartTarget,L.Draggable.START,this._onDown,this),this._enabled=!0},disable:function(){if(!this._enabled)return;L.DomEvent.removeListener(this._dragStartTarget,L.Draggable.START,this._onDown),this._enabled=!1},_onDown:function(e){if(!L.Browser.touch&&e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)return;if(e.touches&&e.touches.length>1)return;var t=e.touches&&e.touches.length===1?e.touches[0]:e,n=t.target;L.DomEvent.preventDefault(e),L.Browser.touch&&n.tagName.toLowerCase()==="a"&&(n.className+=" leaflet-active"),this._moved=!1;if(this._moving)return;L.Browser.touch||(L.DomUtil.disableTextSelection(),this._setMovingCursor()),this._startPos=this._newPos=L.DomUtil.getPosition(this._element),this._startPoint=new L.Point(t.clientX,t.clientY),L.DomEvent.addListener(document,L.Draggable.MOVE,this._onMove,this),L.DomEvent.addListener(document,L.Draggable.END,this._onUp,this)},_onMove:function(e){if(e.touches&&e.touches.length>1)return;L.DomEvent.preventDefault(e);var t=e.touches&&e.touches.length===1?e.touches[0]:e;this._moved||(this.fire("dragstart"),this._moved=!0),this._moving=!0;var n=new L.Point(t.clientX,t.clientY);this._newPos=this._startPos.add(n).subtract(this._startPoint),L.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)},_updatePosition:function(){this.fire("predrag"),L.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(e){if(e.changedTouches){var t=e.changedTouches[0],n=t.target,r=this._newPos&&this._newPos.distanceTo(this._startPos)||0;n.tagName.toLowerCase()==="a"&&(n.className=n.className.replace(" leaflet-active","")),r<L.Draggable.TAP_TOLERANCE&&this._simulateEvent("click",t)}L.Browser.touch||(L.DomUtil.enableTextSelection(),this._restoreCursor()),L.DomEvent.removeListener(document,L.Draggable.MOVE,this._onMove),L.DomEvent.removeListener(document,L.Draggable.END,this._onUp),this._moved&&this.fire("dragend"),this._moving=!1},_setMovingCursor:function(){this._bodyCursor=document.body.style.cursor,document.body.style.cursor="move"},_restoreCursor:function(){document.body.style.cursor=this._bodyCursor},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}),L.Handler=L.Class.extend({initialize:function(e){this._map=e},enable:function(){if(this._enabled)return;this._enabled=!0,this.addHooks()},disable:function(){if(!this._enabled)return;this._enabled=!1,this.removeHooks()},enabled:function(){return!!this._enabled}}),L.Map.Drag=L.Handler.extend({addHooks:function(){if(!this._draggable){this._draggable=new L.Draggable(this._map._mapPane,this._map._container),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);var e=this._map.options;e.worldCopyJump&&!e.continuousWorld&&(this._draggable.on("predrag",this._onPreDrag,this),this._map.on("viewreset",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._map.fire("movestart").fire("dragstart")},_onDrag:function(){this._map.fire("move").fire("drag")},_onViewReset:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint(new L.LatLng(0,0));this._initialWorldOffset=t.subtract(e)},_onPreDrag:function(){var e=this._map,t=e.options.scale(e.getZoom()),n=Math.round(t/2),r=this._initialWorldOffset.x,i=this._draggable._newPos.x,s=(i-n+r)%t+n-r,o=(i+n+r)%t-n-r,u=Math.abs(s+r)<Math.abs(o+r)?s:o;this._draggable._newPos.x=u},_onDragEnd:function(){var e=this._map;e.fire("moveend").fire("dragend"),e.options.maxBounds&&L.Util.requestAnimFrame(this._panInsideMaxBounds,e,!0,e._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),L.Map.DoubleClickZoom=L.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(e){this.setView(e.latlng,this._zoom+1)}}),L.Map.ScrollWheelZoom=L.Handler.extend({addHooks:function(){L.DomEvent.addListener(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){L.DomEvent.removeListener(this._map._container,"mousewheel",this._onWheelScroll)},_onWheelScroll:function(e){var t=L.DomEvent.getWheelDelta(e);this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),clearTimeout(this._timer),this._timer=setTimeout(L.Util.bind(this._performZoom,this),50),L.DomEvent.preventDefault(e)},_performZoom:function(){var e=this._map,t=Math.round(this._delta),n=e.getZoom();t=Math.max(Math.min(t,4),-4),t=e._limitZoom(n+t)-n,this._delta=0;if(!t)return;var r=this._getCenterForScrollWheelZoom(this._lastMousePos,t),i=n+t;e.setView(r,i)},_getCenterForScrollWheelZoom:function(e,t){var n=this._map,r=n.getPixelBounds().getCenter(),i=n.getSize().divideBy(2),s=e.subtract(i).multiplyBy(1-Math.pow(2,-t)),o=r.add(s);return n.unproject(o,n._zoom,!0)}}),L.Util.extend(L.DomEvent,{addDoubleTapListener:function(e,t,n){function r(e){if(e.touches.length!==1)return;var t=Date.now(),n=t-(s||t);a=e.touches[0],o=n>0&&n<=u,s=t}function i(e){o&&(a.type="dblclick",t(a),s=null)}var s,o=!1,u=250,a,f="_leaflet_",l="touchstart",c="touchend";e[f+l+n]=r,e[f+c+n]=i,e.addEventListener(l,r,!1),e.addEventListener(c,i,!1)},removeDoubleTapListener:function(e,t){var n="_leaflet_";e.removeEventListener(e,e[n+"touchstart"+t],!1),e.removeEventListener(e,e[n+"touchend"+t],!1)}}),L.Map.TouchZoom=L.Handler.extend({addHooks:function(){L.DomEvent.addListener(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){L.DomEvent.removeListener(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){if(!e.touches||e.touches.length!==2||this._map._animatingZoom)return;var t=this._map.mouseEventToLayerPoint(e.touches[0]),n=this._map.mouseEventToLayerPoint(e.touches[1]),r=this._map.containerPointToLayerPoint(this._map.getSize().divideBy(2));this._startCenter=t.add(n).divideBy(2,!0),this._startDist=t.distanceTo(n),this._moved=!1,this._zooming=!0,this._centerOffset=r.subtract(this._startCenter),L.DomEvent.addListener(document,"touchmove",this._onTouchMove,this),L.DomEvent.addListener(document,"touchend",this._onTouchEnd,this),L.DomEvent.preventDefault(e)},_onTouchMove:function(e){if(!e.touches||e.touches.length!==2)return;this._moved||(this._map._mapPane.className+=" leaflet-zoom-anim",this._map.fire("zoomstart").fire("movestart")._prepareTileBg(),this._moved=!0);var t=this._map.mouseEventToLayerPoint(e.touches[0]),n=this._map.mouseEventToLayerPoint(e.touches[1]);this._scale=t.distanceTo(n)/this._startDist,this._delta=t.add(n).divideBy(2,!0).subtract(this._startCenter),this._map._tileBg.style.webkitTransform=[L.DomUtil.getTranslateString(this._delta),L.DomUtil.getScaleString(this._scale,this._startCenter)].join(" "),L.DomEvent.preventDefault(e)},_onTouchEnd:function(e){if(!this._moved||!this._zooming)return;this._zooming=!1;var t=this._map.getZoom(),n=Math.log(this._scale)/Math.LN2,r=n>0?Math.ceil(n):Math.floor(n),i=this._map._limitZoom(t+r),s=i-t,o=this._centerOffset.subtract(this._delta).divideBy(this._scale),u=this._map.getPixelOrigin().add(this._startCenter).add(o),a=this._map.unproject(u);L.DomEvent.removeListener(document,"touchmove",this._onTouchMove),L.DomEvent.removeListener(document,"touchend",this._onTouchEnd);var f=Math.pow(2,s);this._map._runAnimation(a,i,f/this._scale,this._startCenter.add(o))}}),L.Map.BoxZoom=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.addListener(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){L.DomEvent.removeListener(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;L.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(e),this._box=L.DomUtil.create("div","leaflet-zoom-box",this._pane),L.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",L.DomEvent.addListener(document,"mousemove",this._onMouseMove,this),L.DomEvent.addListener(document,"mouseup",this._onMouseUp,this),L.DomEvent.preventDefault(e)},_onMouseMove:function(e){var t=this._map.mouseEventToLayerPoint(e),n=t.x-this._startLayerPoint.x,r=t.y-this._startLayerPoint.y,i=Math.min(t.x,this._startLayerPoint.x),s=Math.min(t.y,this._startLayerPoint.y),o=new L.Point(i,s);L.DomUtil.setPosition(this._box,o),this._box.style.width=Math.abs(n)-4+"px",this._box.style.height=Math.abs(r)-4+"px"},_onMouseUp:function(e){this._pane.removeChild(this._box),this._container.style.cursor="",L.DomUtil.enableTextSelection(),L.DomEvent.removeListener(document,"mousemove",this._onMouseMove),L.DomEvent.removeListener(document,"mouseup",this._onMouseUp);var t=this._map.mouseEventToLayerPoint(e),n=new L.LatLngBounds(this._map.layerPointToLatLng(this._startLayerPoint),this._map.layerPointToLatLng(t));this._map.fitBounds(n)}}),L.Handler.MarkerDrag=L.Handler.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new L.Draggable(e,e),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(e){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(e){var t=L.DomUtil.getPosition(this._marker._icon);this._marker._shadow&&L.DomUtil.setPosition(this._marker._shadow,t),this._marker._latlng=this._marker._map.layerPointToLatLng(t),this._marker.fire("move").fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),L.Control={},L.Control.Position={TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight"},L.Map.include({addControl:function(e){e.onAdd(this);var t=e.getPosition(),n=this._controlCorners[t],r=e.getContainer();return L.DomUtil.addClass(r,"leaflet-control"),t.indexOf("bottom")!==-1?n.insertBefore(r,n.firstChild):n.appendChild(r),this},removeControl:function(e){var t=e.getPosition(),n=this._controlCorners[t],r=e.getContainer();return n.removeChild(r),e.onRemove&&e.onRemove(this),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=t+"top",r=t+"bottom",i=t+"left",s=t+"right",o=L.DomUtil.create("div",t+"control-container",this._container);L.Browser.touch&&(o.className+=" "+t+"big-buttons"),e.topLeft=L.DomUtil.create("div",n+" "+i,o),e.topRight=L.DomUtil.create("div",n+" "+s,o),e.bottomLeft=L.DomUtil.create("div",r+" "+i,o),e.bottomRight=L.DomUtil.create("div",r+" "+s,o)}}),L.Control.Zoom=L.Class.extend({onAdd:function(e){this._map=e,this._container=L.DomUtil.create("div","leaflet-control-zoom"),this._zoomInButton=this._createButton("Zoom in","leaflet-control-zoom-in",this._map.zoomIn,this._map),this._zoomOutButton=this._createButton("Zoom out","leaflet-control-zoom-out",this._map.zoomOut,this._map),this._container.appendChild(this._zoomInButton),this._container.appendChild(this._zoomOutButton)},getContainer:function(){return this._container},getPosition:function(){return L.Control.Position.TOP_LEFT},_createButton:function(e,t,n,r){var i=document.createElement("a");return i.href="#",i.title=e,i.className=t,L.Browser.touch||L.DomEvent.disableClickPropagation(i),L.DomEvent.addListener(i,"click",L.DomEvent.preventDefault),L.DomEvent.addListener(i,"click",n,r),i}}),L.Control.Attribution=L.Class.extend({initialize:function(e){this._prefix=e||'Powered by <a href="http://leaflet.cloudmade.com">Leaflet</a>',this._attributions={}},onAdd:function(e){this._container=L.DomUtil.create("div","leaflet-control-attribution"),L.DomEvent.disableClickPropagation(this._container),this._map=e,this._update()},getPosition:function(){return L.Control.Position.BOTTOM_RIGHT},getContainer:function(){return this._container},setPrefix:function(e){this._prefix=e,this._update()},addAttribution:function(e){if(!e)return;this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update()},removeAttribution:function(e){if(!e)return;this._attributions[e]--,this._update()},_update:function(){if(!this._map)return;var e=[];for(var t in this._attributions)this._attributions.hasOwnProperty(t)&&e.push(t);var n=[];this._prefix&&n.push(this._prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" &mdash; ")}}),L.Control.Layers=L.Class.extend({options:{collapsed:!0},initialize:function(e,t,n){L.Util.setOptions(this,n),this._layers={};for(var r in e)e.hasOwnProperty(r)&&this._addLayer(e[r],r);for(r in t)t.hasOwnProperty(r)&&this._addLayer(t[r],r,!0)},onAdd:function(e){this._map=e,this._initLayout(),this._update()},getContainer:function(){return this._container},getPosition:function(){return L.Control.Position.TOP_RIGHT},addBaseLayer:function(e,t){return this._addLayer(e,t),this._update(),this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._update(),this},removeLayer:function(e){var t=L.Util.stamp(e);return delete this._layers[t],this._update(),this},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-control-layers"),L.Browser.touch||L.DomEvent.disableClickPropagation(this._container),this._form=L.DomUtil.create("form","leaflet-control-layers-list");if(this.options.collapsed){L.DomEvent.addListener(this._container,"mouseover",this._expand,this),L.DomEvent.addListener(this._container,"mouseout",this._collapse,this);var e=this._layersLink=L.DomUtil.create("a","leaflet-control-layers-toggle");e.href="#",e.title="Layers",L.Browser.touch?L.DomEvent.addListener(e,"click",this._expand,this):L.DomEvent.addListener(e,"focus",this._expand,this),this._map.on("movestart",this._collapse,this),this._container.appendChild(e)}else this._expand();this._baseLayersList=L.DomUtil.create("div","leaflet-control-layers-base",this._form),this._separator=L.DomUtil.create("div","leaflet-control-layers-separator",this._form),this._overlaysList=L.DomUtil.create("div","leaflet-control-layers-overlays",this._form),this._container.appendChild(this._form)},_addLayer:function(e,t,n){var r=L.Util.stamp(e);this._layers[r]={layer:e,name:t,overlay:n}},_update:function(){if(!this._container)return;this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var e=!1,t=!1;for(var n in this._layers)if(this._layers.hasOwnProperty(n)){var r=this._layers[n];this._addItem(r),t=t||r.overlay,e=e||!r.overlay}this._separator.style.display=t&&e?"":"none"},_addItem:function(e,t){var n=document.createElement("label"),r=document.createElement("input");e.overlay||(r.name="leaflet-base-layers"),r.type=e.overlay?"checkbox":"radio",r.checked=this._map.hasLayer(e.layer),r.layerId=L.Util.stamp(e.layer),L.DomEvent.addListener(r,"click",this._onInputClick,this);var i=document.createTextNode(" "+e.name);n.appendChild(r),n.appendChild(i);var s=e.overlay?this._overlaysList:this._baseLayersList;s.appendChild(n)},_onInputClick:function(){var e,t,n,r=this._form.getElementsByTagName("input"),i=r.length;for(e=0;e<i;e++)t=r[e],n=this._layers[t.layerId],t.checked?this._map.addLayer(n.layer,!n.overlay):this._map.removeLayer(n.layer)},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),L.Transition=L.Class.extend({includes:L.Mixin.Events,statics:{CUSTOM_PROPS_SETTERS:{position:L.DomUtil.setPosition},implemented:function(){return L.Transition.NATIVE||L.Transition.TIMER}},options:{easing:"ease",duration:.5},_setProperty:function(e,t){var n=L.Transition.CUSTOM_PROPS_SETTERS;e in n?n[e](this._el,t):this._el.style[e]=t}}),L.Transition=L.Transition.extend({statics:function(){var e=L.DomUtil.TRANSITION,t=e==="webkitTransition"||e==="OTransition"?e+"End":"transitionend";return{NATIVE:!!e,TRANSITION:e,PROPERTY:e+"Property",DURATION:e+"Duration",EASING:e+"TimingFunction",END:t,CUSTOM_PROPS_PROPERTIES:{position:L.Browser.webkit?L.DomUtil.TRANSFORM:"top, left"}}}(),options:{fakeStepInterval:100},initialize:function(e,t){this._el=e,L.Util.setOptions(this,t),L.DomEvent.addListener(e,L.Transition.END,this._onTransitionEnd,this),this._onFakeStep=L.Util.bind(this._onFakeStep,this)},run:function(e){var t,n=[],r=L.Transition.CUSTOM_PROPS_PROPERTIES;for(t in e)e.hasOwnProperty(t)&&(t=r[t]?r[t]:t,t=this._dasherize(t),n.push(t));this._el.style[L.Transition.DURATION]=this.options.duration+"s",this._el.style[L.Transition.EASING]=this.options.easing,this._el.style[L.Transition.PROPERTY]=n.join(", ");for(t in e)e.hasOwnProperty(t)&&this._setProperty(t,e[t]);this._inProgress=!0,this.fire("start"),L.Transition.NATIVE?(clearInterval(this._timer),this._timer=setInterval(this._onFakeStep,this.options.fakeStepInterval)):this._onTransitionEnd()},_dasherize:function(){function e(e){return"-"+e.toLowerCase()}var t=/([A-Z])/g;return function(n){return n.replace(t,e)}}(),_onFakeStep:function(){this.fire("step")},_onTransitionEnd:function(){this._inProgress&&(this._inProgress=!1,clearInterval(this._timer),this._el.style[L.Transition.PROPERTY]="none",this.fire("step"),this.fire("end"))}}),L.Transition=L.Transition.NATIVE?L.Transition:L.Transition.extend({statics:{getTime:Date.now||function(){return+(new Date)},TIMER:!0,EASINGS:{ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},CUSTOM_PROPS_GETTERS:{position:L.DomUtil.getPosition},UNIT_RE:/^[\d\.]+(\D*)$/},options:{fps:50},initialize:function(e,t){this._el=e,L.Util.extend(this.options,t);var n=L.Transition.EASINGS[this.options.easing]||L.Transition.EASINGS.ease;this._p1=new L.Point(0,0),this._p2=new L.Point(n[0],n[1]),this._p3=new L.Point(n[2],n[3]),this._p4=new L.Point(1,1),this._step=L.Util.bind(this._step,this),this._interval=Math.round(1e3/this.options.fps)},run:function(e){this._props={};var t=L.Transition.CUSTOM_PROPS_GETTERS,n=L.Transition.UNIT_RE;this.fire("start");for(var r in e)if(e.hasOwnProperty(r)){var i={};if(r in t)i.from=t[r](this._el);else{var s=this._el.style[r].match(n);i.from=parseFloat(s[0]),i.unit=s[1]}i.to=e[r],this._props[r]=i}clearInterval(this._timer),this._timer=setInterval(this._step,this._interval),this._startTime=L.Transition.getTime()},_step:function(){var e=L.Transition.getTime(),t=e-this._startTime,n=this.options.duration*1e3;t<n?this._runFrame(this._cubicBezier(t/n)):(this._runFrame(1),this._complete())},_runFrame:function(e){var t=L.Transition.CUSTOM_PROPS_SETTERS,n,r,i;for(n in this._props)this._props.hasOwnProperty(n)&&(r=this._props[n],n in t?(i=r.to.subtract(r.from).multiplyBy(e).add(r.from),t[n](this._el,i)):this._el.style[n]=(r.to-r.from)*e+r.from+r.unit);this.fire("step")},_complete:function(){clearInterval(this._timer),this.fire("end")},_cubicBezier:function(e){var t=Math.pow(1-e,3),n=3*Math.pow(1-e,2)*e,r=3*(1-e)*Math.pow(e,2),i=Math.pow(e,3),s=this._p1.multiplyBy(t),o=this._p2.multiplyBy(n),u=this._p3.multiplyBy(r),a=this._p4.multiplyBy(i);return s.add(o).add(u).add(a).y}}),L.Map.include(!L.Transition||!L.Transition.implemented()?{}:{setView:function(e,t,n){t=this._limitZoom(t);var r=this._zoom!==t;if(this._loaded&&!n&&this._layers){var i=this._getNewTopLeftPoint(e).subtract(this._getTopLeftPoint());e=new L.LatLng(e.lat,e.lng);var s=r?!!this._zoomToIfCenterInView&&this._zoomToIfCenterInView(e,t,i):this._panByIfClose(i);if(s)return this}return this._resetView(e,t),this},panBy:function(e){return!e.x&&!e.y?this:(this._panTransition||(this._panTransition=new L.Transition(this._mapPane,{duration:.3}),this._panTransition.on("step",this._onPanTransitionStep,this),this._panTransition.on("end",this._onPanTransitionEnd,this)),this.fire("movestart"),this._panTransition.run({position:L.DomUtil.getPosition(this._mapPane).subtract(e)}),this)},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){this.fire("moveend")},_panByIfClose:function(e){return this._offsetIsWithinView(e)?(this.panBy(e),!0):!1},_offsetIsWithinView:function(e,t){var n=t||1,r=this.getSize();return Math.abs(e.x)<=r.x*n&&Math.abs(e.y)<=r.y*n}}),L.Map.include(L.DomUtil.TRANSITION?{_zoomToIfCenterInView:function(e,t,n){if(this._animatingZoom)return!0;if(!this.options.zoomAnimation)return!1;var r=t-this._zoom,i=Math.pow(2,r),s=n.divideBy(1-1/i);if(!this._offsetIsWithinView(s,1))return!1;this._mapPane.className+=" leaflet-zoom-anim",this.fire("movestart").fire("zoomstart");var o=this.containerPointToLayerPoint(this.getSize().divideBy(2)),u=o.add(s);return this._prepareTileBg(),this._runAnimation(e,t,i,u),!0},_runAnimation:function(e,t,n,r){this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t;var i=L.DomUtil.TRANSFORM;clearTimeout(this._clearTileBgTimer);if(L.Browser.gecko||window.opera)this._tileBg.style[i]+=" translate(0,0)";var s;L.Browser.android?(this._tileBg.style[i+"Origin"]=r.x+"px "+r.y+"px",s="scale("+n+")"):s=L.DomUtil.getScaleString(n,r),L.Util.falseFn(this._tileBg.offsetWidth);var o={};o[i]=this._tileBg.style[i]+" "+s,this._tileBg.transition.run(o)},_prepareTileBg:function(){this._tileBg||(this._tileBg=this._createPane("leaflet-tile-pane",this._mapPane),this._tileBg.style.zIndex=1);var e=this._tilePane,t=this._tileBg;t.style[L.DomUtil.TRANSFORM]="",t.style.visibility="hidden",t.empty=!0,e.empty=!1,this._tilePane=this._panes.tilePane=t,this._tileBg=e,this._tileBg.transition||(this._tileBg.transition=new L.Transition(this._tileBg,{duration:.3,easing:"cubic-bezier(0.25,0.1,0.25,0.75)"}),this._tileBg.transition.on("end",this._onZoomTransitionEnd,this)),this._stopLoadingBgTiles()},_stopLoadingBgTiles:function(){var e=[].slice.call(this._tileBg.getElementsByTagName("img"));for(var t=0,n=e.length;t<n;t++)e[t].complete||(e[t].onload=L.Util.falseFn,e[t].onerror=L.Util.falseFn,e[t].src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",e[t].parentNode.removeChild(e[t]),e[t]=null)},_onZoomTransitionEnd:function(){this._restoreTileFront(),L.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),this._mapPane.className=this._mapPane.className.replace(" leaflet-zoom-anim",""),this._animatingZoom=!1},_restoreTileFront:function(){this._tilePane.innerHTML="",this._tilePane.style.visibility="",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){!this._animatingZoom&&!this.touchZoom._zooming&&(this._tileBg.innerHTML="")}}:{}),L.Map.include({locate:function(e){this._locationOptions=e=L.Util.extend({watch:!1,setView:!1,maxZoom:Infinity,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},e);if(!navigator.geolocation)return this.fire("locationerror",{code:0,message:"Geolocation not supported."});var t=L.Util.bind(this._handleGeolocationResponse,this),n=L.Util.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId)},locateAndSetView:function(e,t){return t=L.Util.extend({maxZoom:e||Infinity,setView:!0},t),this.locate(t)},_handleGeolocationError:function(e){var t=e.code,n=t===1?"permission denied":t===2?"position unavailable":"timeout";this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=180*e.coords.accuracy/4e7,n=t*2,r=e.coords.latitude,i=e.coords.longitude,s=new L.LatLng(r,i),o=new L.LatLng(r-t,i-n),u=new L.LatLng(r+t,i+n),a=new L.LatLngBounds(o,u);if(this._locationOptions.setView){var f=Math.min(this.getBoundsZoom(a),this._locationOptions.maxZoom);this.setView(s,f)}this.fire("locationfound",{latlng:s,bounds:a,accuracy:e.coords.accuracy})}}),Raphael=function(){function e(){if(e.is(arguments[0],k)){for(var t=arguments[0],r=Bt[l](e,t.splice(0,3+e.is(t[0],N))),i=r.set(),s=0,o=t[w];s<o;s++){var u=t[s]||{};n.test(u.type)&&i[_](r[u.type]().attr(u))}return i}return Bt[l](e,arguments)}function a(){}function V(t){if(e.vml){var n=/^\s+|\s+$/g;V=Z(function(e){var t;e=v(e)[W](n,p);try{var r=new o.ActiveXObject("htmlfile");r.write("<body>"),r.close(),t=r.body}catch(i){t=o.createPopup().document.body}r=t.createTextRange();try{t.style.color=e;var s=r.queryCommandValue("ForeColor");return s=(s&255)<<16|s&65280|(s&16711680)>>>16,"#"+("000000"+s[L](16)).slice(-6)}catch(u){return"none"}})}else{var r=s.createElement("i");r.title="Raphaël Colour Picker",r.style.display="none",s.body[f](r),V=Z(function(e){return r.style.color=e,s.defaultView.getComputedStyle(r,p).getPropertyValue("color")})}return V(t)}function $(){return"hsb("+[this.h,this.s,this.b]+")"}function J(){return"hsl("+[this.h,this.s,this.l]+")"}function K(){return this.hex}function Z(e,t,n){function s(){var o=Array[r].slice.call(arguments,0),u=o[b]("►"),a=s.cache=s.cache||{},f=s.count=s.count||[];return a[i](u)?n?n(a[u]):a[u]:(f[w]>=1e3&&delete a[f.shift()],f[_](u),a[u]=e[l](t,o),n?n(a[u]):a[u])}return s}function rt(t){var n=[];if(!e.is(t,k)||!e.is(t&&t[0],k))t=e.parsePathString(t);for(var r=0,i=t[w];r<i;r++){n[r]=[];for(var s=0,o=t[r][w];s<o;s++)n[r][s]=t[r][s]}return n[L]=e._path2string,n}function ot(e,t,n,r){return[e,t,n,r,n,r]}function ut(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]}function at(e,t,n,r,i,s,o,u,a,f){var l=S.PI,h=l*120/180,p=l/180*(+i||0),d=[],v,g=Z(function(e,t,n){var r=e*S.cos(n)-t*S.sin(n);return e=e*S.sin(n)+t*S.cos(n),{x:r,y:e}});if(f)x=f[0],v=f[1],s=f[2],E=f[3];else{v=g(e,t,-p),e=v.x,t=v.y,v=g(u,a,-p),u=v.x,a=v.y,S.cos(l/180*i),S.sin(l/180*i),v=(e-u)/2,x=(t-a)/2,E=v*v/(n*n)+x*x/(r*r),E>1&&(E=S.sqrt(E),n=E*n,r=E*r),E=n*n;var y=r*r;E=(s==o?-1:1)*S.sqrt(S.abs((E*y-E*x*x-y*v*v)/(E*x*x+y*v*v))),s=E*n*x/r+(e+u)/2;var E=E*-r*v/n+(t+a)/2,x=S.asin(((t-E)/r).toFixed(7));v=S.asin(((a-E)/r).toFixed(7)),x=e<s?l-x:x,v=u<s?l-v:v,x<0&&(x=l*2+x),v<0&&(v=l*2+v),o&&x>v&&(x-=l*2),!o&&v>x&&(v-=l*2)}l=v-x,S.abs(l)>h&&(d=v,l=u,y=a,v=x+h*(o&&v>x?1:-1),u=s+n*S.cos(v),a=E+r*S.sin(v),d=at(u,a,n,r,i,0,o,l,y,[v,d,s,E])),l=v-x,i=S.cos(x),s=S.sin(x),o=S.cos(v),v=S.sin(v),l=S.tan(l/4),n=4/3*n*l,l=4/3*r*l,r=[e,t],e=[e+n*s,t-l*i],t=[u+n*v,a-l*o],u=[u,a],e[0]=2*r[0]-e[0],e[1]=2*r[1]-e[1];if(f)return[e,t,u][c](d);d=[e,t,u][c](d)[b]()[m](","),f=[],u=0;for(a=d[w];u<a;u++)f[u]=u%2?g(d[u-1],d[u],p).y:g(d[u],d[u+1],p).x;return f}function ft(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:M(f,3)*e+M(f,2)*3*a*n+f*3*a*a*i+M(a,3)*o,y:M(f,3)*t+M(f,2)*3*a*r+f*3*a*a*s+M(a,3)*u}}function pt(t,n,r,i){if(!e.is(t,C)&&!e.is(t,"object"))return{container:1,x:t,y:n,width:r,height:i};t=e.is(t,C)?s.getElementById(t):t;if(t.tagName)return n==null?{container:t,width:t.style.pixelWidth||t.offsetWidth,height:t.style.pixelHeight||t.offsetHeight}:{container:t,width:n,height:r}}function dt(e,t){var n=this;for(var r in t)if(t[i](r)&&!(r in e))switch(typeof t[r]){case"function":(function(t){e[r]=e===n?t:function(){return t[l](n,arguments)}})(t[r]);break;case"object":e[r]=e[r]||{},dt.call(this,e[r],t[r]);break;default:e[r]=t[r]}}function vt(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}function mt(e,t){t.top!==e&&(vt(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)}function gt(e,t){t.bottom!==e&&(vt(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)}function yt(e,t,n){vt(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t
.next=e}function bt(e,t,n){vt(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t}function wt(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}}function Jt(){this.returnValue=!1}function Kt(){return this.originalEvent.preventDefault()}function Qt(){this.cancelBubble=!0}function Gt(){return this.originalEvent.stopPropagation()}function en(e){for(var t=e.clientX,n=e.clientY,r,i=Zt.length;i--;){r=Zt[i];if(h)for(var s=e.touches.length,o;s--;){o=e.touches[s];if(o.identifier==r.el._drag.id){t=o.clientX,n=o.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();r.move&&r.move.call(r.el,t-r.el._drag.x,n-r.el._drag.y,t,n)}}function tn(){e.unmousemove(en).unmouseup(tn);for(var t=Zt.length,n;t--;)n=Zt[t],n.el._drag={},n.end&&n.end.call(n.el);Zt=[]}function nn(){return this.x+d+this.y}function sn(t,n){return function(r,i,s){r=ct(r);for(var o,u,a,f,l="",c={},h=0,p=0,d=r.length;p<d;p++){a=r[p];if(a[0]=="M")o=+a[1],u=+a[2];else{f=on(o,u,a[1],a[2],a[3],a[4],a[5],a[6]);if(h+f>i){if(n&&!c.start){o=rn(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-h),l+=["C",o.start.x,o.start.y,o.m.x,o.m.y,o.x,o.y];if(s)return l;c.start=l,l=["M",o.x,o.y+"C",o.n.x,o.n.y,o.end.x,o.end.y,a[5],a[6]][b](),h+=f,o=+a[5],u=+a[6];continue}if(!t&&!n)return o=rn(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-h),{x:o.x,y:o.y,alpha:o.alpha}}h+=f,o=+a[5],u=+a[6]}l+=a}return c.end=l,o=t?h:n?c:e.findDotsAtSegment(o,u,a[1],a[2],a[3],a[4],a[5],a[6],1),o.alpha&&(o={x:o.x,y:o.y,alpha:o.alpha}),o}}function cn(){var t=+(new Date);for(var n in ln)if(n!="length"&&ln[i](n)){var r=ln[n];if(r.stop||r.el.removed)delete ln[n],ln[w]--;else{var s=t-r.start,u=r.ms,a=r.easing,f=r.from,l=r.diff,c=r.to,h=r.t,v=r.prev||0,m=r.el,g=r.callback,y={},E;if(s<u){g=e.easing_formulas[a]?e.easing_formulas[a](s/u):s/u;for(var S in f)if(f[i](S)){switch(z[S]){case"along":E=g*u*l[S],c.back&&(E=c.len-E),a=an(c[S],E),m.translate(l.sx-l.x||0,l.sy-l.y||0),l.x=a.x,l.y=a.y,m.translate(a.x-l.sx,a.y-l.sy),c.rot&&m.rotate(l.r+a.alpha,a.x,a.y);break;case N:E=+f[S]+g*u*l[S];break;case"colour":E="rgb("+[hn(B(f[S].r+g*u*l[S].r)),hn(B(f[S].g+g*u*l[S].g)),hn(B(f[S].b+g*u*l[S].b))][b](",")+")";break;case"path":E=[],a=0;for(var x=f[S][w];a<x;a++){E[a]=[f[S][a][0]];for(var T=1,C=f[S][a][w];T<C;T++)E[a][T]=+f[S][a][T]+g*u*l[S][a][T];E[a]=E[a][b](d)}E=E[b](d);break;case"csv":switch(S){case"translation":E=l[S][0]*(s-v),a=l[S][1]*(s-v),h.x+=E,h.y+=a,E=E+d+a;break;case"rotation":E=+f[S][0]+g*u*l[S][0],f[S][1]&&(E+=","+f[S][1]+","+f[S][2]);break;case"scale":E=[+f[S][0]+g*u*l[S][0],+f[S][1]+g*u*l[S][1],2 in c[S]?c[S][2]:p,3 in c[S]?c[S][3]:p][b](d);break;case"clip-rect":E=[];for(a=4;a--;)E[a]=+f[S][a]+g*u*l[S][a]}}y[S]=E}m.attr(y),m._run&&m._run.call(m)}else c.along&&(a=an(c.along,c.len*!c.back),m.translate(l.sx-(l.x||0)+a.x-l.sx,l.sy-(l.y||0)+a.y-l.sy),c.rot&&m.rotate(l.r+a.alpha,a.x,a.y)),(h.x||h.y)&&m.translate(-h.x,-h.y),c.scale&&(c.scale+=p),m.attr(c),delete ln[n],ln[w]--,m.in_animation=null,e.is(g,"function")&&g.call(m);r.prev=s}}e.svg&&m&&m.paper&&m.paper.safari(),ln[w]&&o.setTimeout(cn)}function hn(e){return x(T(e,255),0)}function pn(e,t){if(e==null)return{x:this._.tx,y:this._.ty,toString:nn};this._.tx+=+e,this._.ty+=+t;switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y});break;case"path":var n=it(this.attrs.path);n[0][1]+=+e,n[0][2]+=+t,this.attr({path:n})}return this}function dn(t){return function(n,r,i,s){var o={back:t};return e.is(i,"function")?s=i:o.rot=i,n&&n.constructor==At&&(n=n.attrs.path),n&&(o.along=n),this.animate(o,r,s)}}function vn(e){this.items=[],this[w]=0,this.type="set";if(e)for(var t=0,n=e[w];t<n;t++)e[t]&&(e[t].constructor==At||e[t].constructor==vn)&&(this[this.items[w]]=this.items[this.items[w]]=e[t],this[w]++)}e.version="1.4.7";var t=/[, ]+/,n=/^(circle|rect|path|ellipse|text|image)$/,r="prototype",i="hasOwnProperty",s=document,o=window,u={was:Object[r][i].call(o,"Raphael"),is:o.Raphael},f="appendChild",l="apply",c="concat",h="createTouch"in s,p="",d=" ",v=String,m="split",g="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[m](d),y={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},b="join",w="length",E=String[r].toLowerCase,S=Math,x=S.max,T=S.min,N="number",C="string",k="array",L="toString",A="fill",O=Object[r][L],M=S.pow,_="push",D=/^(?=[\da-f]$)/,P=/^url\(['"]?([^\)]+?)['"]?\)$/i,H=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%)?)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,B=S.round,j="setAttribute",F=parseFloat,I=parseInt,q=" progid:DXImageTransform.Microsoft",R=String[r].toUpperCase,U={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},z={along:"along",blur:N,"clip-rect":"csv",cx:N,cy:N,fill:"colour","fill-opacity":N,"font-size":N,height:N,opacity:N,path:"path",r:N,rotation:"csv",rx:N,ry:N,scale:"csv",stroke:"colour","stroke-opacity":N,"stroke-width":N,translation:"csv",width:N,x:N,y:N},W="replace";e.type=o.SVGAngle||s.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(e.type=="VML"){var X=s.createElement("div");X.innerHTML='<v:shape adj="1"/>',X=X.firstChild,X.style.behavior="url(#default#VML)";if(!X||typeof X.adj!="object")return e.type=null;X=null}e.svg=!(e.vml=e.type=="VML"),a[r]=e[r],e._id=0,e._oid=0,e.fn={},e.is=function(e,t){return t=E.call(t),t=="object"&&e===Object(e)||t=="undefined"&&typeof e==t||t=="null"&&e==null||t=="array"&&Array.isArray&&Array.isArray(e)||E.call(O.call(e).slice(8,-1))==t},e.setWindow=function(e){o=e,s=o.document},e.hsb2rgb=function(t,n,r){return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,n=t.s,t=t.h),e.hsl2rgb(t,n,r/2)},e.hsl2rgb=function(t,n,r){e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,n=t.s,t=t.h);if(t>1||n>1||r>1)t/=255,n/=255,r/=255;var i={},s=["r","g","b"],o;if(n){n=r<.5?r*(1+n):r+n-r*n,r=2*r-n;for(var u=0,a=s.length;u<a;u++)o=t+1/3*-(u-1),o<0&&o++,o>1&&o--,i[s[u]]=o*6<1?r+(n-r)*6*o:o*2<1?n:o*3<2?r+(n-r)*(2/3-o)*6:r}else i={r:r,g:r,b:r};return i.r*=255,i.g*=255,i.b*=255,t=(~~i.r)[L](16),s=(~~i.g)[L](16),n=(~~i.b)[L](16),t=t[W](D,"0"),s=s[W](D,"0"),n=n[W](D,"0"),i.hex="#"+t+s+n,i.toString=K,i},e.rgb2hsb=function(t,n,r){n==null&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r);if(n==null&&e.is(t,C)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}if(t>1||n>1||r>1)t/=255,n/=255,r/=255;var s=x(t,n,r),o=T(t,n,r);i=s;if(o==s)return{h:0,s:0,b:s,toString:$};var u=s-o;return o=u/s,t=t==s?(n-r)/u:n==s?2+(r-t)/u:4+(t-n)/u,t/=6,t<0&&t++,t>1&&t--,{h:t,s:o,b:i,toString:$}},e.rgb2hsl=function(t,n,r){n==null&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r);if(n==null&&e.is(t,C)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}if(t>1||n>1||r>1)t/=255,n/=255,r/=255;var s=x(t,n,r),o=T(t,n,r);i=(s+o)/2;if(o==s)t={h:0,s:0,l:i};else{var u=s-o;o=i<.5?u/(s+o):u/(2-s-o),t=t==s?(n-r)/u:n==s?2+(r-t)/u:4+(t-n)/u,t/=6,t<0&&t++,t>1&&t--,t={h:t,s:o,l:i}}return t.toString=J,t};var Q=/,?([achlmqrstvxz]),?/gi,G=/\s*,\s*/,Y={hs:1,rg:1};e._path2string=function(){return this.join(",")[W](Q,"$1")},e.getRGB=Z(function(t){if(!t||(t=v(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none"};!Y[i](t.substring(0,2))&&t.charAt()!="#"&&(t=V(t));var n,r,s,o,u;return(t=t.match(H))?(t[2]&&(s=I(t[2].substring(5),16),r=I(t[2].substring(3,5),16),n=I(t[2].substring(1,3),16)),t[3]&&(s=I((u=t[3].charAt(3))+u,16),r=I((u=t[3].charAt(2))+u,16),n=I((u=t[3].charAt(1))+u,16)),t[4]&&(t=t[4][m](G),n=F(t[0]),r=F(t[1]),s=F(t[2]),o=F(t[3])),t[5]&&(t=t[5][m](G),n=F(t[0])*2.55,r=F(t[1])*2.55,s=F(t[2])*2.55,o=F(t[3])),t[6]?(t=t[6][m](G),n=F(t[0]),r=F(t[1]),s=F(t[2]),(t[0].slice(-3)=="deg"||t[0].slice(-1)=="°")&&(n/=360),e.hsb2rgb(n,r,s)):t[7]?(t=t[7][m](G),n=F(t[0])*2.55,r=F(t[1])*2.55,s=F(t[2])*2.55,(t[0].slice(-3)=="deg"||t[0].slice(-1)=="°")&&(n/=360*2.55),e.hsb2rgb(n,r,s)):t[8]?(t=t[8][m](G),n=F(t[0]),r=F(t[1]),s=F(t[2]),(t[0].slice(-3)=="deg"||t[0].slice(-1)=="°")&&(n/=360),e.hsl2rgb(n,r,s)):t[9]?(t=t[9][m](G),n=F(t[0])*2.55,r=F(t[1])*2.55,s=F(t[2])*2.55,(t[0].slice(-3)=="deg"||t[0].slice(-1)=="°")&&(n/=360*2.55),e.hsl2rgb(n,r,s)):(t={r:n,g:r,b:s},n=(~~n)[L](16),r=(~~r)[L](16),s=(~~s)[L](16),n=n[W](D,"0"),r=r[W](D,"0"),s=s[W](D,"0"),t.hex="#"+n+r+s,isFinite(F(o))&&(t.o=o),t)):{r:-1,g:-1,b:-1,hex:"none",error:1}},e),e.getColor=function(e){e=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75};var t=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),t.hex},e.getColor.reset=function(){delete this.start};var et=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,tt=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig;e.parsePathString=Z(function(t){if(!t)return null;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,k)&&e.is(t[0],k)&&(r=rt(t)),r[w]||v(t)[W](et,function(e,t,i){var s=[];e=E.call(t),i[W](tt,function(e,t){t&&s[_](+t)}),e=="m"&&s[w]>2&&(r[_]([t][c](s.splice(0,2))),e="l",t=t=="m"?"l":"L");for(;s[w]>=n[e];){r[_]([t][c](s.splice(0,n[e])));if(!n[e])break}}),r[L]=e._path2string,r}),e.findDotsAtSegment=function(e,t,n,r,i,s,o,u,a){var f=1-a,l=M(f,3)*e+M(f,2)*3*a*n+f*3*a*a*i+M(a,3)*o;f=M(f,3)*t+M(f,2)*3*a*r+f*3*a*a*s+M(a,3)*u;var c=e+2*a*(n-e)+a*a*(i-2*n+e),h=t+2*a*(r-t)+a*a*(s-2*r+t),p=n+2*a*(i-n)+a*a*(o-2*i+n),d=r+2*a*(s-r)+a*a*(u-2*s+r);return e=(1-a)*e+a*n,t=(1-a)*t+a*r,i=(1-a)*i+a*o,s=(1-a)*s+a*u,u=90-S.atan((c-p)/(h-d))*180/S.PI,(c>p||h<d)&&(u+=180),{x:l,y:f,m:{x:c,y:h},n:{x:p,y:d},start:{x:e,y:t},end:{x:i,y:s},alpha:u}};var nt=Z(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=ct(e);for(var t=0,n=0,r=[],i=[],s,o=0,u=e[w];o<u;o++)s=e[o],s[0]=="M"?(t=s[1],n=s[2],r[_](t),i[_](n)):(t=lt(t,n,s[1],s[2],s[3],s[4],s[5],s[6]),r=r[c](t.min.x,t.max.x),i=i[c](t.min.y,t.max.y),t=s[5],n=s[6]);return e=T[l](0,r),s=T[l](0,i),{x:e,y:s,width:x[l](0,r)-e,height:x[l](0,i)-s}}),it=Z(function(t){if(!e.is(t,k)||!e.is(t&&t[0],k))t=e.parsePathString(t);var n=[],r=0,i=0,s=0,o=0,u=0;t[0][0]=="M"&&(r=t[0][1],i=t[0][2],s=r,o=i,u++,n[_](["M",r,i])),u=u;for(var a=t[w];u<a;u++){var f=n[u]=[],l=t[u];if(l[0]!=E.call(l[0])){f[0]=E.call(l[0]);switch(f[0]){case"a":f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=l[4],f[5]=l[5],f[6]=+(l[6]-r).toFixed(3),f[7]=+(l[7]-i).toFixed(3);break;case"v":f[1]=+(l[1]-i).toFixed(3);break;case"m":s=l[1],o=l[2];default:for(var c=1,h=l[w];c<h;c++)f[c]=+(l[c]-(c%2?r:i)).toFixed(3)}}else{n[u]=[],l[0]=="m"&&(s=l[1]+r,o=l[2]+i),f=0;for(c=l[w];f<c;f++)n[u][f]=l[f]}l=n[u][w];switch(n[u][0]){case"z":r=s,i=o;break;case"h":r+=+n[u][l-1];break;case"v":i+=+n[u][l-1];break;default:r+=+n[u][l-2],i+=+n[u][l-1]}}return n[L]=e._path2string,n},0,rt),st=Z(function(t){if(!e.is(t,k)||!e.is(t&&t[0],k))t=e.parsePathString(t);var n=[],r=0,i=0,s=0,o=0,u=0;t[0][0]=="M"&&(r=+t[0][1],i=+t[0][2],s=r,o=i,u++,n[0]=["M",r,i]),u=u;for(var a=t[w];u<a;u++){var f=n[u]=[],l=t[u];if(l[0]!=R.call(l[0])){f[0]=R.call(l[0]);switch(f[0]){case"A":f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=l[4],f[5]=l[5],f[6]=+(l[6]+r),f[7]=+(l[7]+i);break;case"V":f[1]=+l[1]+i;break;case"H":f[1]=+l[1]+r;break;case"M":s=+l[1]+r,o=+l[2]+i;default:for(var c=1,h=l[w];c<h;c++)f[c]=+l[c]+(c%2?r:i)}}else{c=0;for(h=l[w];c<h;c++)n[u][c]=l[c]}switch(f[0]){case"Z":r=s,i=o;break;case"H":r=f[1];break;case"V":i=f[1];break;case"M":s=n[u][n[u][w]-2],o=n[u][n[u][w]-1];default:r=n[u][n[u][w]-2],i=n[u][n[u][w]-1]}}return n[L]=e._path2string,n},null,rt),lt=Z(function(e,t,n,r,i,s,o,u){var a=i-2*n+e-(o-2*i+n),f=2*(n-e)-2*(i-n),c=e-n,h=(-f+S.sqrt(f*f-4*a*c))/2/a;a=(-f-S.sqrt(f*f-4*a*c))/2/a;var p=[t,u],d=[e,o];return S.abs(h)>1e12&&(h=.5),S.abs(a)>1e12&&(a=.5),h>0&&h<1&&(h=ft(e,t,n,r,i,s,o,u,h),d[_](h.x),p[_](h.y)),a>0&&a<1&&(h=ft(e,t,n,r,i,s,o,u,a),d[_](h.x),p[_](h.y)),a=s-2*r+t-(u-2*s+r),f=2*(r-t)-2*(s-r),c=t-r,h=(-f+S.sqrt(f*f-4*a*c))/2/a,a=(-f-S.sqrt(f*f-4*a*c))/2/a,S.abs(h)>1e12&&(h=.5),S.abs(a)>1e12&&(a=.5),h>0&&h<1&&(h=ft(e,t,n,r,i,s,o,u,h),d[_](h.x),p[_](h.y)),a>0&&a<1&&(h=ft(e,t,n,r,i,s,o,u,a),d[_](h.x),p[_](h.y)),{min:{x:T[l](0,d),y:T[l](0,p)},max:{x:x[l](0,d),y:x[l](0,p)}}}),ct=Z(function(e,t){function i(e,t){var n;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][c](at[l](0,[t.x,t.y][c](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x)),t=t.y+(t.y-(t.by||t.y)),e=["C",n,t][c](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][c](ut(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][c](ut(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][c](ot(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][c](ot(t.x,t.y,e[1],t.y));break;case"V":e=["C"][c](ot(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][c](ot(t.x,t.y,t.X,t.Y))}return e}function s(e,t){if(e[t][w]>7){e[t].shift();for(var i=e[t];i[w];)e.splice(t++,0,["C"][c](i.splice(0,6)));e.splice(t,1),a=x(n[w],r&&r[w]||0)}}function o(e,t,i,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=e[o][1],i.y=e[o][2],a=x(n[w],r&&r[w]||0))}var n=st(e),r=t&&st(t);e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(var u=0,a=x(n[w],r&&r[w]||0);u<a;u++){n[u]=i(n[u],e),s(n,u),r&&(r[u]=i(r[u],t)),r&&s(r,u),o(n,r,e,t,u),o(r,n,t,e,u);var f=n[u],h=r&&r[u],p=f[w],d=r&&h[w];e.x=f[p-2],e.y=f[p-1],e.bx=F(f[p-4])||e.x,e.by=F(f[p-3])||e.y,t.bx=r&&(F(h[d-4])||t.x),t.by=r&&(F(h[d-3])||t.y),t.x=r&&h[d-2],t.y=r&&h[d-1]}return r?[n,r]:n},null,rt),ht=Z(function(t){for(var n=[],r=0,i=t[w];r<i;r++){var s={},o=t[r].match(/^([^:]*):?([\d\.]*)/);s.color=e.getRGB(o[1]);if(s.color.error)return null;s.color=s.color.hex,o[2]&&(s.offset=o[2]+"%"),n[_](s)}r=1;for(i=n[w]-1;r<i;r++)if(!n[r].offset){t=F(n[r-1].offset||0),o=0;for(s=r+1;s<i;s++)if(n[s].offset){o=n[s].offset;break}o||(o=100,s=i),o=F(o);for(o=(o-t)/(s-r+1);r<s;r++)t+=o,n[r].offset=t+"%"}return n}),Et=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;e.pathToRelative=it;if(e.svg){a[r].svgns="http://www.w3.org/2000/svg",a[r].xlink="http://www.w3.org/1999/xlink",B=function(e){return+e+(~~e===e)*.5};var St=function(e,t){if(!t)return e=s.createElementNS(a[r].svgns,e),e.style.webkitTapHighlightColor="rgba(0,0,0,0)",e;for(var n in t)t[i](n)&&e[j](n,v(t[n]))};e[L]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var xt=function(e,t){var n=St("path");return t.canvas&&t.canvas[f](n),t=new At(n,t),t.type="path",Ct(t,{fill:"none",stroke:"#000",path:e}),t},Tt=function(t,n,r){var i="linear",o=.5,u=.5,a=t.style;n=v(n)[W](Et,function(e,t,n){return i="radial",t&&n&&(o=F(t),u=F(n),e=(u>.5)*2-1,M(o-.5,2)+M(u-.5,2)>.25&&(u=S.sqrt(.25-M(o-.5,2))*e+.5)&&u!=.5&&(u=u.toFixed(5)-1e-5*e)),p}),n=n[m](/\s*\-\s*/);if(i=="linear"){var l=n.shift();l=-F(l);if(isNaN(l))return null;l=[0,0,S.cos(l*S.PI/180),S.sin(l*S.PI/180)];var c=1/(x(S.abs(l[2]),S.abs(l[3]))||1);l[2]*=c,l[3]*=c,l[2]<0&&(l[0]=-l[2],l[2]=0),l[3]<0&&(l[1]=-l[3],l[3]=0)}n=ht(n);if(!n)return null;c=t.getAttribute(A),(c=c.match(/^url\(#(.*)\)$/))&&r.defs.removeChild(s.getElementById(c[1])),c=St(i+"Gradient"),c.id="r"+(e._id++)[L](36),St(c,i=="radial"?{fx:o,fy:u}:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]}),r.defs[f](c),r=0;for(l=n[w];r<l;r++){var h=St("stop");St(h,{offset:n[r].offset?n[r].offset:r?"100%":"0%","stop-color":n[r].color||"#fff"}),c[f](h)}return St(t,{fill:"url(#"+c.id+")",opacity:1,"fill-opacity":1}),a.fill=p,a.opacity=1,a.fillOpacity=1},Nt=function(t){var n=t.getBBox();St(t.pattern,{patternTransform:e.format("translate({0},{1})",n.x,n.y)})},Ct=function(n,r){function c(e,t){if(t=o[E.call(t)]){var n=e.attrs["stroke-width"]||"1";e={round:n,square:n,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0;for(var i=[],s=t[w];s--;)i[s]=t[s]*n+(s%2?1:-1)*e;St(u,{"stroke-dasharray":i[b](",")})}}var o={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},u=n.node,a=n.attrs,l=n.rotate();r[i]("rotation")&&(l=r.rotation);var h=v(l)[m](t);h.length-1?(h[1]=+h[1],h[2]=+h[2]):h=null,F(l)&&n.rotate(0,!0);for(var g in r)if(r[i](g)&&U[i](g)){var y=r[g];a[g]=y;switch(g){case"blur":n.blur(y);break;case"rotation":n.rotate(y,!0);break;case"href":case"title":case"target":var S=u.parentNode;if(E.call(S.tagName)!="a"){var x=St("a");S.insertBefore(x,u),x[f](u),S=x}S.setAttributeNS(n.paper.xlink,g,y);break;case"cursor":u.style.cursor=y;break;case"clip-rect":S=v(y)[m](t);if(S[w]==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var T=St("clipPath");x=St("rect"),T.id="r"+(e._id++)[L](36),St(x,{x:S[0],y:S[1],width:S[2],height:S[3]}),T[f](x),n.paper.defs[f](T),St(u,{"clip-path":"url(#"+T.id+")"}),n.clip=x}y||((y=s.getElementById(u.getAttribute("clip-path")[W](/(^url\(#|\)$)/g,p)))&&y.parentNode.removeChild(y),St(u,{"clip-path":p}),delete n.clip);break;case"path":n.type=="path"&&St(u,{d:y?a.path=st(y):"M0,0"});break;case"width":u[j](g,y);if(!a.fx)break;g="x",y=a.x;case"x":a.fx&&(y=-a.x-(a.width||0));case"rx":if(g=="rx"&&n.type=="rect")break;case"cx":h&&(g=="x"||g=="cx")&&(h[1]+=y-a[g]),u[j](g,y),n.pattern&&Nt(n);break;case"height":u[j](g,y);if(!a.fy)break;g="y",y=a.y;case"y":a.fy&&(y=-a.y-(a.height||0));case"ry":if(g=="ry"&&n.type=="rect")break;case"cy":h&&(g=="y"||g=="cy")&&(h[2]+=y-a[g]),u[j](g,y),n.pattern&&Nt(n);break;case"r":n.type=="rect"?St(u,{rx:y,ry:y}):u[j](g,y);break;case"src":n.type=="image"&&u.setAttributeNS(n.paper.xlink,"href",y);break;case"stroke-width":u.style.strokeWidth=y,u[j](g,y),a["stroke-dasharray"]&&c(n,a["stroke-dasharray"]);break;case"stroke-dasharray":c(n,y);break;case"translation":y=v(y)[m](t),y[0]=+y[0]||0,y[1]=+y[1]||0,h&&(h[1]+=y[0],h[2]+=y[1]),pn.call(n,y[0],y[1]);break;case"scale":y=v(y)[m](t),n.scale(+y[0]||1,+y[1]||+y[0]||1,isNaN(F(y[2]))?null:+y[2],isNaN(F(y[3]))?null:+y[3]);break;case A:if(S=v(y).match(P)){T=St("pattern");var N=St("image");T.id="r"+(e._id++)[L](36),St(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),St(N,{x:0,y:0}),N.setAttributeNS(n.paper.xlink,"href",S[1]),T[f](N),y=s.createElement("img"),y.style.cssText="position:absolute;left:-9999em;top-9999em",y.onload=function(){St(T,{width:this.offsetWidth,height:this.offsetHeight}),St(N,{width:this.offsetWidth,height:this.offsetHeight}),s.body.removeChild(this),n.paper.safari()},s.body[f](y),y.src=S[1],n.paper.defs[f](T),u.style.fill="url(#"+T.id+")",St(u,{fill:"url(#"+T.id+")"}),n.pattern=T,n.pattern&&Nt(n);break}S=e.getRGB(y);if(S.error){if(({circle:1,ellipse:1}[i](n.type)||v(y).charAt()!="r")&&Tt(u,y,n.paper)){a.gradient=y,a.fill="none";break}}else delete r.gradient,delete a.gradient,!e.is(a.opacity,"undefined")&&e.is(r.opacity,"undefined")&&St(u,{opacity:a.opacity}),!e.is(a["fill-opacity"],"undefined")&&e.is(r["fill-opacity"],"undefined")&&St(u,{"fill-opacity":a["fill-opacity"]});S[i]("o")&&St(u,{"fill-opacity":S.o>1?S.o/100:S.o});case"stroke":S=e.getRGB(y),u[j](g,S.hex),g=="stroke"&&S[i]("o")&&St(u,{"stroke-opacity":S.o>1?S.o/100:S.o});break;case"gradient":((({circle:1,ellipse:1}))[i](n.type)||v(y).charAt()!="r")&&Tt(u,y,n.paper);break;case"opacity":case"fill-opacity":if(a.gradient){if(S=s.getElementById(u.getAttribute(A)[W](/^url\(#|\)$/g,p)))S=S.getElementsByTagName("stop"),S[S[w]-1][j]("stop-opacity",y);break};default:g=="font-size"&&(y=I(y,10)+"px"),S=g[W](/(\-.)/g,function(e){return R.call(e.substring(1))}),u.style[S]=y,u[j](g,y)}}Lt(n,r),h?n.rotate(h.join(d)):F(l)&&n.rotate(l,!0)},kt=1.2,Lt=function(e,t){if(e.type=="text"&&!!(t[i]("text")||t[i]("font")||t[i]("font-size")||t[i]("x")||t[i]("y"))){var n=e.attrs,r=e.node,o=r.firstChild?I(s.defaultView.getComputedStyle(r.firstChild,p).getPropertyValue("font-size"),10):10;if(t[i]("text")){for(n.text=t.text;r.firstChild;)r.removeChild(r.firstChild);t=v(t.text)[m]("\n");for(var u=0,a=t[w];u<a;u++)if(t[u]){var l=St("tspan");u&&St(l,{dy:o*kt,x:n.x}),l[f](s.createTextNode(t[u])),r[f](l)}}else{t=r.getElementsByTagName("tspan"),u=0;for(a=t[w];u<a;u++)u&&St(t[u],{dy:o*kt,x:n.x})}St(r,{y:n.y}),e=e.getBBox(),(e=n.y-(e.y+e.height/2))&&isFinite(e)&&St(r,{y:n.y+e})}},At=function(t,n){this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.paper=n,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!n.bottom&&(n.bottom=this),(this.prev=n.top)&&(n.top.next=this),n.top=this,this.next=null};At[r].rotate=function(n,r,i){if(this.removed)return this;if(n==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][b](d):this._.rt.deg;var s=this.getBBox();return n=v(n)[m](t),n[w]-1&&(r=F(n[1]),i=F(n[2])),n=F(n[0]),r!=null?this._.rt.deg=n:this._.rt.deg+=n,i==null&&(r=null),this._.rt.cx=r,this._.rt.cy=i,r=r==null?s.x+s.width/2:r,i=i==null?s.y+s.height/2:i,this._.rt.deg?(this.transformations[0]=e.format("rotate({0} {1} {2})",this._.rt.deg,r,i),this.clip&&St(this.clip,{transform:e.format("rotate({0} {1} {2})",-this._.rt.deg,r,i)})):(this.transformations[0]=p,this.clip&&St(this.clip,{transform:p})),St(this.node,{transform:this.transformations[b](d)}),this},At[r].hide=function(){return!this.removed&&(this.node.style.display="none"),this},At[r].show=function(){return!this.removed&&(this.node.style.display=""),this},At[r].remove=function(){if(!this.removed){vt(this,this.paper),this.node.parentNode.removeChild(this.node);for(var e in this)delete this[e];this.removed=!0}},At[r].getBBox=function(){if(this.removed)return this;if(this.type=="path")return nt(this.attrs.path);if(this.node.style.display=="none"){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(n){}finally{t=t||{}}if(this.type=="text"){t={x:t.x,y:Infinity,width:0,height:0};for(var r=0,i=this.node.getNumberOfChars();r<i;r++){var s=this.node.getExtentOfChar(r);s.y<t.y&&(t.y=s.y),s.y+s.height-t.y>t.height&&(t.height=s.y+s.height-t.y),s.x+s.width-t.x>t.width&&(t.width=s.x+s.width-t.x)}}return e&&this.hide(),t},At[r].attr=function(t,n){if(this.removed)return this;if(t==null){t={};for(var r in this.attrs)this.attrs[i](r)&&(t[r]=this.attrs[r]);return this._.rt.deg&&(t.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(t.scale=this.scale()),t.gradient&&t.fill=="none"&&(t.fill=t.gradient)&&delete t.gradient,t}if(n==null&&e.is(t,C))return t=="translation"?pn.call(this):t=="rotation"?this.rotate():t=="scale"?this.scale():t==A&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(n==null&&e.is(t,k)){n={},r=0;for(var s=t.length;r<s;r++)n[t[r]]=this.attr(t[r]);return n}return n!=null?(r={},r[t]=n,Ct(this,r)):t!=null&&e.is(t,"object")&&Ct(this,t),this},At[r].toFront=function(){if(this.removed)return this;this.node.parentNode[f](this.node);var e=this.paper;return e.top!=this&&mt(this,e),this},At[r].toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),gt(this,this.paper)),this)},At[r].insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode[f](this.node),yt(this,e,this.paper),this},At[r].insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),bt(this,e,this.paper),this},At[r].blur=function(t){var n=this;if(+t!==0){var r=St("filter"),i=St("feGaussianBlur");n.attrs.blur=t,r.id="r"+(e._id++)[L](36),St(i,{stdDeviation:+t||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,St(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter")};var Ot=function(e,t,n,r){var i=St("circle");return e.canvas&&e.canvas[f](i),e=new At(i,e),e.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},e.type="circle",St(i,e.attrs),e},Mt=function(e,t,n,r,i,s){var o=St("rect");return e.canvas&&e.canvas[f](o),e=new At(o,e),e.attrs={x:t,y:n,width:r,height:i,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},e.type="rect",St(o,e.attrs),e},_t=function(e,t,n,r,i){var s=St("ellipse");return e.canvas&&e.canvas[f](s),e=new At(s,e),e.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},e.type="ellipse",St(s,e.attrs),e},Dt=function(e,t,n,r,i,s){var o=St("image");return St(o,{x:n,y:r,width:i,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(e.xlink,"href",t),e.canvas&&e.canvas[f](o),e=new At(o,e),e.attrs={x:n,y:r,width:i,height:s,src:t},e.type="image",e},Pt=function(e,t,n,r){var i=St("text");return St(i,{x:t,y:n,"text-anchor":"middle"}),e.canvas&&e.canvas[f](i),e=new At(i,e),e.attrs={x:t,y:n,"text-anchor":"middle",text:r,font:U.font,stroke:"none",fill:"#000"},e.type="text",Ct(e,e.attrs),e},Ht=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas[j]("width",this.width),this.canvas[j]("height",this.height),this},Bt=function(){var t=pt[l](0,arguments),n=t&&t.container,r=t.x,i=t.y,o=t.width;t=t.height;if(!n)throw new Error("SVG container not found.");var u=St("svg");return r=r||0,i=i||0,o=o||512,t=t||342,St(u,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:o,height:t}),n==1?(u.style.cssText="position:absolute;left:"+r+"px;top:"+i+"px",s.body[f](u)):n.firstChild?n.insertBefore(u,n.firstChild):n[f](u),n=new a,n.width=o,n.height=t,n.canvas=u,dt.call(n,n,e.fn),n.clear(),n};a[r].clear=function(){for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=St("desc"))[f](s.createTextNode("Created with Raphaël")),e[f](this.desc),e[f](this.defs=St("defs"))},a[r].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=wt(e)}}if(e.vml){var jt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Ft=/([clmz]),?([^clmz]*)/gi,It=/-?[^,\s-]+/g,qt=1e3+d+1e3,Rt=10,Ut={path:1,rect:1},zt=function(e){var t=/[ahqstv]/ig,n=st;v(e).match(t)&&(n=ct),t=/[clmz]/g;if(n==st&&!v(e).match(t))return e=v(e)[W](Ft,function(e,t,n){var r=[],i=E.call(t)=="m",s=jt[t];return n[W](It,function(e){i&&r[w]==2&&(s+=r+jt[t=="m"?"l":"L"],r=[]),r[_](B(e*Rt))}),s+r});t=n(e);var r;e=[];for(var i=0,s=t[w];i<s;i++){n=t[i],r=E.call(t[i][0]),r=="z"&&(r="x");for(var o=1,u=n[w];o<u;o++)r+=B(n[o]*Rt)+(o!=u-1?",":p);e[_](r)}return e[b](d)};e[L]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},xt=function(e,t){var n=Vt("group");n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=t.coordsize,n.coordorigin=t.coordorigin;var r=Vt("shape"),i=r.style;return i.width=t.width+"px",i.height=t.height+"px",r.coordsize=qt,r.coordorigin=t.coordorigin,n[f](r),r=new At(r,n,t),i={fill:"none",stroke:"#000"},e&&(i.path=e),r.isAbsolute=!0,r.type="path",r.path=[],r.Path=p,Ct(r,i),t.canvas[f](n),r},Ct=function(n,r){n.attrs=n.attrs||{};var o=n.node,u=n.attrs,a=o.style,l;l=(r.x!=u.x||r.y!=u.y||r.width!=u.width||r.height!=u.height||r.r!=u.r)&&n.type=="rect";var c=n;for(var h in r)r[i](h)&&(u[h]=r[h]);l&&(u.path=Xt(u.x,u.y,u.width,u.height,u.r),n.X=u.x,n.Y=u.y,n.W=u.width,n.H=u.height),r.href&&(o.href=r.href),r.title&&(o.title=r.title),r.target&&(o.target=r.target),r.cursor&&(a.cursor=r.cursor),"blur"in r&&n.blur(r.blur);if(r.path&&n.type=="path"||l)o.path=zt(u.path);r.rotation!=null&&n.rotate(r.rotation,!0),r.translation&&(l=v(r.translation)[m](t),pn.call(n,l[0],l[1]),n._.rt.cx!=null&&(n._.rt.cx+=+l[0],n._.rt.cy+=+l[1],n.setBox(n.attrs,l[0],l[1]))),r.scale&&(l=v(r.scale)[m](t),n.scale(+l[0]||1,+l[1]||+l[0]||1,+l[2]||null,+l[3]||null));if("clip-rect"in r){l=v(r["clip-rect"])[m](t);if(l[w]==4){l[2]=+l[2]+ +l[0],l[3]=+l[3]+ +l[1],h=o.clipRect||s.createElement("div");var d=h.style,g=o.parentNode;d.clip=e.format("rect({1}px {2}px {3}px {0}px)",l),o.clipRect||(d.position="absolute",d.top=0,d.left=0,d.width=n.paper.width+"px",d.height=n.paper.height+"px",g.parentNode.insertBefore(h,g),h[f](g),o.clipRect=h)}r["clip-rect"]||o.clipRect&&(o.clipRect.style.clip=p)}n.type=="image"&&r.src&&(o.src=r.src),n.type=="image"&&r.opacity&&(o.filterOpacity=q+".Alpha(opacity="+r.opacity*100+")",a.filter=(o.filterMatrix||p)+(o.filterOpacity||p)),r.font&&(a.font=r.font),r["font-family"]&&(a.fontFamily='"'+r["font-family"][m](",")[0][W](/^['"]+|['"]+$/g,p)+'"'),r["font-size"]&&(a.fontSize=r["font-size"]),r["font-weight"]&&(a.fontWeight=r["font-weight"]),r["font-style"]&&(a.fontStyle=r["font-style"]);if(r.opacity!=null||r["stroke-width"]!=null||r.fill!=null||r.stroke!=null||r["stroke-width"]!=null||r["stroke-opacity"]!=null||r["fill-opacity"]!=null||r["stroke-dasharray"]!=null||r["stroke-miterlimit"]!=null||r["stroke-linejoin"]!=null||r["stroke-linecap"]!=null){o=n.shape||o,a=o.getElementsByTagName(A)&&o.getElementsByTagName(A)[0],l=!1,!a&&(l=a=Vt(A));if("fill-opacity"in r||"opacity"in r)n=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+e.getRGB(r.fill).o+1||2)-1),n<0&&(n=0),n>1&&(n=1),a.opacity=n;r.fill&&(a.on=!0);if(a.on==null||r.fill=="none")a.on=!1;a.on&&r.fill&&((n=r.fill.match(P))?(a.src=n[1],a.type="tile"):(a.color=e.getRGB(r.fill).hex,a.src=p,a.type="solid",e.getRGB(r.fill).error&&(c.type in{circle:1,ellipse:1}||v(r.fill).charAt()!="r")&&Tt(c,r.fill)&&(u.fill="none",u.gradient=r.fill))),l&&o[f](a),a=o.getElementsByTagName("stroke")&&o.getElementsByTagName("stroke")[0],l=!1,!a&&(l=a=Vt("stroke"));if(r.stroke&&r.stroke!="none"||r["stroke-width"]||r["stroke-opacity"]!=null||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])a.on=!0;(r.stroke=="none"||a.on==null||r.stroke==0||r["stroke-width"]==0)&&(a.on=!1),n=e.getRGB(r.stroke),a.on&&r.stroke&&(a.color=n.hex),n=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+n.o+1||2)-1),h=(F(r["stroke-width"])||1)*.75,n<0&&(n=0),n>1&&(n=1),r["stroke-width"]==null&&(h=u["stroke-width"]),r["stroke-width"]&&(a.weight=h),h&&h<1&&(n*=h)&&(a.weight=1),a.opacity=n,r["stroke-linejoin"]&&(a.joinstyle=r["stroke-linejoin"]||"miter"),a.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(a.endcap=r["stroke-linecap"]=="butt"?"flat":r["stroke-linecap"]=="square"?"square":"round"),r["stroke-dasharray"]&&(n={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},a.dashstyle=n[i](r["stroke-dasharray"])?n[r["stroke-dasharray"]]:p),l&&o[f](a)}if(c.type=="text"){a=c.paper.span.style,u.font&&(a.font=u.font),u["font-family"]&&(a.fontFamily=u["font-family"]),u["font-size"]&&(a.fontSize=u["font-size"]),u["font-weight"]&&(a.fontWeight=u["font-weight"]),u["font-style"]&&(a.fontStyle=u["font-style"]),c.node.string&&(c.paper.span.innerHTML=v(c.node.string)[W](/</g,"&#60;")[W](/&/g,"&#38;")[W](/\n/g,"<br>")),c.W=u.w=c.paper.span.offsetWidth,c.H=u.h=c.paper.span.offsetHeight,c.X=u.x,c.Y=u.y+B(c.H/2);switch(u["text-anchor"]){case"start":c.node.style["v-text-align"]="left",c.bbx=B(c.W/2);break;case"end":c.node.style["v-text-align"]="right",c.bbx=-B(c.W/2);break;default:c.node.style["v-text-align"]="center"}}},Tt=function(e,t){e.attrs=e.attrs||{};var n="linear",r=".5 .5";e.attrs.gradient=t,t=v(t)[W](Et,function(e,t,i){return n="radial",t&&i&&(t=F(t),i=F(i),M(t-.5,2)+M(i-.5,2)>.25&&(i=S.sqrt(.25-M(t-.5,2))*((i>.5)*2-1)+.5),r=t+d+i),p}),t=t[m](/\s*\-\s*/);if(n=="linear"){var i=t.shift();i=-F(i);if(isNaN(i))return null}var s=ht(t);if(!s)return null;e=e.shape||e.node,t=e.getElementsByTagName(A)[0]||Vt(A),!t.parentNode&&e.appendChild(t);if(s[w]){t.on=!0,t.method="none",t.color=s[0].color,t.color2=s[s[w]-1].color,e=[];for(var o=0,u=s[w];o<u;o++)s[o].offset&&e[_](s[o].offset+d+s[o].color);t.colors&&(t.colors.value=e[w]?e[b]():"0% "+t.color),n=="radial"?(t.type="gradientradial"
,t.focus="100%",t.focussize=r,t.focusposition=r):(t.type="gradient",t.angle=(270-i)%360)}return 1},At=function(t,n,r){this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.Y=this.X=0,this.attrs={},this.Group=n,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),(this.prev=r.top)&&(r.top.next=this),r.top=this,this.next=null},At[r].rotate=function(e,n,r){return this.removed?this:e==null?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][b](d):this._.rt.deg:(e=v(e)[m](t),e[w]-1&&(n=F(e[1]),r=F(e[2])),e=F(e[0]),n!=null?this._.rt.deg=e:this._.rt.deg+=e,r==null&&(n=null),this._.rt.cx=n,this._.rt.cy=r,this.setBox(this.attrs,n,r),this.Group.style.rotation=this._.rt.deg,this)},At[r].setBox=function(e,t,n){if(this.removed)return this;var r=this.Group.style,s=this.shape&&this.shape.style||this.node.style;e=e||{};for(var o in e)e[i](o)&&(this.attrs[o]=e[o]);t=t||this._.rt.cx,n=n||this._.rt.cy;var u=this.attrs,a;switch(this.type){case"circle":e=u.cx-u.r,o=u.cy-u.r,a=u=u.r*2;break;case"ellipse":e=u.cx-u.rx,o=u.cy-u.ry,a=u.rx*2,u=u.ry*2;break;case"image":e=+u.x,o=+u.y,a=u.width||0,u=u.height||0;break;case"text":this.textpath.v=["m",B(u.x),", ",B(u.y-2),"l",B(u.x)+1,", ",B(u.y-2)][b](p),e=u.x-B(this.W/2),o=u.y-this.H/2,a=this.W,u=this.H;break;case"rect":case"path":this.attrs.path?(u=nt(this.attrs.path),e=u.x,o=u.y,a=u.width,u=u.height):(o=e=0,a=this.paper.width,u=this.paper.height);break;default:o=e=0,a=this.paper.width,u=this.paper.height}t=t==null?e+a/2:t,n=n==null?o+u/2:n,t-=this.paper.width/2,n-=this.paper.height/2;var f;r.left!=(f=t+"px")&&(r.left=f),r.top!=(f=n+"px")&&(r.top=f),this.X=Ut[i](this.type)?-t:e,this.Y=Ut[i](this.type)?-n:o,this.W=a,this.H=u,Ut[i](this.type)?(s.left!=(f=-t*Rt+"px")&&(s.left=f),s.top!=(f=-n*Rt+"px")&&(s.top=f)):this.type=="text"?(s.left!=(f=-t+"px")&&(s.left=f),s.top!=(f=-n+"px")&&(s.top=f)):(r.width!=(f=this.paper.width+"px")&&(r.width=f),r.height!=(f=this.paper.height+"px")&&(r.height=f),s.left!=(f=e-t+"px")&&(s.left=f),s.top!=(f=o-n+"px")&&(s.top=f),s.width!=(f=a+"px")&&(s.width=f),s.height!=(f=u+"px")&&(s.height=f))},At[r].hide=function(){return!this.removed&&(this.Group.style.display="none"),this},At[r].show=function(){return!this.removed&&(this.Group.style.display="block"),this},At[r].getBBox=function(){return this.removed?this:Ut[i](this.type)?nt(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},At[r].remove=function(){if(!this.removed){vt(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)delete this[e];this.removed=!0}},At[r].attr=function(t,n){if(this.removed)return this;if(t==null){t={};for(var r in this.attrs)this.attrs[i](r)&&(t[r]=this.attrs[r]);return this._.rt.deg&&(t.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(t.scale=this.scale()),t.gradient&&t.fill=="none"&&(t.fill=t.gradient)&&delete t.gradient,t}if(n==null&&e.is(t,C))return t=="translation"?pn.call(this):t=="rotation"?this.rotate():t=="scale"?this.scale():t==A&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&n==null&&e.is(t,k)){var s={};r=0;for(n=t[w];r<n;r++)s[t[r]]=this.attr(t[r]);return s}return n!=null&&(s={},s[t]=n),n==null&&e.is(t,"object")&&(s=t),s&&(s.text&&this.type=="text"&&(this.node.string=s.text),Ct(this,s),s.gradient&&({circle:1,ellipse:1}[i](this.type)||v(s.gradient).charAt()!="r")&&Tt(this,s.gradient),(!Ut[i](this.type)||this._.rt.deg)&&this.setBox(this.attrs)),this},At[r].toFront=function(){return!this.removed&&this.Group.parentNode[f](this.Group),this.paper.top!=this&&mt(this,this.paper),this},At[r].toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),gt(this,this.paper)),this)},At[r].insertAfter=function(e){return this.removed?this:(e.constructor==vn&&(e=e[e.length]),e.Group.nextSibling?e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling):e.Group.parentNode[f](this.Group),yt(this,e,this.paper),this)},At[r].insertBefore=function(e){return this.removed?this:(e.constructor==vn&&(e=e[0]),e.Group.parentNode.insertBefore(this.Group,e.Group),bt(this,e,this.paper),this)};var Wt=/ progid:\S+Blur\([^\)]+\)/g;At[r].blur=function(t){var n=this.node.runtimeStyle,r=n.filter;r=r.replace(Wt,p),+t!==0?(this.attrs.blur=t,n.filter=r+d+q+".Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",B(+t||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur)},Ot=function(e,t,n,r){var i=Vt("group"),s=Vt("oval");return i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=qt,i.coordorigin=e.coordorigin,i[f](s),s=new At(s,i,e),s.type="circle",Ct(s,{stroke:"#000",fill:"none"}),s.attrs.cx=t,s.attrs.cy=n,s.attrs.r=r,s.setBox({x:t-r,y:n-r,width:r*2,height:r*2}),e.canvas[f](i),s};function Xt(t,n,r,i,s){return s?e.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+s,n,r-s*2,s,-s,i-s*2,s*2-r,s*2-i):e.format("M{0},{1}l{2},0,0,{3},{4},0z",t,n,r,i,-r)}Mt=function(e,t,n,r,i,s){var o=Xt(t,n,r,i,s);e=e.path(o);var u=e.attrs;return e.X=u.x=t,e.Y=u.y=n,e.W=u.width=r,e.H=u.height=i,u.r=s,u.path=o,e.type="rect",e},_t=function(e,t,n,r,i){var s=Vt("group"),o=Vt("oval");return s.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",s.coordsize=qt,s.coordorigin=e.coordorigin,s[f](o),o=new At(o,s,e),o.type="ellipse",Ct(o,{stroke:"#000"}),o.attrs.cx=t,o.attrs.cy=n,o.attrs.rx=r,o.attrs.ry=i,o.setBox({x:t-r,y:n-i,width:r*2,height:i*2}),e.canvas[f](s),o},Dt=function(e,t,n,r,i,s){var o=Vt("group"),u=Vt("image");return o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",o.coordsize=qt,o.coordorigin=e.coordorigin,u.src=t,o[f](u),u=new At(u,o,e),u.type="image",u.attrs.src=t,u.attrs.x=n,u.attrs.y=r,u.attrs.w=i,u.attrs.h=s,u.setBox({x:n,y:r,width:i,height:s}),e.canvas[f](o),u},Pt=function(t,n,r,i){var s=Vt("group"),o=Vt("shape"),u=o.style,a=Vt("path"),l=Vt("textpath");return s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=qt,s.coordorigin=t.coordorigin,a.v=e.format("m{0},{1}l{2},{1}",B(n*10),B(r*10),B(n*10)+1),a.textpathok=!0,u.width=t.width,u.height=t.height,l.string=v(i),l.on=!0,o[f](l),o[f](a),s[f](o),u=new At(l,s,t),u.shape=o,u.textpath=a,u.type="text",u.attrs.text=i,u.attrs.x=n,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,Ct(u,{font:U.font,stroke:"none",fill:"#000"}),u.setBox(),t.canvas[f](s),u},Ht=function(e,t){var n=this.canvas.style;return e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this};var Vt;s.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!s.namespaces.rvml&&s.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Vt=function(e){return s.createElement("<rvml:"+e+' class="rvml">')}}catch($t){Vt=function(e){return s.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Bt=function(){var t=pt[l](0,arguments),n=t.container,r=t.height,i=t.width,o=t.x;t=t.y;if(!n)throw new Error("VML container not found.");var u=new a,c=u.canvas=s.createElement("div"),h=c.style;return o=o||0,t=t||0,i=i||512,r=r||342,i==+i&&(i+="px"),r==+r&&(r+="px"),u.width=1e3,u.height=1e3,u.coordsize=Rt*1e3+d+Rt*1e3,u.coordorigin="0 0",u.span=s.createElement("span"),u.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",c[f](u.span),h.cssText=e.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),n==1?(s.body[f](c),h.left=o+"px",h.top=t+"px",h.position="absolute"):n.firstChild?n.insertBefore(c,n.firstChild):n[f](c),dt.call(u,u,e.fn),u},a[r].clear=function(){this.canvas.innerHTML=p,this.span=s.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[f](this.span),this.bottom=this.top=null},a[r].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=wt(e);return!0}}a[r].safari=navigator.vendor=="Apple Computer, Inc."&&(navigator.userAgent.match(/Version\/(.*?)\s/)[1]<4||o.navigator.platform.slice(0,2)=="iP")?function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});o.setTimeout(function(){e.remove()})}:function(){};var Yt=function(){if(s.addEventListener)return function(e,t,n,r){function o(s){if(h&&y[i](t))for(var o=0,u=s.targetTouches&&s.targetTouches.length;o<u;o++)if(s.targetTouches[o].target==e){u=s,s=s.targetTouches[o],s.originalEvent=u,s.preventDefault=Kt,s.stopPropagation=Gt;break}return n.call(r,s)}var s=h&&y[t]?y[t]:t;return e.addEventListener(s,o,!1),function(){return e.removeEventListener(s,o,!1),!0}};if(s.attachEvent)return function(e,t,n,r){function i(e){return e=e||o.event,e.preventDefault=e.preventDefault||Jt,e.stopPropagation=e.stopPropagation||Qt,n.call(r,e)}function s(){return e.detachEvent("on"+t,i),!0}return e.attachEvent("on"+t,i),s}}(),Zt=[];for(X=g[w];X--;)(function(t){e[t]=At[r][t]=function(n){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Yt(this.shape||this.node||s,t,n,this)})),this},e["un"+t]=At[r]["un"+t]=function(e){for(var n=this.events,r=n[w];r--;)if(n[r].name==t&&n[r].f==e)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(g[X]);At[r].hover=function(e,t){return this.mouseover(e).mouseout(t)},At[r].unhover=function(e,t){return this.unmouseover(e).unmouseout(t)},At[r].drag=function(t,n,r){return this._drag={},this.mousedown(function(i){(i.originalEvent||i).preventDefault(),this._drag.x=i.clientX,this._drag.y=i.clientY,this._drag.id=i.identifier,n&&n.call(this,i.clientX,i.clientY),!Zt.length&&e.mousemove(en).mouseup(tn),Zt.push({el:this,move:t,end:r})}),this},At[r].undrag=function(t,n,r){for(n=Zt.length;n--;)Zt[n].el==this&&Zt[n].move==t&&Zt[n].end==r&&Zt.splice(n,1),!Zt.length&&e.unmousemove(en).unmouseup(tn)},a[r].circle=function(e,t,n){return Ot(this,e||0,t||0,n||0)},a[r].rect=function(e,t,n,r,i){return Mt(this,e||0,t||0,n||0,r||0,i||0)},a[r].ellipse=function(e,t,n,r){return _t(this,e||0,t||0,n||0,r||0)},a[r].path=function(t){return t&&!e.is(t,C)&&!e.is(t[0],k)&&(t+=p),xt(e.format[l](e,arguments),this)},a[r].image=function(e,t,n,r,i){return Dt(this,e||"about:blank",t||0,n||0,r||0,i||0)},a[r].text=function(e,t,n){return Pt(this,e||0,t||0,n||p)},a[r].set=function(e){return arguments[w]>1&&(e=Array[r].splice.call(arguments,0,arguments[w])),new vn(e)},a[r].setSize=Ht,a[r].top=a[r].bottom=null,a[r].raphael=e,At[r].resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},At[r].scale=function(e,t,n,r){if(this.removed)return this;if(e==null&&t==null)return{x:this._.sx,y:this._.sy,toString:nn};t=t||e,!+t&&(t=e);var i,s,o=this.attrs;if(e!=0){var u=this.getBBox(),a=u.x+u.width/2,f=u.y+u.height/2;i=e/this._.sx,s=t/this._.sy,n=+n||n==0?n:a,r=+r||r==0?r:f,u=~~(e/S.abs(e));var l=~~(t/S.abs(t)),h=this.node.style,v=n+(a-n)*i;f=r+(f-r)*s;switch(this.type){case"rect":case"image":var m=o.width*u*i,g=o.height*l*s;this.attr({height:g,r:o.r*T(u*i,l*s),width:m,x:v-m/2,y:f-g/2});break;case"circle":case"ellipse":this.attr({rx:o.rx*u*i,ry:o.ry*l*s,r:o.r*T(u*i,l*s),cx:v,cy:f});break;case"text":this.attr({x:v,y:f});break;case"path":a=it(o.path);for(var y=!0,E=0,x=a[w];E<x;E++){var N=a[E],C=R.call(N[0]);if(C!="M"||!y){y=!1;if(C=="A")N[a[E][w]-2]*=i,N[a[E][w]-1]*=s,N[1]*=u*i,N[2]*=l*s,N[5]=+(u+l?!!+N[5]:!+N[5]);else if(C=="H"){C=1;for(var k=N[w];C<k;C++)N[C]*=i}else if(C=="V"){C=1;for(k=N[w];C<k;C++)N[C]*=s}else{C=1;for(k=N[w];C<k;C++)N[C]*=C%2?i:s}}}s=nt(a),i=v-s.x-s.width/2,s=f-s.y-s.height/2,a[0][1]+=i,a[0][2]+=s,this.attr({path:a})}this.type in{text:1,image:1}&&(u!=1||l!=1)?this.transformations?(this.transformations[2]="scale("[c](u,",",l,")"),this.node[j]("transform",this.transformations[b](d)),i=u==-1?-o.x-(m||0):o.x,s=l==-1?-o.y-(g||0):o.y,this.attr({x:i,y:s}),o.fx=u-1,o.fy=l-1):(this.node.filterMatrix=q+".Matrix(M11="[c](u,", M12=0, M21=0, M22=",l,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),h.filter=(this.node.filterMatrix||p)+(this.node.filterOpacity||p)):this.transformations?(this.transformations[2]=p,this.node[j]("transform",this.transformations[b](d)),o.fx=0,o.fy=0):(this.node.filterMatrix=p,h.filter=(this.node.filterMatrix||p)+(this.node.filterOpacity||p)),o.scale=[e,t,n,r][b](d),this._.sx=e,this._.sy=t}return this},At[r].clone=function(){if(this.removed)return null;var e=this.attr();return delete e.scale,delete e.translation,this.paper[this.type]().attr(e)};var rn=Z(function(e,t,n,r,i,s,o,u,a){for(var f=0,l,c=0;c<1.01;c+=.01){var h=ft(e,t,n,r,i,s,o,u,c);c&&(f+=M(M(l.x-h.x,2)+M(l.y-h.y,2),.5));if(f>=a)return h;l=h}}),on=Z(function(e,t,n,r,i,s,o,u){for(var a={x:0,y:0},f=0,l=0;l<1.01;l+=.01){var c=ft(e,t,n,r,i,s,o,u,l);l&&(f+=M(M(a.x-c.x,2)+M(a.y-c.y,2),.5)),a=c}return f}),un=sn(1),an=sn(),fn=sn(0,1);At[r].getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():un(this.attrs.path)},At[r].getPointAtLength=function(e){if(this.type=="path")return this.node.getPointAtLength?this.node.getPointAtLength(e):an(this.attrs.path,e)},At[r].getSubpath=function(e,t){if(this.type=="path")return S.abs(this.getTotalLength()-t)<1e-6?fn(this.attrs.path,e).end:(t=fn(this.attrs.path,t,1),e?fn(t,e).end:t)},e.easing_formulas={linear:function(e){return e},"<":function(e){return M(e,3)},">":function(e){return M(e-1,3)+1},"<>":function(e){return e*=2,e<1?M(e,3)/2:(e-=2,(M(e,3)+2)/2)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){if(e==0||e==1)return e;var t=.3,n=t/4;return M(2,-10*e)*S.sin((e-n)*2*S.PI/t)+1},bounce:function(e){var t=7.5625,n=2.75;return e<1/n?e=t*e*e:e<2/n?(e-=1.5/n,e=t*e*e+.75):e<2.5/n?(e-=2.25/n,e=t*e*e+.9375):(e-=2.625/n,e=t*e*e+.984375),e}};var ln={length:0};At[r].animateWith=function(e,t,n,r,i){return ln[e.id]&&(t.start=ln[e.id].start),this.animate(t,n,r,i)},At[r].animateAlong=dn(),At[r].animateAlongBack=dn(1),At[r].onAnimation=function(e){return this._run=e||0,this},At[r].animate=function(n,r,s,o){if(e.is(s,"function")||!s)o=s||null;var u={},a={},f={};for(var l in n)if(n[i](l)&&z[i](l)){u[l]=this.attr(l),u[l]==null&&(u[l]=U[l]),a[l]=n[l];switch(z[l]){case"along":var c=un(n[l]),h=an(n[l],c*!!n.back),p=this.getBBox();f[l]=c/r,f.tx=p.x,f.ty=p.y,f.sx=h.x,f.sy=h.y,a.rot=n.rot,a.back=n.back,a.len=c,n.rot&&(f.r=F(this.rotate())||0);break;case N:f[l]=(a[l]-u[l])/r;break;case"colour":u[l]=e.getRGB(u[l]),c=e.getRGB(a[l]),f[l]={r:(c.r-u[l].r)/r,g:(c.g-u[l].g)/r,b:(c.b-u[l].b)/r};break;case"path":c=ct(u[l],a[l]),u[l]=c[0],h=c[1],f[l]=[],c=0;for(p=u[l][w];c<p;c++){f[l][c]=[0];for(var d=1,g=u[l][c][w];d<g;d++)f[l][c][d]=(h[c][d]-u[l][c][d])/r}break;case"csv":h=v(n[l])[m](t),c=v(u[l])[m](t);switch(l){case"translation":u[l]=[0,0],f[l]=[h[0]/r,h[1]/r];break;case"rotation":u[l]=c[1]==h[1]&&c[2]==h[2]?c:[0,h[1],h[2]],f[l]=[(h[0]-u[l][0])/r,0,0];break;case"scale":n[l]=h,u[l]=v(u[l])[m](t),f[l]=[(h[0]-u[l][0])/r,(h[1]-u[l][1])/r,0,0];break;case"clip-rect":u[l]=v(u[l])[m](t),f[l]=[];for(c=4;c--;)f[l][c]=(h[c]-u[l][c])/r}a[l]=h}}return this.stop(),this.in_animation=1,ln[this.id]={start:n.start||+(new Date),ms:r,easing:s,from:u,diff:f,to:a,el:this,callback:o,t:{x:0,y:0}},++ln[w]==1&&cn(),this},At[r].stop=function(){return ln[this.id]&&ln[w]--,delete ln[this.id],this},At[r].translate=function(e,t){return this.attr({translation:e+" "+t})},At[r][L]=function(){return"Raphaël’s object"},e.ae=ln,vn[r][_]=function(){for(var e,t,n=0,r=arguments[w];n<r;n++)(e=arguments[n])&&(e.constructor==At||e.constructor==vn)&&(t=this.items[w],this[t]=this.items[t]=e,this[w]++);return this},vn[r].pop=function(){return delete this[this[w]--],this.items.pop()};for(var mn in At[r])At[r][i](mn)&&(vn[r][mn]=function(e){return function(){for(var t=0,n=this.items[w];t<n;t++)this.items[t][e][l](this.items[t],arguments);return this}}(mn));vn[r].attr=function(t,n){if(t&&e.is(t,k)&&e.is(t[0],"object")){n=0;for(var r=t[w];n<r;n++)this.items[n].attr(t[n])}else{r=0;for(var i=this.items[w];r<i;r++)this.items[r].attr(t,n)}return this},vn[r].animate=function(t,n,r,i){(e.is(r,"function")||!r)&&(i=r||null);var s=this.items[w],o=s,u,a=this,f;i&&(f=function(){!--s&&i.call(a)}),r=e.is(r,C)?r:f;for(u=this.items[--o].animate(t,n,r,f);o--;)this.items[o].animateWith(u,t,n,r,f);return this},vn[r].insertAfter=function(e){for(var t=this.items[w];t--;)this.items[t].insertAfter(e);return this},vn[r].getBBox=function(){for(var e=[],t=[],n=[],r=[],i=this.items[w];i--;){var s=this.items[i].getBBox();e[_](s.x),t[_](s.y),n[_](s.x+s.width),r[_](s.y+s.height)}return e=T[l](0,e),t=T[l](0,t),{x:e,y:t,width:x[l](0,n)-e,height:x[l](0,r)-t}},vn[r].clone=function(e){e=new vn;for(var t=0,n=this.items[w];t<n;t++)e[_](this.items[t].clone());return e},e.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[i](r)&&(t.face[r]=e.face[r]);this.fonts[n]?this.fonts[n][_](t):this.fonts[n]=[t];if(!e.svg){t.face["units-per-em"]=I(e.face["units-per-em"],10);for(var s in e.glyphs)if(e.glyphs[i](s)){n=e.glyphs[s],t.glyphs[s]={w:n.w,k:{},d:n.d&&"M"+n.d[W](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(n.k)for(var o in n.k)n[i](o)&&(t.glyphs[s].k[o]=n.k[o])}}return e},a[r].getFont=function(t,n,r,s){s=s||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400;if(e.fonts){var o=e.fonts[t];if(!o){t=new RegExp("(^|\\s)"+t[W](/[^\w\d\s+!~.:_-]/g,p)+"(\\s|$)","i");for(var u in e.fonts)if(e.fonts[i](u)&&t.test(u)){o=e.fonts[u];break}}var a;if(o){u=0;for(t=o[w];u<t;u++){a=o[u];if(a.face["font-weight"]==n&&(a.face["font-style"]==r||!a.face["font-style"])&&a.face["font-stretch"]==s)break}}return a}},a[r].print=function(n,r,i,s,o,u){u=u||"middle";var a=this.set(),f=v(i)[m](p),l=0;e.is(s,i)&&(s=this.getFont(s));if(s){i=(o||16)/s.face["units-per-em"];var c=s.face.bbox.split(t);o=+c[0],u=+c[1]+(u=="baseline"?c[3]-c[1]+ +s.face.descent:(c[3]-c[1])/2),c=0;for(var h=f[w];c<h;c++){var d=c&&s.glyphs[f[c-1]]||{},g=s.glyphs[f[c]];l+=c?(d.w||s.w)+(d.k&&d.k[f[c]]||0):0,g&&g.d&&a[_](this.path(g.d).attr({fill:"#000",stroke:"none",translation:[l,0]}))}a.scale(i,i,o,u).translate(n-o,r-u)}return a};var gn=/\{(\d+)\}/g;return e.format=function(t,n){var r=e.is(n,k)?[0][c](n):arguments;return t&&e.is(t,C)&&r[w]-1&&(t=t[W](gn,function(e,t){return r[++t]==null?p:r[t]})),t||p},e.ninja=function(){return u.was?Raphael=u.is:delete Raphael,e},e.el=At[r],e}(),function(e){var t="0.3.4",n="hasOwnProperty",r=/[\.\/]/,i="*",s=function(){},o=function(e,t){return e-t},u,a,f={n:{}},l=function(e,t){var n=f,r=a,i=Array.prototype.slice.call(arguments,2),s=l.listeners(e),c=0,h=!1,p,d=[],v={},m=[],g=u,y=[];u=e,a=0;for(var b=0,w=s.length;b<w;b++)"zIndex"in s[b]&&(d.push(s[b].zIndex),s[b].zIndex<0&&(v[s[b].zIndex]=s[b]));d.sort(o);while(d[c]<0){p=v[d[c++]],m.push(p.apply(t,i));if(a)return a=r,m}for(b=0;b<w;b++){p=s[b];if("zIndex"in p)if(p.zIndex==d[c]){m.push(p.apply(t,i));if(a)break;do{c++,p=v[d[c]],p&&m.push(p.apply(t,i));if(a)break}while(p)}else v[p.zIndex]=p;else{m.push(p.apply(t,i));if(a)break}}return a=r,u=g,m.length?m:null};l.listeners=function(e){var t=e.split(r),n=f,s,o,u,a,l,c,h,p,d=[n],v=[];for(a=0,l=t.length;a<l;a++){p=[];for(c=0,h=d.length;c<h;c++){n=d[c].n,o=[n[t[a]],n[i]],u=2;while(u--)s=o[u],s&&(p.push(s),v=v.concat(s.f||[]))}d=p}return v},l.on=function(e,t){var n=e.split(r),i=f;for(var o=0,u=n.length;o<u;o++)i=i.n,!i[n[o]]&&(i[n[o]]={n:{}}),i=i[n[o]];i.f=i.f||[];for(o=0,u=i.f.length;o<u;o++)if(i.f[o]==t)return s;return i.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},l.stop=function(){a=1},l.nt=function(e){return e?(new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)")).test(u):u},l.off=l.unbind=function(e,t){var s=e.split(r),o,u,a,l,c,h,p,d=[f];for(l=0,c=s.length;l<c;l++)for(h=0;h<d.length;h+=a.length-2){a=[h,1],o=d[h].n;if(s[l]!=i)o[s[l]]&&a.push(o[s[l]]);else for(u in o)o[n](u)&&a.push(o[u]);d.splice.apply(d,a)}for(l=0,c=d.length;l<c;l++){o=d[l];while(o.n){if(t){if(o.f){for(h=0,p=o.f.length;h<p;h++)if(o.f[h]==t){o.f.splice(h,1);break}!o.f.length&&delete o.f}for(u in o.n)if(o.n[n](u)&&o.n[u].f){var v=o.n[u].f;for(h=0,p=v.length;h<p;h++)if(v[h]==t){v.splice(h,1);break}!v.length&&delete o.n[u].f}}else{delete o.f;for(u in o.n)o.n[n](u)&&o.n[u].f&&delete o.n[u].f}o=o.n}}},l.once=function(e,t){var n=function(){var r=t.apply(this,arguments);return l.unbind(e,n),r};return l.on(e,n)},l.version=t,l.toString=function(){return"You are running Eve "+t},typeof module!="undefined"&&module.exports?module.exports=l:typeof define!="undefined"?define("eve",[],function(){return l}):e.eve=l}(this),function(){function e(n){if(e.is(n,"function"))return t?n():eve.on("raphael.DOMload",n);if(e.is(n,O))return e._engine.create[h](e,n.splice(0,3+e.is(n[0],L))).add(n);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var i=r.pop();return t?i.call(e._engine.create[h](e,r)):eve.on("raphael.DOMload",function(){i.call(e._engine.create[h](e,r))})}return e._engine.create[h](e,arguments)}function ht(e){if(Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[o](n)&&(t[n]=ht(e[n]));return t}function wt(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function Et(e,t,n){function r(){var i=Array.prototype.slice.call(arguments,0),s=i.join("␀"),u=r.cache=r.cache||{},a=r.count=r.count||[];return u[o](s)?(wt(a,s),n?n(u[s]):u[s]):(a.length>=1e3&&delete u[a.shift()],a.push(s),u[s]=e[h](t,i),n?n(u[s]):u[s])}return r}function xt(){return this.hex}function Tt(e,t){var n=[];for(var r=0,i=e.length;i-2*!t>r;r+=2){var s=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?s[3]={x:+e[0],y:+e[1]}:i-2==r&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?s[3]=s[2]:r||(s[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return n}function Ct(e,t,n,r,i){var s=-3*t+9*n-9*r+3*i,o=e*s+6*t-12*n+6*r;return e*o-3*t+3*n}function kt(e,t,n,r,i,s,o,u,a){a==null&&(a=1),a=a>1?1:a<0?0:a;var f=a/2,l=12,c=[-0.1252,.1252,-0.3678,.3678,-0.5873,.5873,-0.7699,.7699,-0.9041,.9041,-0.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0;for(var d=0;d<l;d++){var v=f*c[d]+f,m=Ct(v,e,n,i,o),g=Ct(v,t,r,s,u),y=m*m+g*g;p+=h[d]*S.sqrt(y)}return f*p}function Lt(e,t,n,r,i,s,o,u,a){if(a<0||kt(e,t,n,r,i,s,o,u)<a)return;var f=1,l=f/2,c=f-l,h,p=.01;h=kt(e,t,n,r,i,s,o,u,c);while(N(h-a)>p)l/=2,c+=(h<a?1:-1)*l,h=kt(e,t,n,r,i,s,o,u,c);return c}function At(e,t,n,r,i,s,o,u){if(x(e,n)<T(i,o)||T(e,n)>x(i,o)||x(t,r)<T(s,u)||T(t,r)>x(s,u))return;var a=(e*r-t*n)*(i-o)-(e-n)*(i*u-s*o),f=(e*r-t*n)*(s-u)-(t-r)*(i*u-s*o),l=(e-n)*(s-u)-(t-r)*(i-o);if(!l)return;var c=a/l,h=f/l,p=+c.toFixed(2),d=+h.toFixed(2);if(p<+T(e,n).toFixed(2)||p>+x(e,n).toFixed(2)||p<+T(i,o).toFixed(2)||p>+x(i,o).toFixed(2)||d<+T(t,r).toFixed(2)||d>+x(t,r).toFixed(2)||d<+T(s,u).toFixed(2)||d>+x(s,u).toFixed(2))return;return{x:c,y:h}}function Ot(e,t){return _t(e,t)}function Mt(e,t){return _t(e,t,1)}function _t(t,n,r){var i=e.bezierBBox(t),s=e.bezierBBox(n);if(!e.isBBoxIntersect(i,s))return r?0:[];var o=kt.apply(0,t),u=kt.apply(0,n),a=~~(o/5),f=~~(u/5),l=[],c=[],h={},p=r?0:[];for(var d=0;d<a+1;d++){var v=e.findDotsAtSegment.apply(e,t.concat(d/a));l.push({x:v.x,y:v.y,t:d/a})}for(d=0;d<f+1;d++)v=e.findDotsAtSegment.apply(e,n.concat(d/f)),c.push({x:v.x,y:v.y,t:d/f});for(d=0;d<a;d++)for(var m=0;m<f;m++){var g=l[d],y=l[d+1],b=c[m],w=c[m+1],E=N(y.x-g.x)<.001?"y":"x",S=N(w.x-b.x)<.001?"y":"x",x=At(g.x,g.y,y.x,y.y,b.x,b.y,w.x,w.y);if(x){if(h[x.x.toFixed(4)]==x.y.toFixed(4))continue;h[x.x.toFixed(4)]=x.y.toFixed(4);var T=g.t+N((x[E]-g[E])/(y[E]-g[E]))*(y.t-g.t),C=b.t+N((x[S]-b[S])/(w[S]-b[S]))*(w.t-b.t);T>=0&&T<=1&&C>=0&&C<=1&&(r?p++:p.push({x:x.x,y:x.y,t1:T,t2:C}))}}return p}function Dt(t,n,r){t=e._path2curve(t),n=e._path2curve(n);var i,s,o,u,a,f,l,c,h,p,d=r?0:[];for(var v=0,m=t.length;v<m;v++){var g=t[v];if(g[0]=="M")i=a=g[1],s=f=g[2];else{g[0]=="C"?(h=[i,s].concat(g.slice(1)),i=h[6],s=h[7]):(h=[i,s,i,s,a,f,a,f],i=a,s=f);for(var y=0,b=n.length;y<b;y++){var w=n[y];if(w[0]=="M")o=l=w[1],u=c=w[2];else{w[0]=="C"?(p=[o,u].concat(w.slice(1)),o=p[6],u=p[7]):(p=[o,u,o,u,l,c,l,c],o=l,u=c);var E=_t(h,p,r);if(r)d+=E;else{for(var S=0,x=E.length;S<x;S++)E[S].segment1=v,E[S].segment2=y,E[S].bez1=h,E[S].bez2=p;d=d.concat(E)}}}}}return d}function tn(e,t,n,r,i,s){e!=null?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+i,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function mn(){return this.x+m+this.y}function gn(){return this.x+m+this.y+m+this.width+" × "+this.height}function An(e,t,n,r,i,s){function h(e){return((a*e+u)*e+o)*e}function p(e,t){var n=d(e,t);return((c*n+l)*n+f)*n}function d(e,t){var n,r,i,s,f,l;for(i=e,l=0;l<8;l++){s=h(i)-e;if(N(s)<t)return i;f=(3*a*i+2*u)*i+o;if(N(f)<1e-6)break;i-=s/f}n=0,r=1,i=e;if(i<n)return n;if(i>r)return r;while(n<r){s=h(i);if(N(s-e)<t)return i;e>s?n=i:r=i,i=(r-n)/2+n}return i}var o=3*t,u=3*(r-t)-o,a=1-o-u,f=3*n,l=3*(i-n)-f,c=1-f-l;return p(e,1/(200*s))}function On(e,t){var n=[],r={};this.ms=t,this.times=1;if(e){for(var i in e)e[o](i)&&(r[U(i)]=e[i],n.push(U(i)));n.sort(rt)}this.anim=r,this.top=n[n.length-1],this.percents=n}function Mn(t,r,i,s,u,a){i=U(i);var f,l,c,h=[],d,v,m,b=t.ms,w={},E={},S={};if(s)for(T=0,N=Nn.length;T<N;T++){var x=Nn[T];if(x.el.id==r.id&&x.anim==t){x.percent!=i?(Nn.splice(T,1),c=1):l=x,r.attr(x.totalOrigin);break}}else s=+E;for(var T=0,N=t.percents.length;T<N;T++){if(t.percents[T]==i||t.percents[T]>s*t.top){i=t.percents[T],v=t.percents[T-1]||0,b=b/t.top*(i-v),d=t.percents[T+1],f=t.anim[i];break}s&&r.attr(t.anim[t.percents[T]])}if(!f)return;if(!l){for(var C in f)if(f[o](C))if(V[o](C)||r.paper.customAttributes[o](C)){w[C]=r.attr(C),w[C]==null&&(w[C]=X[C]),E[C]=f[C];switch(V[C]){case L:S[C]=(E[C]-w[C])/b;break;case"colour":w[C]=e.getRGB(w[C]);var k=e.getRGB(E[C]);S[C]={r:(k.r-w[C].r)/b,g:(k.g-w[C].g)/b,b:(k.b-w[C].b)/b};break;case"path":var A=zt(w[C],E[C]),O=A[1];w[C]=A[0],S[C]=[];for(T=0,N=w[C].length;T<N;T++){S[C][T]=[0];for(var M=1,_=w[C][T].length;M<_;M++)S[C][T][M]=(O[T][M]-w[C][T][M])/b}break;case"transform":var D=r._,P=en(D[C],E[C]);if(P){w[C]=P.from,E[C]=P.to,S[C]=[],S[C].real=!0;for(T=0,N=w[C].length;T<N;T++){S[C][T]=[w[C][T][0]];for(M=1,_=w[C][T].length;M<_;M++)S[C][T][M]=(E[C][T][M]-w[C][T][M])/b}}else{var H=r.matrix||new tn,B={_:{transform:D.transform},getBBox:function(){return r.getBBox(1)}};w[C]=[H.a,H.b,H.c,H.d,H.e,H.f],Yt(B,E[C]),E[C]=B._.transform,S[C]=[(B.matrix.a-H.a)/b,(B.matrix.b-H.b)/b,(B.matrix.c-H.c)/b,(B.matrix.d-H.d)/b,(B.matrix.e-H.e)/b,(B.matrix.f-H.f)/b]}break;case"csv":var j=g(f[C])[y](n),F=g(w[C])[y](n);if(C=="clip-rect"){w[C]=F,S[C]=[],T=F.length;while(T--)S[C][T]=(j[T]-w[C][T])/b}E[C]=j;break;default:j=[][p](f[C]),F=[][p](w[C]),S[C]=[],T=r.paper.customAttributes[C].length;while(T--)S[C][T]=((j[T]||0)-(F[T]||0))/b}}var q=f.easing,R=e.easing_formulas[q];if(!R){R=g(q).match(I);if(R&&R.length==5){var z=R;R=function(e){return An(e,+z[1],+z[2],+z[3],+z[4],b)}}else R=st}m=f.start||t.start||+(new Date),x={anim:t,percent:i,timestamp:m,start:m+(t.del||0),status:0,initstatus:s||0,stop:!1,ms:b,easing:R,from:w,diff:S,to:E,el:r,callback:f.callback,prev:v,next:d,repeat:a||t.times,origin:r.attr(),totalOrigin:u},Nn.push(x);if(s&&!l&&!c){x.stop=!0,x.start=new Date-b*s;if(Nn.length==1)return kn()}c&&(x.start=new Date-x.ms*s),Nn.length==1&&Cn(kn)}else l.initstatus=s,l.start=new Date-l.ms*s;eve("raphael.anim.start."+r.id,r,t)}function _n(e){for(var t=0;t<Nn.length;t++)Nn[t].el.paper==e&&Nn.splice(t--,1)}e.version="2.1.0",e.eve=eve;var t,n=/[, ]+/,r={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},i=/\{(\d+)\}/g,s="prototype",o="hasOwnProperty",u={doc:document,win:window},a={was:Object.prototype[o].call(u.win,"Raphael"),is:u.win.Raphael},f=function(){this.ca=this.customAttributes={}},l,c="appendChild",h="apply",p="concat",d="createTouch"in u.doc,v="",m=" ",g=String,y="split",b="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[y](m),w={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},E=g.prototype.toLowerCase,S=Math,x=S.max,T=S.min,N=S.abs,C=S.pow,k=S.PI,L="number",A="string",O="array",M="toString",_="fill",D=Object.prototype.toString,P={},H="push",B=e._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,j=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,F={NaN:1,Infinity:1,"-Infinity":1},I=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,q=S.round,R="setAttribute",U=parseFloat,z=parseInt,W=g.prototype.toUpperCase,X=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},V=e._availableAnimAttrs={blur:L,"clip-rect":"csv",cx:L,cy:L,fill:"colour","fill-opacity":L,"font-size":L,height:L,opacity:L,path:"path",r:L,rx:L,ry:L,stroke:"colour","stroke-opacity":L,"stroke-width":L,transform:"transform",width:L,x:L,y:L},$=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,J=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,K={hs:1,rg:1},Q=/,?([achlmqrstvxz]),?/gi,G=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,Y=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,Z=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,et=e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,tt={},nt=function(e,t){return e.key-t.key},rt=function(e,t){return U(e)-U(t)},it=function(){},st=function(e){return e},ot=e._rectPath=function(e,t,n,r,i){return i?[["M",e+i,t],["l",n-i*2,0],["a",i,i,0,0,1,i,i],["l",0,r-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-n,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]]},ut=function(e,t,n,r){return r==null&&(r=n),[["M",e,t],["m"
,0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},at=e._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return ut(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return ut(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ot(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ot(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ot(t.x,t.y,t.width,t.height)}},ft=e.mapPath=function(e,t){if(!t)return e;var n,r,i,s,o,u,a;e=zt(e);for(i=0,o=e.length;i<o;i++){a=e[i];for(s=1,u=a.length;s<u;s+=2)n=t.x(a[s],a[s+1]),r=t.y(a[s],a[s+1]),a[s]=n,a[s+1]=r}return e};e._g=u,e.type=u.win.SVGAngle||u.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(e.type=="VML"){var lt=u.doc.createElement("div"),ct;lt.innerHTML='<v:shape adj="1"/>',ct=lt.firstChild,ct.style.behavior="url(#default#VML)";if(!ct||typeof ct.adj!="object")return e.type=v;lt=null}e.svg=!(e.vml=e.type=="VML"),e._Paper=f,e.fn=l=f.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(e,t){return t=E.call(t),t=="finite"?!F[o](+e):t=="array"?e instanceof Array:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||D.call(e).slice(8,-1).toLowerCase()==t},e.angle=function(t,n,r,i,s,o){if(s==null){var u=t-r,a=n-i;return!u&&!a?0:(180+S.atan2(-a,-u)*180/k+360)%360}return e.angle(t,n,s,o)-e.angle(r,i,s,o)},e.rad=function(e){return e%360*k/180},e.deg=function(e){return e*180/k%360},e.snapTo=function(t,n,r){r=e.is(r,"finite")?r:10;if(e.is(t,O)){var i=t.length;while(i--)if(N(t[i]-n)<=r)return t[i]}else{t=+t;var s=n%t;if(s<r)return n-s;if(s>t-r)return n-s+t}return n};var pt=e.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=S.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)});e.setWindow=function(t){eve("raphael.setWindow",e,u.win,t),u.win=t,u.doc=u.win.document,e._engine.initWin&&e._engine.initWin(u.win)};var dt=function(t){if(e.vml){var n=/^\s+|\s+$/g,r;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),r=i.body}catch(s){r=createPopup().document.body}var o=r.createTextRange();dt=Et(function(e){try{r.style.color=g(e).replace(n,v);var t=o.queryCommandValue("ForeColor");return t=(t&255)<<16|t&65280|(t&16711680)>>>16,"#"+("000000"+t.toString(16)).slice(-6)}catch(i){return"none"}})}else{var a=u.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",u.doc.body.appendChild(a),dt=Et(function(e){return a.style.color=e,u.doc.defaultView.getComputedStyle(a,v).getPropertyValue("color")})}return dt(t)},vt=function(){return"hsb("+[this.h,this.s,this.b]+")"},mt=function(){return"hsl("+[this.h,this.s,this.l]+")"},gt=function(){return this.hex},yt=function(t,n,r){n==null&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r);if(n==null&&e.is(t,A)){var i=e.getRGB(t);t=i.r,n=i.g,r=i.b}if(t>1||n>1||r>1)t/=255,n/=255,r/=255;return[t,n,r]},bt=function(t,n,r,i){t*=255,n*=255,r*=255;var s={r:t,g:n,b:r,hex:e.rgb(t,n,r),toString:gt};return e.is(i,"finite")&&(s.opacity=i),s};e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=gt,t},e.hsb2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h,r=e.o),e*=360;var i,s,o,u,a;return e=e%360/60,a=n*t,u=a*(1-N(e%2-1)),i=s=o=n-a,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],bt(i,s,o,r)},e.hsl2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h);if(e>1||t>1||n>1)e/=360,t/=100,n/=100;e*=360;var i,s,o,u,a;return e=e%360/60,a=2*t*(n<.5?n:1-n),u=a*(1-N(e%2-1)),i=s=o=n-a/2,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],bt(i,s,o,r)},e.rgb2hsb=function(e,t,n){n=yt(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o;return s=x(e,t,n),o=s-T(e,t,n),r=o==0?null:s==e?(t-n)/o:s==t?(n-e)/o+2:(e-t)/o+4,r=(r+360)%6*60/360,i=o==0?0:o/s,{h:r,s:i,b:s,toString:vt}},e.rgb2hsl=function(e,t,n){n=yt(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o,u,a;return o=x(e,t,n),u=T(e,t,n),a=o-u,r=a==0?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,s=(o+u)/2,i=a==0?0:s<.5?a/(2*s):a/(2-2*s),{h:r,s:i,l:s,toString:mt}},e._path2string=function(){return this.join(",").replace(Q,"$1")};var St=e._preload=function(e,t){var n=u.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,u.doc.body.removeChild(this)},n.onerror=function(){u.doc.body.removeChild(this)},u.doc.body.appendChild(n),n.src=e};e.getRGB=Et(function(t){if(!t||!!((t=g(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:xt};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:xt};!K[o](t.toLowerCase().substring(0,2))&&t.charAt()!="#"&&(t=dt(t));var n,r,i,s,u,a,f,l=t.match(j);return l?(l[2]&&(s=z(l[2].substring(5),16),i=z(l[2].substring(3,5),16),r=z(l[2].substring(1,3),16)),l[3]&&(s=z((a=l[3].charAt(3))+a,16),i=z((a=l[3].charAt(2))+a,16),r=z((a=l[3].charAt(1))+a,16)),l[4]&&(f=l[4][y](J),r=U(f[0]),f[0].slice(-1)=="%"&&(r*=2.55),i=U(f[1]),f[1].slice(-1)=="%"&&(i*=2.55),s=U(f[2]),f[2].slice(-1)=="%"&&(s*=2.55),l[1].toLowerCase().slice(0,4)=="rgba"&&(u=U(f[3])),f[3]&&f[3].slice(-1)=="%"&&(u/=100)),l[5]?(f=l[5][y](J),r=U(f[0]),f[0].slice(-1)=="%"&&(r*=2.55),i=U(f[1]),f[1].slice(-1)=="%"&&(i*=2.55),s=U(f[2]),f[2].slice(-1)=="%"&&(s*=2.55),(f[0].slice(-3)=="deg"||f[0].slice(-1)=="°")&&(r/=360),l[1].toLowerCase().slice(0,4)=="hsba"&&(u=U(f[3])),f[3]&&f[3].slice(-1)=="%"&&(u/=100),e.hsb2rgb(r,i,s,u)):l[6]?(f=l[6][y](J),r=U(f[0]),f[0].slice(-1)=="%"&&(r*=2.55),i=U(f[1]),f[1].slice(-1)=="%"&&(i*=2.55),s=U(f[2]),f[2].slice(-1)=="%"&&(s*=2.55),(f[0].slice(-3)=="deg"||f[0].slice(-1)=="°")&&(r/=360),l[1].toLowerCase().slice(0,4)=="hsla"&&(u=U(f[3])),f[3]&&f[3].slice(-1)=="%"&&(u/=100),e.hsl2rgb(r,i,s,u)):(l={r:r,g:i,b:s,toString:xt},l.hex="#"+(16777216|s|i<<8|r<<16).toString(16).slice(1),e.is(u,"finite")&&(l.opacity=u),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:xt}},e),e.hsb=Et(function(t,n,r){return e.hsb2rgb(t,n,r).hex}),e.hsl=Et(function(t,n,r){return e.hsl2rgb(t,n,r).hex}),e.rgb=Et(function(e,t,n){return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)}),e.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=Nt(t);if(n.arr)return Ht(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return e.is(t,O)&&e.is(t[0],O)&&(i=Ht(t)),i.length||g(t).replace(G,function(e,t,n){var s=[],o=t.toLowerCase();n.replace(Z,function(e,t){t&&s.push(+t)}),o=="m"&&s.length>2&&(i.push([t][p](s.splice(0,2))),o="l",t=t=="m"?"l":"L");if(o=="r")i.push([t][p](s));else while(s.length>=r[o]){i.push([t][p](s.splice(0,r[o])));if(!r[o])break}}),i.toString=e._path2string,n.arr=Ht(i),i},e.parseTransformString=Et(function(t){if(!t)return null;var n={r:3,s:4,t:2,m:6},r=[];return e.is(t,O)&&e.is(t[0],O)&&(r=Ht(t)),r.length||g(t).replace(Y,function(e,t,n){var i=[],s=E.call(t);n.replace(Z,function(e,t){t&&i.push(+t)}),r.push([t][p](i))}),r.toString=e._path2string,r});var Nt=function(e){var t=Nt.ps=Nt.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[o](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]};e.findDotsAtSegment=function(e,t,n,r,i,s,o,u,a){var f=1-a,l=C(f,3),c=C(f,2),h=a*a,p=h*a,d=l*e+c*3*a*n+f*3*a*a*i+p*o,v=l*t+c*3*a*r+f*3*a*a*s+p*u,m=e+2*a*(n-e)+h*(i-2*n+e),g=t+2*a*(r-t)+h*(s-2*r+t),y=n+2*a*(i-n)+h*(o-2*i+n),b=r+2*a*(s-r)+h*(u-2*s+r),w=f*e+a*n,E=f*t+a*r,x=f*i+a*o,T=f*s+a*u,N=90-S.atan2(m-y,g-b)*180/k;return(m>y||g<b)&&(N+=180),{x:d,y:v,m:{x:m,y:g},n:{x:y,y:b},start:{x:w,y:E},end:{x:x,y:T},alpha:N}},e.bezierBBox=function(t,n,r,i,s,o,u,a){e.is(t,"array")||(t=[t,n,r,i,s,o,u,a]);var f=Ut.apply(null,t);return{x:f.min.x,y:f.min.y,x2:f.max.x,y2:f.max.y,width:f.max.x-f.min.x,height:f.max.y-f.min.y}},e.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},e.isBBoxIntersect=function(t,n){var r=e.isPointInsideBBox;return r(n,t.x,t.y)||r(n,t.x2,t.y)||r(n,t.x,t.y2)||r(n,t.x2,t.y2)||r(t,n.x,n.y)||r(t,n.x2,n.y)||r(t,n.x,n.y2)||r(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(e,t){return Dt(e,t)},e.pathIntersectionNumber=function(e,t){return Dt(e,t,1)},e.isPointInsidePath=function(t,n,r){var i=e.pathBBox(t);return e.isPointInsideBBox(i,n,r)&&Dt(t,[["M",n,r],["H",i.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Pt=e.pathBBox=function(e){var t=Nt(e);if(t.bbox)return t.bbox;if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=zt(e);var n=0,r=0,i=[],s=[],o;for(var u=0,a=e.length;u<a;u++){o=e[u];if(o[0]=="M")n=o[1],r=o[2],i.push(n),s.push(r);else{var f=Ut(n,r,o[1],o[2],o[3],o[4],o[5],o[6]);i=i[p](f.min.x,f.max.x),s=s[p](f.min.y,f.max.y),n=o[5],r=o[6]}}var l=T[h](0,i),c=T[h](0,s),d=x[h](0,i),v=x[h](0,s),m={x:l,y:c,x2:d,y2:v,width:d-l,height:v-c};return t.bbox=ht(m),m},Ht=function(t){var n=ht(t);return n.toString=e._path2string,n},Bt=e._pathToRelative=function(t){var n=Nt(t);if(n.rel)return Ht(n.rel);if(!e.is(t,O)||!e.is(t&&t[0],O))t=e.parsePathString(t);var r=[],i=0,s=0,o=0,u=0,a=0;t[0][0]=="M"&&(i=t[0][1],s=t[0][2],o=i,u=s,a++,r.push(["M",i,s]));for(var f=a,l=t.length;f<l;f++){var c=r[f]=[],h=t[f];if(h[0]!=E.call(h[0])){c[0]=E.call(h[0]);switch(c[0]){case"a":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]-i).toFixed(3),c[7]=+(h[7]-s).toFixed(3);break;case"v":c[1]=+(h[1]-s).toFixed(3);break;case"m":o=h[1],u=h[2];default:for(var p=1,d=h.length;p<d;p++)c[p]=+(h[p]-(p%2?i:s)).toFixed(3)}}else{c=r[f]=[],h[0]=="m"&&(o=h[1]+i,u=h[2]+s);for(var v=0,m=h.length;v<m;v++)r[f][v]=h[v]}var g=r[f].length;switch(r[f][0]){case"z":i=o,s=u;break;case"h":i+=+r[f][g-1];break;case"v":s+=+r[f][g-1];break;default:i+=+r[f][g-2],s+=+r[f][g-1]}}return r.toString=e._path2string,n.rel=Ht(r),r},jt=e._pathToAbsolute=function(t){var n=Nt(t);if(n.abs)return Ht(n.abs);if(!e.is(t,O)||!e.is(t&&t[0],O))t=e.parsePathString(t);if(!t||!t.length)return[["M",0,0]];var r=[],i=0,s=0,o=0,u=0,a=0;t[0][0]=="M"&&(i=+t[0][1],s=+t[0][2],o=i,u=s,a++,r[0]=["M",i,s]);var f=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z";for(var l,c,h=a,d=t.length;h<d;h++){r.push(l=[]),c=t[h];if(c[0]!=W.call(c[0])){l[0]=W.call(c[0]);switch(l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]+i),l[7]=+(c[7]+s);break;case"V":l[1]=+c[1]+s;break;case"H":l[1]=+c[1]+i;break;case"R":var v=[i,s][p](c.slice(1));for(var m=2,g=v.length;m<g;m++)v[m]=+v[m]+i,v[++m]=+v[m]+s;r.pop(),r=r[p](Tt(v,f));break;case"M":o=+c[1]+i,u=+c[2]+s;default:for(m=1,g=c.length;m<g;m++)l[m]=+c[m]+(m%2?i:s)}}else if(c[0]=="R")v=[i,s][p](c.slice(1)),r.pop(),r=r[p](Tt(v,f)),l=["R"][p](c.slice(-2));else for(var y=0,b=c.length;y<b;y++)l[y]=c[y];switch(l[0]){case"Z":i=o,s=u;break;case"H":i=l[1];break;case"V":s=l[1];break;case"M":o=l[l.length-2],u=l[l.length-1];default:i=l[l.length-2],s=l[l.length-1]}}return r.toString=e._path2string,n.abs=Ht(r),r},Ft=function(e,t,n,r){return[e,t,n,r,n,r]},It=function(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]},qt=function(e,t,n,r,i,s,o,u,a,f){var l=k*120/180,c=k/180*(+i||0),h=[],d,v=Et(function(e,t,n){var r=e*S.cos(n)-t*S.sin(n),i=e*S.sin(n)+t*S.cos(n);return{x:r,y:i}});if(!f){d=v(e,t,-c),e=d.x,t=d.y,d=v(u,a,-c),u=d.x,a=d.y;var m=S.cos(k/180*i),g=S.sin(k/180*i),b=(e-u)/2,w=(t-a)/2,E=b*b/(n*n)+w*w/(r*r);E>1&&(E=S.sqrt(E),n=E*n,r=E*r);var x=n*n,T=r*r,C=(s==o?-1:1)*S.sqrt(N((x*T-x*w*w-T*b*b)/(x*w*w+T*b*b))),L=C*n*w/r+(e+u)/2,A=C*-r*b/n+(t+a)/2,O=S.asin(((t-A)/r).toFixed(9)),M=S.asin(((a-A)/r).toFixed(9));O=e<L?k-O:O,M=u<L?k-M:M,O<0&&(O=k*2+O),M<0&&(M=k*2+M),o&&O>M&&(O-=k*2),!o&&M>O&&(M-=k*2)}else O=f[0],M=f[1],L=f[2],A=f[3];var _=M-O;if(N(_)>l){var D=M,P=u,H=a;M=O+l*(o&&M>O?1:-1),u=L+n*S.cos(M),a=A+r*S.sin(M),h=qt(u,a,n,r,i,0,o,P,H,[M,D,L,A])}_=M-O;var B=S.cos(O),j=S.sin(O),F=S.cos(M),I=S.sin(M),q=S.tan(_/4),R=4/3*n*q,U=4/3*r*q,z=[e,t],W=[e+R*j,t-U*B],X=[u+R*I,a-U*F],V=[u,a];W[0]=2*z[0]-W[0],W[1]=2*z[1]-W[1];if(f)return[W,X,V][p](h);h=[W,X,V][p](h).join()[y](",");var $=[];for(var J=0,K=h.length;J<K;J++)$[J]=J%2?v(h[J-1],h[J],c).y:v(h[J],h[J+1],c).x;return $},Rt=function(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:C(f,3)*e+C(f,2)*3*a*n+f*3*a*a*i+C(a,3)*o,y:C(f,3)*t+C(f,2)*3*a*r+f*3*a*a*s+C(a,3)*u}},Ut=Et(function(e,t,n,r,i,s,o,u){var a=i-2*n+e-(o-2*i+n),f=2*(n-e)-2*(i-n),l=e-n,c=(-f+S.sqrt(f*f-4*a*l))/2/a,p=(-f-S.sqrt(f*f-4*a*l))/2/a,d=[t,u],v=[e,o],m;return N(c)>"1e12"&&(c=.5),N(p)>"1e12"&&(p=.5),c>0&&c<1&&(m=Rt(e,t,n,r,i,s,o,u,c),v.push(m.x),d.push(m.y)),p>0&&p<1&&(m=Rt(e,t,n,r,i,s,o,u,p),v.push(m.x),d.push(m.y)),a=s-2*r+t-(u-2*s+r),f=2*(r-t)-2*(s-r),l=t-r,c=(-f+S.sqrt(f*f-4*a*l))/2/a,p=(-f-S.sqrt(f*f-4*a*l))/2/a,N(c)>"1e12"&&(c=.5),N(p)>"1e12"&&(p=.5),c>0&&c<1&&(m=Rt(e,t,n,r,i,s,o,u,c),v.push(m.x),d.push(m.y)),p>0&&p<1&&(m=Rt(e,t,n,r,i,s,o,u,p),v.push(m.x),d.push(m.y)),{min:{x:T[h](0,v),y:T[h](0,d)},max:{x:x[h](0,v),y:x[h](0,d)}}}),zt=e._path2curve=Et(function(e,t){var n=!t&&Nt(e);if(!t&&n.curve)return Ht(n.curve);var r=jt(e),i=t&&jt(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(e,t){var n,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][p](qt[h](0,[t.x,t.y][p](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),e=["C",n,r][p](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][p](It(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][p](It(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][p](Ft(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][p](Ft(t.x,t.y,e[1],t.y));break;case"V":e=["C"][p](Ft(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][p](Ft(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();var n=e[t];while(n.length)e.splice(t++,0,["C"][p](n.splice(0,6)));e.splice(t,1),c=x(r.length,i&&i.length||0)}},f=function(e,t,n,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],c=x(r.length,i&&i.length||0))};for(var l=0,c=x(r.length,i&&i.length||0);l<c;l++){r[l]=u(r[l],s),a(r,l),i&&(i[l]=u(i[l],o)),i&&a(i,l),f(r,i,s,o,l),f(i,r,o,s,l);var d=r[l],v=i&&i[l],m=d.length,g=i&&v.length;s.x=d[m-2],s.y=d[m-1],s.bx=U(d[m-4])||s.x,s.by=U(d[m-3])||s.y,o.bx=i&&(U(v[g-4])||o.x),o.by=i&&(U(v[g-3])||o.y),o.x=i&&v[g-2],o.y=i&&v[g-1]}return i||(n.curve=Ht(r)),i?[r,i]:r},null,Ht),Wt=e._parseDots=Et(function(t){var n=[];for(var r=0,i=t.length;r<i;r++){var s={},o=t[r].match(/^([^:]*):?([\d\.]*)/);s.color=e.getRGB(o[1]);if(s.color.error)return null;s.color=s.color.hex,o[2]&&(s.offset=o[2]+"%"),n.push(s)}for(r=1,i=n.length-1;r<i;r++)if(!n[r].offset){var u=U(n[r-1].offset||0),a=0;for(var f=r+1;f<i;f++)if(n[f].offset){a=n[f].offset;break}a||(a=100,f=i),a=U(a);var l=(a-u)/(f-r+1);for(;r<f;r++)u+=l,n[r].offset=u+"%"}return n}),Xt=e._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},Vt=e._tofront=function(e,t){if(t.top===e)return;Xt(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e},$t=e._toback=function(e,t){if(t.bottom===e)return;Xt(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e},Jt=e._insertafter=function(e,t,n){Xt(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},Kt=e._insertbefore=function(e,t,n){Xt(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},Qt=e.toMatrix=function(e,t){var n=Pt(e),r={_:{transform:v},getBBox:function(){return n}};return Yt(r,t),r.matrix},Gt=e.transformPath=function(e,t){return ft(e,Qt(e,t))},Yt=e._extractTransform=function(t,n){if(n==null)return t._.transform;n=g(n).replace(/\.{3}|\u2026/g,t._.transform||v);var r=e.parseTransformString(n),i=0,s=0,o=0,u=1,a=1,f=t._,l=new tn;f.transform=r||[];if(r)for(var c=0,h=r.length;c<h;c++){var p=r[c],d=p.length,m=g(p[0]).toLowerCase(),y=p[0]!=m,b=y?l.invert():0,w,E,S,x,T;m=="t"&&d==3?y?(w=b.x(0,0),E=b.y(0,0),S=b.x(p[1],p[2]),x=b.y(p[1],p[2]),l.translate(S-w,x-E)):l.translate(p[1],p[2]):m=="r"?d==2?(T=T||t.getBBox(1),l.rotate(p[1],T.x+T.width/2,T.y+T.height/2),i+=p[1]):d==4&&(y?(S=b.x(p[2],p[3]),x=b.y(p[2],p[3]),l.rotate(p[1],S,x)):l.rotate(p[1],p[2],p[3]),i+=p[1]):m=="s"?d==2||d==3?(T=T||t.getBBox(1),l.scale(p[1],p[d-1],T.x+T.width/2,T.y+T.height/2),u*=p[1],a*=p[d-1]):d==5&&(y?(S=b.x(p[3],p[4]),x=b.y(p[3],p[4]),l.scale(p[1],p[2],S,x)):l.scale(p[1],p[2],p[3],p[4]),u*=p[1],a*=p[2]):m=="m"&&d==7&&l.add(p[1],p[2],p[3],p[4],p[5],p[6]),f.dirtyT=1,t.matrix=l}t.matrix=l,f.sx=u,f.sy=a,f.deg=i,f.dx=s=l.e,f.dy=o=l.f,u==1&&a==1&&!i&&f.bbox?(f.bbox.x+=+s,f.bbox.y+=+o):f.dirtyT=1},Zt=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}},en=e._equaliseTransform=function(t,n){n=g(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];var r=x(t.length,n.length),i=[],s=[],o=0,u,a,f,l;for(;o<r;o++){f=t[o]||Zt(n[o]),l=n[o]||Zt(f);if(f[0]!=l[0]||f[0].toLowerCase()=="r"&&(f[2]!=l[2]||f[3]!=l[3])||f[0].toLowerCase()=="s"&&(f[3]!=l[3]||f[4]!=l[4]))return;i[o]=[],s[o]=[];for(u=0,a=x(f.length,l.length);u<a;u++)u in f&&(i[o][u]=f[u]),u in l&&(s[o][u]=l[u])}return{from:i,to:s}};e._getContainer=function(t,n,r,i){var s;s=i==null&&!e.is(t,"object")?u.doc.getElementById(t):t;if(s==null)return;return s.tagName?n==null?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:n,height:r}:{container:1,x:t,y:n,width:r,height:i}},e.pathToRelative=Bt,e._engine={},e.path2curve=zt,e.matrix=function(e,t,n,r,i,s){return new tn(e,t,n,r,i,s)},function(t){function n(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var t=S.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}t.add=function(e,t,n,r,i,s){var o=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],a=[[e,n,i],[t,r,s],[0,0,1]],f,l,c,h;e&&e instanceof tn&&(a=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]);for(f=0;f<3;f++)for(l=0;l<3;l++){h=0;for(c=0;c<3;c++)h+=u[f][c]*a[c][l];o[f][l]=h}this.a=o[0][0],this.b=o[1][0],this.c=o[0][1],this.d=o[1][1],this.e=o[0][2],this.f=o[1][2]},t.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new tn(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},t.clone=function(){return new tn(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(e,t){this.add(1,0,0,1,e,t)},t.scale=function(e,t,n,r){t==null&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},t.rotate=function(t,n,r){t=e.rad(t),n=n||0,r=r||0;var i=+S.cos(t).toFixed(9),s=+S.sin(t).toFixed(9);this.add(i,s,-s,i,n,r),this.add(1,0,0,1,-n,-r)},t.x=function(e,t){return e*this.a+t*this.c+this.e},t.y=function(e,t){return e*this.b+t*this.d+this.f},t.get=function(e){return+this[g.fromCharCode(97+e)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=S.sqrt(n(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=S.sqrt(n(i[1])),r(i[1]),t.shear/=t.scaley;var s=-i[0][1],o=i[1][1];return o<0?(t.rotate=e.deg(S.acos(o)),s<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(S.asin(s)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(e){var t=e||this[y]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:v)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:v)+(t.rotate?"r"+[t.rotate,0,0]:v)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(tn.prototype);var nn=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(nn&&nn[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&nn&&nn[1]<8?l.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:l.safari=it;var rn=function(){this.returnValue=!1},sn=function(){return this.originalEvent.preventDefault()},on=function(){this.cancelBubble=!0},un=function(){return this.originalEvent.stopPropagation()},an=function(){if(u.doc.addEventListener)return function(e,t,n,r){var i=d&&w[t]?w[t]:t,s=function(i){var s=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,a=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,f=i.clientX+a,l=i.clientY+s;if(d&&w[o](t))for(var c=0,h=i.targetTouches&&i.targetTouches.length;c<h;c++)if(i.targetTouches[c].target==e){var p=i;i=i.targetTouches[c],i.originalEvent=p,i.preventDefault=sn,i.stopPropagation=un;break}return n.call(r,i,f,l)};return e.addEventListener(i,s,!1),function(){return e.removeEventListener(i,s,!1),!0}};if(u.doc.attachEvent)return function(e,t,n,r){var i=function(e){e=e||u.win.event;var t=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,i=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,s=e.clientX+i,o=e.clientY+t;return e.preventDefault=e.preventDefault||rn,e.stopPropagation=e.stopPropagation||on,n.call(r,e,s,o)};e.attachEvent("on"+t,i);var s=function(){return e.detachEvent("on"+t,i),!0};return s}}(),fn=[],ln=function(e){var t=e.clientX,n=e.clientY,r=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,i=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,s,o=fn.length;while(o--){s=fn[o];if(d){var a=e.touches.length,f;while(a--){f=e.touches[a];if(f.identifier==s.el._drag.id){t=f.clientX,n=f.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else e.preventDefault();var l=s.el.node,c,h=l.nextSibling,p=l.parentNode,v=l.style.display;u.win.opera&&p.removeChild(l),l.style.display="none",c=s.el.paper.getElementByPoint(t,n),l.style.display=v,u.win.opera&&(h?p.insertBefore(l,h):p.appendChild(l)),c&&eve("raphael.drag.over."+s.el.id,s.el,c),t+=i,n+=r,eve("raphael.drag.move."+s.el.id,s.move_scope||s.el,t-s.el._drag.x,n-s.el._drag.y,t,n,e)}},cn=function(t){e.unmousemove(ln).unmouseup(cn);var n=fn.length,r;while(n--)r=fn[n],r.el._drag={},eve("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,t);fn=[]},hn=e.el={};for(var pn=b.length;pn--;)(function(t){e[t]=hn[t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:an(this.shape||this.node||u.doc,t,n,r||this)})),this},e["un"+t]=hn["un"+t]=function(e){var n=this.events||[],r=n.length;while(r--)if(n[r].name==t&&n[r].f==e)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(b[pn]);hn.data=function(t,n){var r=tt[this.id]=tt[this.id]||{};if(arguments.length==1){if(e.is(t,"object")){for(var i in t)t[o](i)&&this.data(i,t[i]);return this}return eve("raphael.data.get."+this.id,this,r[t],t),r[t]}return r[t]=n,eve("raphael.data.set."+this.id,this,n,t),this},hn.removeData=function(e){return e==null?tt[this.id]={}:tt[this.id]&&delete tt[this.id][e],this},hn.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},hn.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var dn=[];hn.drag=function(t,n,r,i,s,o){function a(a){(a.originalEvent||a).preventDefault();var f=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,l=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;this._drag.x=a.clientX+l,this._drag.y=a.clientY+f,this._drag.id=a.identifier,!fn.length&&e.mousemove(ln).mouseup(cn),fn.push({el:this,move_scope:i,start_scope:s,end_scope:o}),n&&eve.on("raphael.drag.start."+this.id,n),t&&eve.on("raphael.drag.move."+this.id,t),r&&eve.on("raphael.drag.end."+this.id,r),eve("raphael.drag.start."+this.id,s||i||this,a.clientX+l,a.clientY+f,a)}return this._drag={},dn.push({el:this,start:a}),this.mousedown(a),this},hn.onDragOver=function(e){e?eve.on("raphael.drag.over."+this.id,e):eve.unbind("raphael.drag.over."+this.id)},hn.undrag=function(){var t=dn.length;while(t--)dn[t].el==this&&(this.unmousedown(dn[t].start),dn.splice(t,1),eve.unbind("raphael.drag.*."+this.id));!dn.length&&e.unmousemove(ln).unmouseup(cn)},l.circle=function(t,n,r){var i=e._engine.circle(this,t||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},l.rect=function(t,n,r,i,s){var o=e._engine.rect(this,t||0,n||0,r||0,i||0,s||0);return this.__set__&&this.__set__.push(o),o},l.ellipse=function(t,n,r,i){var s=e._engine.ellipse(this,t||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(s),s},l.path=function(t){t&&!e.is(t,A)&&!e.is(t[0],O)&&(t+=v);var n=e._engine.path(e.format[h](e,arguments),this);return this.__set__&&this.__set__.push(n),n},l.image=function(t,n,r,i,s){var o=e._engine.image(this,t||"about:blank",n||0,r||0,i||0,s||0);return this.__set__&&this.__set__.push(o),o},l.text=function(t,n,r){var i=e._engine.text(this,t||0,n||0,g(r));return this.__set__&&this.__set__.push(i),i},l.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new Dn(t);return this.__set__&&this.__set__.push(n),n},l.setStart=function(e){this.__set__=e||this.set()},l.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},l.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},l.setViewBox=function(t,n,r,i,s){return e._engine.setViewBox.call(this,t,n,r,i,s)},l.top=l.bottom=null,l.raphael=e;var vn=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,s=i.clientTop||r.clientTop||0,o=i.clientLeft||r.clientLeft||0,a=t.top+(u.win.pageYOffset||i.scrollTop||r.scrollTop)-s,f=t.left+(u.win.pageXOffset||i.scrollLeft||r.scrollLeft)-o;return{y:a,x:f}};l.getElementByPoint=function(e,t){var n=this,r=n.canvas,i=u.doc.elementFromPoint(e,t);if(u.win.opera&&i.tagName=="svg"){var s=vn(r),o=r.createSVGRect();o.x=e-s.x,o.y=t-s.y,o.width=o.height=1;var a=r.getIntersectionList(o,null);a.length&&(i=a[a.length-1])}if(!i)return null;while(i.parentNode&&i!=r.parentNode&&!i.raphael)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null,i},l.getById=function(e){var t=this.bottom;while(t){if(t.id==e)return t;t=t.next}return null},l.forEach=function(e,t){var n=this.bottom;while(n){if(e.call(t,n)===!1)return this;n=n.next}return this},l.getElementsByPoint=function(e,t){var n=this.set();return this.forEach(function(r){r.isPointInside(e,t)&&n.push(r)}),n},hn.isPointInside=function(t,n){var r=this.realPath=this.realPath||at[this.type](this);return e.isPointInsidePath(r,t,n)},hn.getBBox=function(e){if(this.removed)return{};var t=this._;if(e){if(t.dirty||!t.bboxwt)this.realPath=at[this.type](this),t.bboxwt=Pt(this.realPath),t.bboxwt.toString=gn,t.dirty=0;return t.bboxwt}if(t.dirty||t.dirtyT||!t.bbox){if(t.dirty||!this.realPath)t.bboxwt=0,this.realPath=at[this.type](this);t.bbox=Pt(ft(this.realPath,this.matrix)),t.bbox.toString=gn,t.dirty=t.dirtyT=0}return t.bbox},hn.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},hn.glow=function(e){if(this.type=="text")return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,r=this.paper,i=r.set(),s=this.realPath||at[this.type](this);s=this.matrix?ft(s,this.matrix):s;for(var o=1;o<n+1;o++)i.push(r.path(s).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*o).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(t.offsetx,t.offsety)};var yn={},bn=function(t,n,r,i,s,o,u,a,f){return f==null?kt(t,n,r,i,s,o,u,a):e.findDotsAtSegment(t,n,r,i,s,o,u,a,Lt(t,n,r,i,s,o,u,a,f))},wn=function(t,n){return function(r,i,s){r=zt(r);var o,u,a,f,l="",c={},h,p=0;for(var d=0,v=r.length;d<v;d++){a=r[d];if(a[0]=="M")o=+a[1],u=+a[2];else{f=bn(o,u,a[1],a[2],a[3],a[4],a[5],a[6]);if(p+f>i){if(n&&!c.start){h=bn(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-p),l+=["C"+h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y];if(s)return l;c.start=l,l=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,a[5],a[6]].join(),p+=f,o=+a[5],u=+a[6];continue}if(!t&&!n)return h=bn(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-p),{x:h.x,y:h.y,alpha:h.alpha}}p+=f,o=+a[5],u=+a[6]}l+=a.shift()+a}return c.end=l,h=t?p:n?c:e.findDotsAtSegment(o,u,a[0],a[1],a[2],a[3],a[4],a[5],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},En=wn(1),Sn=wn(),xn=wn(0,1);e.getTotalLength=En,e.getPointAtLength=Sn,e.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return xn(e,t).end;var r=xn(e,n,1);return t?xn(r,t).end:r},hn.getTotalLength=function(){if(this.type!="path")return;return this.node.getTotalLength?this.node.getTotalLength():En(this.attrs.path)},hn.getPointAtLength=function(e){if(this.type!="path")return;return Sn(this.attrs.path,e)},hn.getSubpath=function(t,n){if(this.type!="path")return;return e.getSubpath(this.attrs.path,t,n)};var Tn=e.easing_formulas={linear:function(e){return e},"<":function(e){return C(e,1.7)},">":function(e){return C(e,.48)},"<>":function(e){var t=.48-e/1.04,n=S.sqrt(.1734+t*t),r=n-t,i=C(N(r),1/3)*(r<0?-1:1),s=-n-t,o=C(N(s),1/3)*(s<0?-1:1),u=i+o+.5;return(1-u)*3*u*u+u*u*u},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:C(2,-10*e)*S.sin((e-.075)*2*k/.3)+1},bounce:function(e){var t=7.5625,n=2.75,r;return e<1/n?r=t*e*e:e<2/n?(e-=1.5/n,r=t*e*e+.75):e<2.5/n?(e-=2.25/n,r=t*e*e+.9375):(e-=2.625/n,r=t*e*e+.984375),r}};Tn.easeIn=Tn["ease-in"]=Tn["<"],Tn.easeOut=Tn["ease-out"]=Tn[">"],Tn.easeInOut=Tn["ease-in-out"]=Tn["<>"],Tn["back-in"]=Tn.backIn,Tn["back-out"]=Tn.backOut;var Nn=[],Cn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},kn=function(){var t=+(new Date),n=0;for(;n<Nn.length;n++){var r=Nn[n];if(r.el.removed||r.paused)continue;var i=t-r.start,s=r.ms,u=r.easing,a=r.from,f=r.diff,l=r.to,c=r.t,h=r.el,d={},v,g={},y;r.initstatus?(i=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*s,r.status=r.initstatus,delete r.initstatus,r.stop&&Nn.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(i/s))/r.anim.top;if(i<0)continue;if(i<s){var b=u(i/s);for(var w in a)if(a[o](w)){switch(V[w]){case L:v=+a[w]+b*s*f[w];break;case"colour":v="rgb("+[Ln(q(a[w].r+b*s*f[w].r)),Ln(q(a[w].g+b*s*f[w].g)),Ln(q(a[w].b+b*s*f[w].b))].join(",")+")";break;case"path":v=[];for(var E=0,S=a[w].length;E<S;E++){v[E]=[a[w][E][0]];for(var x=1,T=a[w][E].length;x<T;x++)v[E][x]=+a[w][E][x]+b*s*f[w][E][x];v[E]=v[E].join(m)}v=v.join(m);break;case"transform":if(f[w].real){v=[];for(E=0,S=a[w].length;E<S;E++){v[E]=[a[w][E][0]];for(x=1,T=a[w][E].length;x<T;x++)v[E][x]=a[w][E][x]+b*s*f[w][E][x]}}else{var N=function(e){return+a[w][e]+b*s*f[w][e]};v=[["m",N(0),N(1),N(2),N(3),N(4),N(5)]]}break;case"csv":if(w=="clip-rect"){v=[],E=4;while(E--)v[E]=+a[w][E]+b*s*f[w][E]}break;default:var C=[][p](a[w]);v=[],E=h.paper.customAttributes[w].length;while(E--)v[E]=+C[E]+b*s*f[w][E]}d[w]=
v}h.attr(d),function(e,t,n){setTimeout(function(){eve("raphael.anim.frame."+e,t,n)})}(h.id,h,r.anim)}else{(function(t,n,r){setTimeout(function(){eve("raphael.anim.frame."+n.id,n,r),eve("raphael.anim.finish."+n.id,n,r),e.is(t,"function")&&t.call(n)})})(r.callback,h,r.anim),h.attr(l),Nn.splice(n--,1);if(r.repeat>1&&!r.next){for(y in l)l[o](y)&&(g[y]=r.totalOrigin[y]);r.el.attr(g),Mn(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&Mn(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}e.svg&&h&&h.paper&&h.paper.safari(),Nn.length&&Cn(kn)},Ln=function(e){return e>255?255:e<0?0:e};hn.animateWith=function(t,n,r,i,s,o){var u=this;if(u.removed)return o&&o.call(u),u;var a=r instanceof On?r:e.animation(r,i,s,o),f,l;Mn(a,u,a.percents[0],null,u.attr());for(var c=0,h=Nn.length;c<h;c++)if(Nn[c].anim==n&&Nn[c].el==t){Nn[h-1].start=Nn[c].start;break}return u},hn.onAnimation=function(e){return e?eve.on("raphael.anim.frame."+this.id,e):eve.unbind("raphael.anim.frame."+this.id),this},On.prototype.delay=function(e){var t=new On(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},On.prototype.repeat=function(e){var t=new On(this.anim,this.ms);return t.del=this.del,t.times=S.floor(x(e,0))||1,t},e.animation=function(t,n,r,i){if(t instanceof On)return t;if(e.is(r,"function")||!r)i=i||r||null,r=null;t=Object(t),n=+n||0;var s={},u,a;for(a in t)t[o](a)&&U(a)!=a&&U(a)+"%"!=a&&(u=!0,s[a]=t[a]);return u?(r&&(s.easing=r),i&&(s.callback=i),new On({100:s},n)):new On(t,n)},hn.animate=function(t,n,r,i){var s=this;if(s.removed)return i&&i.call(s),s;var o=t instanceof On?t:e.animation(t,n,r,i);return Mn(o,s,o.percents[0],null,s.attr()),s},hn.setTime=function(e,t){return e&&t!=null&&this.status(e,T(t,e.ms)/e.ms),this},hn.status=function(e,t){var n=[],r=0,i,s;if(t!=null)return Mn(e,this,-1,T(t,1)),this;i=Nn.length;for(;r<i;r++){s=Nn[r];if(s.el.id==this.id&&(!e||s.anim==e)){if(e)return s.status;n.push({anim:s.anim,status:s.status})}}return e?0:n},hn.pause=function(e){for(var t=0;t<Nn.length;t++)Nn[t].el.id==this.id&&(!e||Nn[t].anim==e)&&eve("raphael.anim.pause."+this.id,this,Nn[t].anim)!==!1&&(Nn[t].paused=!0);return this},hn.resume=function(e){for(var t=0;t<Nn.length;t++)if(Nn[t].el.id==this.id&&(!e||Nn[t].anim==e)){var n=Nn[t];eve("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},hn.stop=function(e){for(var t=0;t<Nn.length;t++)Nn[t].el.id==this.id&&(!e||Nn[t].anim==e)&&eve("raphael.anim.stop."+this.id,this,Nn[t].anim)!==!1&&Nn.splice(t--,1);return this},eve.on("raphael.remove",_n),eve.on("raphael.clear",_n),hn.toString=function(){return"Raphaël’s object"};var Dn=function(e){this.items=[],this.length=0,this.type="set";if(e)for(var t=0,n=e.length;t<n;t++)e[t]&&(e[t].constructor==hn.constructor||e[t].constructor==Dn)&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},Pn=Dn.prototype;Pn.push=function(){var e,t;for(var n=0,r=arguments.length;n<r;n++)e=arguments[n],e&&(e.constructor==hn.constructor||e.constructor==Dn)&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},Pn.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Pn.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(e.call(t,this.items[n],n)===!1)return this;return this};for(var Hn in hn)hn[o](Hn)&&(Pn[Hn]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][h](n,t)})}}(Hn));Pn.attr=function(t,n){if(t&&e.is(t,O)&&e.is(t[0],"object"))for(var r=0,i=t.length;r<i;r++)this.items[r].attr(t[r]);else for(var s=0,o=this.items.length;s<o;s++)this.items[s].attr(t,n);return this},Pn.clear=function(){while(this.length)this.pop()},Pn.splice=function(e,t,n){e=e<0?x(this.length+e,0):e,t=x(0,T(this.length-e,t));var r=[],i=[],s=[],o;for(o=2;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<t;o++)i.push(this[e+o]);for(;o<this.length-e;o++)r.push(this[e+o]);var u=s.length;for(o=0;o<u+r.length;o++)this.items[e+o]=this[e+o]=o<u?s[o]:r[o-u];o=this.items.length=this.length-=t-u;while(this[o])delete this[o++];return new Dn(i)},Pn.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0},Pn.animate=function(t,n,r,i){(e.is(r,"function")||!r)&&(i=r||null);var s=this.items.length,o=s,u,a=this,f;if(!s)return this;i&&(f=function(){!--s&&i.call(a)}),r=e.is(r,A)?r:f;var l=e.animation(t,n,r,f);u=this.items[--o].animate(l);while(o--)this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(u,l,l);return this},Pn.insertAfter=function(e){var t=this.items.length;while(t--)this.items[t].insertAfter(e);return this},Pn.getBBox=function(){var e=[],t=[],n=[],r=[];for(var i=this.items.length;i--;)if(!this.items[i].removed){var s=this.items[i].getBBox();e.push(s.x),t.push(s.y),n.push(s.x+s.width),r.push(s.y+s.height)}return e=T[h](0,e),t=T[h](0,t),n=x[h](0,n),r=x[h](0,r),{x:e,y:t,x2:n,y2:r,width:n-e,height:r-t}},Pn.clone=function(e){e=new Dn;for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},Pn.toString=function(){return"Raphaël‘s set"},e.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[o](r)&&(t.face[r]=e.face[r]);this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t];if(!e.svg){t.face["units-per-em"]=z(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[o](i)){var s=e.glyphs[i];t.glyphs[i]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(s.k)for(var u in s.k)s[o](u)&&(t.glyphs[i].k[u]=s.k[u])}}return e},l.getFont=function(t,n,r,i){i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400;if(!e.fonts)return;var s=e.fonts[t];if(!s){var u=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,v)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[o](a)&&u.test(a)){s=e.fonts[a];break}}var f;if(s)for(var l=0,c=s.length;l<c;l++){f=s[l];if(f.face["font-weight"]==n&&(f.face["font-style"]==r||!f.face["font-style"])&&f.face["font-stretch"]==i)break}return f},l.print=function(t,r,i,s,o,u,a){u=u||"middle",a=x(T(a||0,1),-1);var f=g(i)[y](v),l=0,c=0,h=v,p;e.is(s,i)&&(s=this.getFont(s));if(s){p=(o||16)/s.face["units-per-em"];var d=s.face.bbox[y](n),m=+d[0],b=d[3]-d[1],w=0,E=+d[1]+(u=="baseline"?b+ +s.face.descent:b/2);for(var S=0,N=f.length;S<N;S++){if(f[S]=="\n")l=0,k=0,c=0,w+=b;else{var C=c&&s.glyphs[f[S-1]]||{},k=s.glyphs[f[S]];l+=c?(C.w||s.w)+(C.k&&C.k[f[S]]||0)+s.w*a:0,c=1}k&&k.d&&(h+=e.transformPath(k.d,["t",l*p,w*p,"s",p,p,m,E,"t",(t-m)/p,(r-E)/p]))}}return this.path(h).attr({fill:"#000",stroke:"none"})},l.add=function(t){if(e.is(t,"array")){var n=this.set(),i=0,s=t.length,u;for(;i<s;i++)u=t[i]||{},r[o](u.type)&&n.push(this[u.type]().attr(u))}return n},e.format=function(t,n){var r=e.is(n,O)?[0][p](n):arguments;return t&&e.is(t,A)&&r.length-1&&(t=t.replace(i,function(e,t){return r[++t]==null?v:r[t]})),t||v},e.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var i=r;return n.replace(t,function(e,t,n,r,s){t=t||r,i&&(t in i&&(i=i[t]),typeof i=="function"&&s&&(i=i()))}),i=(i==null||i==r?e:i)+"",i};return function(t,r){return String(t).replace(e,function(e,t){return n(e,t,r)})}}(),e.ninja=function(){return a.was?u.win.Raphael=a.is:delete Raphael,e},e.st=Pn,function(t,n,r){function i(){/in/.test(t.readyState)?setTimeout(i,9):e.eve("raphael.DOMload")}t.readyState==null&&t.addEventListener&&(t.addEventListener(n,r=function(){t.removeEventListener(n,r,!1),t.readyState="complete"},!1),t.readyState="loading"),i()}(document,"DOMContentLoaded"),a.was?u.win.Raphael=e:Raphael=e,eve.on("raphael.DOMload",function(){t=!0})}(),window.Raphael.svg&&function(e){var t="hasOwnProperty",n=String,r=parseFloat,i=parseInt,s=Math,o=s.max,u=s.abs,a=s.pow,f=/[, ]+/,l=e.eve,c="",h=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},v={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(r,i){if(i){typeof r=="string"&&(r=m(r));for(var s in i)i[t](s)&&(s.substring(0,6)=="xlink:"?r.setAttributeNS(p,s.substring(6),n(i[s])):r.setAttribute(s,n(i[s])))}else r=e._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},g=function(t,i){var f="linear",l=t.id+i,h=.5,p=.5,d=t.node,v=t.paper,g=d.style,y=e._g.doc.getElementById(l);if(!y){i=n(i).replace(e._radial_gradient,function(e,t,n){f="radial";if(t&&n){h=r(t),p=r(n);var i=(p>.5)*2-1;a(h-.5,2)+a(p-.5,2)>.25&&(p=s.sqrt(.25-a(h-.5,2))*i+.5)&&p!=.5&&(p=p.toFixed(5)-1e-5*i)}return c}),i=i.split(/\s*\-\s*/);if(f=="linear"){var b=i.shift();b=-r(b);if(isNaN(b))return null;var w=[0,0,s.cos(e.rad(b)),s.sin(e.rad(b))],E=1/(o(u(w[2]),u(w[3]))||1);w[2]*=E,w[3]*=E,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var S=e._parseDots(i);if(!S)return null;l=l.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&l!=t.gradient.id&&(v.defs.removeChild(t.gradient),delete t.gradient);if(!t.gradient){y=m(f+"Gradient",{id:l}),t.gradient=y,m(y,f=="radial"?{fx:h,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:t.matrix.invert()}),v.defs.appendChild(y);for(var x=0,T=S.length;x<T;x++)y.appendChild(m("stop",{offset:S[x].offset?S[x].offset:x?"100%":"0%","stop-color":S[x].color||"#fff"}))}}return m(d,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),g.fill=c,g.opacity=1,g.fillOpacity=1,1},y=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},b=function(r,i,s){if(r.type=="path"){var o=n(i).toLowerCase().split("-"),u=r.paper,a=s?"end":"start",f=r.node,l=r.attrs,h=l["stroke-width"],p=o.length,g="classic",y,b,w,E,S,x=3,T=3,N=5;while(p--)switch(o[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":g=o[p];break;case"wide":T=5;break;case"narrow":T=2;break;case"long":x=5;break;case"short":x=2}g=="open"?(x+=2,T+=2,N+=2,w=1,E=s?4:1,S={fill:"none",stroke:l.stroke}):(E=w=x/2,S={fill:l.stroke,stroke:"none"}),r._.arrows?s?(r._.arrows.endPath&&v[r._.arrows.endPath]--,r._.arrows.endMarker&&v[r._.arrows.endMarker]--):(r._.arrows.startPath&&v[r._.arrows.startPath]--,r._.arrows.startMarker&&v[r._.arrows.startMarker]--):r._.arrows={};if(g!="none"){var C="raphael-marker-"+g,k="raphael-marker-"+a+g+x+T;e._g.doc.getElementById(C)?v[C]++:(u.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:d[g],id:C})),v[C]=1);var L=e._g.doc.getElementById(k),A;L?(v[k]++,A=L.getElementsByTagName("use")[0]):(L=m(m("marker"),{id:k,markerHeight:T,markerWidth:x,orient:"auto",refX:E,refY:T/2}),A=m(m("use"),{"xlink:href":"#"+C,transform:(s?"rotate(180 "+x/2+" "+T/2+") ":c)+"scale("+x/N+","+T/N+")","stroke-width":(1/((x/N+T/N)/2)).toFixed(4)}),L.appendChild(A),u.defs.appendChild(L),v[k]=1),m(A,S);var O=w*(g!="diamond"&&g!="oval");s?(y=r._.arrows.startdx*h||0,b=e.getTotalLength(l.path)-O*h):(y=O*h,b=e.getTotalLength(l.path)-(r._.arrows.enddx*h||0)),S={},S["marker-"+a]="url(#"+k+")";if(b||y)S.d=Raphael.getSubpath(l.path,y,b);m(f,S),r._.arrows[a+"Path"]=C,r._.arrows[a+"Marker"]=k,r._.arrows[a+"dx"]=O,r._.arrows[a+"Type"]=g,r._.arrows[a+"String"]=i}else s?(y=r._.arrows.startdx*h||0,b=e.getTotalLength(l.path)-y):(y=0,b=e.getTotalLength(l.path)-(r._.arrows.enddx*h||0)),r._.arrows[a+"Path"]&&m(f,{d:Raphael.getSubpath(l.path,y,b)}),delete r._.arrows[a+"Path"],delete r._.arrows[a+"Marker"],delete r._.arrows[a+"dx"],delete r._.arrows[a+"Type"],delete r._.arrows[a+"String"];for(S in v)if(v[t](S)&&!v[S]){var M=e._g.doc.getElementById(S);M&&M.parentNode.removeChild(M)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},E=function(e,t,r){t=w[n(t).toLowerCase()];if(t){var i=e.attrs["stroke-width"]||"1",s={round:i,square:i,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],u=t.length;while(u--)o[u]=t[u]*i+(u%2?1:-1)*s;m(e.node,{"stroke-dasharray":o.join(",")})}},S=function(r,s){var a=r.node,l=r.attrs,h=a.style.visibility;a.style.visibility="hidden";for(var d in s)if(s[t](d)){if(!e._availableAttrs[t](d))continue;var v=s[d];l[d]=v;switch(d){case"blur":r.blur(v);break;case"href":case"title":case"target":var w=a.parentNode;if(w.tagName.toLowerCase()!="a"){var S=m("a");w.insertBefore(S,a),S.appendChild(a),w=S}d=="target"?w.setAttributeNS(p,"show",v=="blank"?"new":v):w.setAttributeNS(p,d,v);break;case"cursor":a.style.cursor=v;break;case"transform":r.transform(v);break;case"arrow-start":b(r,v);break;case"arrow-end":b(r,v,1);break;case"clip-rect":var x=n(v).split(f);if(x.length==4){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var N=m("clipPath"),C=m("rect");N.id=e.createUUID(),m(C,{x:x[0],y:x[1],width:x[2],height:x[3]}),N.appendChild(C),r.paper.defs.appendChild(N),m(a,{"clip-path":"url(#"+N.id+")"}),r.clip=C}if(!v){var k=a.getAttribute("clip-path");if(k){var L=e._g.doc.getElementById(k.replace(/(^url\(#|\)$)/g,c));L&&L.parentNode.removeChild(L),m(a,{"clip-path":c}),delete r.clip}}break;case"path":r.type=="path"&&(m(a,{d:v?l.path=e._pathToAbsolute(v):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1)));break;case"width":a.setAttribute(d,v),r._.dirty=1;if(!l.fx)break;d="x",v=l.x;case"x":l.fx&&(v=-l.x-(l.width||0));case"rx":if(d=="rx"&&r.type=="rect")break;case"cx":a.setAttribute(d,v),r.pattern&&y(r),r._.dirty=1;break;case"height":a.setAttribute(d,v),r._.dirty=1;if(!l.fy)break;d="y",v=l.y;case"y":l.fy&&(v=-l.y-(l.height||0));case"ry":if(d=="ry"&&r.type=="rect")break;case"cy":a.setAttribute(d,v),r.pattern&&y(r),r._.dirty=1;break;case"r":r.type=="rect"?m(a,{rx:v,ry:v}):a.setAttribute(d,v),r._.dirty=1;break;case"src":r.type=="image"&&a.setAttributeNS(p,"href",v);break;case"stroke-width":if(r._.sx!=1||r._.sy!=1)v/=o(u(r._.sx),u(r._.sy))||1;r.paper._vbSize&&(v*=r.paper._vbSize),a.setAttribute(d,v),l["stroke-dasharray"]&&E(r,l["stroke-dasharray"],s),r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"stroke-dasharray":E(r,v,s);break;case"fill":var A=n(v).match(e._ISURL);if(A){N=m("pattern");var O=m("image");N.id=e.createUUID(),m(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(O,{x:0,y:0,"xlink:href":A[1]}),N.appendChild(O),function(t){e._preload(A[1],function(){var e=this.offsetWidth,n=this.offsetHeight;m(t,{width:e,height:n}),m(O,{width:e,height:n}),r.paper.safari()})}(N),r.paper.defs.appendChild(N),m(a,{fill:"url(#"+N.id+")"}),r.pattern=N,r.pattern&&y(r);break}var M=e.getRGB(v);if(!M.error)delete s.gradient,delete l.gradient,!e.is(l.opacity,"undefined")&&e.is(s.opacity,"undefined")&&m(a,{opacity:l.opacity}),!e.is(l["fill-opacity"],"undefined")&&e.is(s["fill-opacity"],"undefined")&&m(a,{"fill-opacity":l["fill-opacity"]});else if((r.type=="circle"||r.type=="ellipse"||n(v).charAt()!="r")&&g(r,v)){if("opacity"in l||"fill-opacity"in l){var _=e._g.doc.getElementById(a.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(_){var D=_.getElementsByTagName("stop");m(D[D.length-1],{"stop-opacity":("opacity"in l?l.opacity:1)*("fill-opacity"in l?l["fill-opacity"]:1)})}}l.gradient=v,l.fill="none";break}M[t]("opacity")&&m(a,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=e.getRGB(v),a.setAttribute(d,M.hex),d=="stroke"&&M[t]("opacity")&&m(a,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity}),d=="stroke"&&r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"gradient":(r.type=="circle"||r.type=="ellipse"||n(v).charAt()!="r")&&g(r,v);break;case"opacity":l.gradient&&!l[t]("stroke-opacity")&&m(a,{"stroke-opacity":v>1?v/100:v});case"fill-opacity":if(l.gradient){_=e._g.doc.getElementById(a.getAttribute("fill").replace(/^url\(#|\)$/g,c)),_&&(D=_.getElementsByTagName("stop"),m(D[D.length-1],{"stop-opacity":v}));break};default:d=="font-size"&&(v=i(v,10)+"px");var P=d.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});a.style[P]=v,r._.dirty=1,a.setAttribute(d,v)}}T(r,s),a.style.visibility=h},x=1.2,T=function(r,s){if(r.type!="text"||!(s[t]("text")||s[t]("font")||s[t]("font-size")||s[t]("x")||s[t]("y")))return;var o=r.attrs,u=r.node,a=u.firstChild?i(e._g.doc.defaultView.getComputedStyle(u.firstChild,c).getPropertyValue("font-size"),10):10;if(s[t]("text")){o.text=s.text;while(u.firstChild)u.removeChild(u.firstChild);var f=n(s.text).split("\n"),l=[],h;for(var p=0,d=f.length;p<d;p++)h=m("tspan"),p&&m(h,{dy:a*x,x:o.x}),h.appendChild(e._g.doc.createTextNode(f[p])),u.appendChild(h),l[p]=h}else{l=u.getElementsByTagName("tspan");for(p=0,d=l.length;p<d;p++)p?m(l[p],{dy:a*x,x:o.x}):m(l[0],{dy:0})}m(u,{x:o.x,y:o.y}),r._.dirty=1;var v=r._getBBox(),g=o.y-(v.y+v.height/2);g&&e.is(g,"finite")&&m(l[0],{dy:g})},N=function(t,n){var r=0,i=0;this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},C=e.el;N.prototype=C,C.constructor=N,e._engine.path=function(e,t){var n=m("path");t.canvas&&t.canvas.appendChild(n);var r=new N(n,t);return r.type="path",S(r,{fill:"none",stroke:"#000",path:e}),r},C.rotate=function(e,t,i){if(this.removed)return this;e=n(e).split(f),e.length-1&&(t=r(e[1]),i=r(e[2])),e=r(e[0]),i==null&&(t=i);if(t==null||i==null){var s=this.getBBox(1);t=s.x+s.width/2,i=s.y+s.height/2}return this.transform(this._.transform.concat([["r",e,t,i]])),this},C.scale=function(e,t,i,s){if(this.removed)return this;e=n(e).split(f),e.length-1&&(t=r(e[1]),i=r(e[2]),s=r(e[3])),e=r(e[0]),t==null&&(t=e),s==null&&(i=s);if(i==null||s==null)var o=this.getBBox(1);return i=i==null?o.x+o.width/2:i,s=s==null?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,t,i,s]])),this},C.translate=function(e,t){return this.removed?this:(e=n(e).split(f),e.length-1&&(t=r(e[1])),e=r(e[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",e,t]])),this)},C.transform=function(n){var r=this._;if(n==null)return r.transform;e._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix});if(r.sx!=1||r.sy!=1){var i=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},C.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},C.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},C.remove=function(){if(this.removed||!this.node.parentNode)return;var t=this.paper;t.__set__&&t.__set__.exclude(this),l.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),e._tear(this,t),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var n in this)this[n]=typeof this[n]=="function"?e._removedFactory(n):null;this.removed=!0},C._getBBox=function(){if(this.node.style.display=="none"){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(n){}finally{t=t||{}}return e&&this.hide(),t},C.attr=function(n,r){if(this.removed)return this;if(n==null){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);return i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(r==null&&e.is(n,"string")){if(n=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(n=="transform")return this._.transform;var o=n.split(f),u={};for(var a=0,c=o.length;a<c;a++)n=o[a],n in this.attrs?u[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?u[n]=this.paper.customAttributes[n].def:u[n]=e._availableAttrs[n];return c-1?u:u[o[0]]}if(r==null&&e.is(n,"array")){u={};for(a=0,c=n.length;a<c;a++)u[n[a]]=this.attr(n[a]);return u}if(r!=null){var h={};h[n]=r}else n!=null&&e.is(n,"object")&&(h=n);for(var p in h)l("raphael.attr."+p+"."+this.id,this,h[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&h[t](p)&&e.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(h[p]));this.attrs[p]=h[p];for(var v in d)d[t](v)&&(h[v]=d[v])}return S(this,h),this},C.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&e._tofront(this,t),this},C.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;t.tagName.toLowerCase()=="a"?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper);var n=this.paper;return this},C.insertAfter=function(t){if(this.removed)return this;var n=t.node||t[t.length-1].node;return n.nextSibling?n.parentNode.insertBefore(this.node,n.nextSibling):n.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this},C.insertBefore=function(t){if(this.removed)return this;var n=t.node||t[0].node;return n.parentNode.insertBefore(this.node,n),e._insertbefore(this,t,this.paper),this},C.blur=function(t){var n=this;if(+t!==0){var r=m("filter"),i=m("feGaussianBlur");n.attrs.blur=t,r.id=e.createUUID(),m(i,{stdDeviation:+t||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,m(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter")},e._engine.circle=function(e,t,n,r){var i=m("circle");e.canvas&&e.canvas.appendChild(i);var s=new N(i,e);return s.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},s.type="circle",m(i,s.attrs),s},e._engine.rect=function(e,t,n,r,i,s){var o=m("rect");e.canvas&&e.canvas.appendChild(o);var u=new N(o,e);return u.attrs={x:t,y:n,width:r,height:i,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},u.type="rect",m(o,u.attrs),u},e._engine.ellipse=function(e,t,n,r,i){var s=m("ellipse");e.canvas&&e.canvas.appendChild(s);var o=new N(s,e);return o.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},o.type="ellipse",m(s,o.attrs),o},e._engine.image=function(e,t,n,r,i,s){var o=m("image");m(o,{x:n,y:r,width:i,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(o);var u=new N(o,e);return u.attrs={x:n,y:r,width:i,height:s,src:t},u.type="image",u},e._engine.text=function(t,n,r,i){var s=m("text");t.canvas&&t.canvas.appendChild(s);var o=new N(s,t);return o.attrs={x:n,y:r,"text-anchor":"middle",text:i,font:e._availableAttrs.font,stroke:"none",fill:"#000"},o.type="text",S(o,o.attrs),o},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t&&t.container,r=t.x,i=t.y,s=t.width,o=t.height;if(!n)throw new Error("SVG container not found.");var u=m("svg"),a="overflow:hidden;",f;return r=r||0,i=i||0,s=s||512,o=o||342,m(u,{height:o,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg"}),n==1?(u.style.cssText=a+"position:absolute;left:"+r+"px;top:"+i+"px",e._g.doc.body.appendChild(u),f=1):(u.style.cssText=a+"position:relative",n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u)),n=new e._Paper,n.width=s,n.height=o,n.canvas=u,n.clear(),n._left=n._top=0,f&&(n.renderfix=function(){}),n.renderfix(),n},e._engine.setViewBox=function(e,t,n,r,i){l("raphael.setViewBox",this,this._viewBox,[e,t,n,r,i]);var s=o(n/this.width,r/this.height),u=this.top,a=i?"meet":"xMinYMin",f,c;e==null?(this._vbSize&&(s=1),delete this._vbSize,f="0 0 "+this.width+h+this.height):(this._vbSize=s,f=e+h+t+h+n+h+r),m(this.canvas,{viewBox:f,preserveAspectRatio:a});while(s&&u)c="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":c}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[e,t,n,r,!!i],this},e.prototype.renderfix=function(){var e=this.canvas,t=e.style,n;try{n=e.getScreenCTM()||e.createSVGMatrix()}catch(r){n=e.createSVGMatrix()}var i=-n.e%1,s=-n.f%1;if(i||s)i&&(this._left=(this._left+i)%1,t.left=this._left+"px"),s&&(this._top=(this._top+s)%1,t.top=this._top+"px")},e.prototype.clear=function(){e.eve("raphael.clear",this);var t=this.canvas;while(t.firstChild)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with Raphaël "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){l("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null};var k=e.st;for(var L in C)C[t](L)&&!k[t](L)&&(k[L]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(L))}(window.Raphael),window.Raphael.vml&&function(e){var t="hasOwnProperty",n=String,r=parseFloat,i=Math,s=i.round,o=i.max,u=i.min,a=i.abs,f="fill",l=/[, ]+/,c=e.eve,h=" progid:DXImageTransform.Microsoft",p=" ",d="",v={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",w=21600,E={path:1,rect:1,image:1},S={circle:1,ellipse:1},x=function(t){var r=/[ahqstv]/ig,i=e._pathToAbsolute;n(t).match(r)&&(i=e._path2curve),r=/[clmz]/g;if(i==e._pathToAbsolute&&!n(t).match(r)){var o=n(t).replace(m,function(e,t,n){var r=[],i=t.toLowerCase()=="m",o=v[t];return n.replace(y,function(e){i&&r.length==2&&(o+=r+v[t=="m"?"l":"L"],r=[]),r.push(s(e*w))}),o+r});return o}var u=i(t),a,f;o=[];for(var l=0,c=u.length;l<c;l++){a=u[l],f=u[l][0].toLowerCase(),f=="z"&&(f="x");for(var h=1,g=a.length;h<g;h++)f+=s(a[h]*w)+(h!=g-1?",":d);o.push(f)}return o.join(p)},T=function(t,n,r){var i=e.matrix();return i.rotate(-t,.5,.5),{dx:i.x(n,r),dy:i.y(n,r)}},N=function(e,t,n,r,i,s){var o=e._,u=e.matrix,l=o.fillpos,c=e.node,h=c.style,d=1,v="",m,g=w/t,y=w/n;h.visibility="hidden";if(!t||!n)return;c.coordsize=a(g)+p+a(y),h.rotation=s*(t*n<0?-1:1);if(s){var b=T(s,r,i);r=b.dx,i=b.dy}t<0&&(v+="x"),n<0&&(v+=" y")&&(d=-1),h.flip=v,c.coordorigin=r*-g+p+i*-y;if(l||o.fillsize){var E=c.getElementsByTagName(f);E=E&&E[0],c.removeChild(E),l&&(b=T(s,u.x(l[0],l[1]),u.y(l[0],l[1])),E.position=b.dx*d+p+b.dy*d),o.fillsize&&(E.size=o.fillsize[0]*a(t)+p+o.fillsize[1]*a(n)),c.appendChild(E)}h.visibility="visible"};e.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var C=function(e,t,r){var i=n(t).toLowerCase().split("-"),s=r?"end":"start",o=i.length,u="classic",a="medium",f="medium";while(o--)switch(i[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":u=i[o];break;case"wide":case"narrow":f=i[o];break;case"long":case"short":a=i[o]}var l=e.node.getElementsByTagName("stroke")[0];l[s+"arrow"]=u,l[s+"arrowlength"]=a,l[s+"arrowwidth"]=f},k=function(i,a){i.attrs=i.attrs||{};var c=i.node,h=i.attrs,v=c.style,m,g=E[i.type]&&(a.x!=h.x||a.y!=h.y||a.width!=h.width||a.height!=h.height||a.cx!=h.cx||a.cy!=h.cy||a.rx!=h.rx||a.ry!=h.ry||a.r!=h.r),y=S[i.type]&&(h.cx!=a.cx||h.cy!=a.cy||h.r!=a.r||h.rx!=a.rx||h.ry!=a.ry),b=i;for(var T in a)a[t](T)&&(h[T]=a[T]);g&&(h.path=e._getPath[i.type](i),i._.dirty=1),a.href&&(c.href=a.href),a.title&&(c.title=a.title),a.target&&(c.target=a.target),a.cursor&&(v.cursor=a.cursor),"blur"in a&&i.blur(a.blur);if(a.path&&i.type=="path"||g)c.path=x(~n(h.path).toLowerCase().indexOf("r")?e._pathToAbsolute(h.path):h.path),i.type=="image"&&(i._.fillpos=[h.x,h.y],i._.fillsize=[h.width,h.height],N(i,1,1,0,0,0));"transform"in a&&i.transform(a.transform);if(y){var k=+h.cx,A=+h.cy,O=+h.rx||+h.r||0,_=+h.ry||+h.r||0;c.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((k-O)*w),s((A-_)*w),s((k+O)*w),s((A+_)*w),s(k*w))}if("clip-rect"in a){var D=n(a["clip-rect"]).split(l);if(D.length==4){D[2]=+D[2]+ +D[0],D[3]=+D[3]+ +D[1];var P=c.clipRect||e._g.doc.createElement("div"),H=P.style;H.clip=e.format("rect({1}px {2}px {3}px {0}px)",D),c.clipRect||(H.position="absolute",H.top=0,H.left=0,H.width=i.paper.width+"px",H.height=i.paper.height+"px",c.parentNode.insertBefore(P,c),P.appendChild(c),c.clipRect=P)}a["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(i.textpath){var B=i.textpath.style;a.font&&(B.font=a.font),a["font-family"]&&(B.fontFamily='"'+a["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),a["font-size"]&&(B.fontSize=a["font-size"]),a["font-weight"]&&(B.fontWeight=a["font-weight"]),a["font-style"]&&(B.fontStyle=a["font-style"])}"arrow-start"in a&&C(b,a["arrow-start"]),"arrow-end"in a&&C(b,a["arrow-end"],1);if(a.opacity!=null||a["stroke-width"]!=null||a.fill!=null||a.src!=null||a.stroke!=null||a["stroke-width"]!=null||a["stroke-opacity"]!=null||a["fill-opacity"]!=null||a["stroke-dasharray"]!=null||a["stroke-miterlimit"]!=null||a["stroke-linejoin"]!=null||a["stroke-linecap"]!=null){var j=c.getElementsByTagName(f),F=!1;j=j&&j[0],!j&&(F=j=M(f)),i.type=="image"&&a.src&&(j.src=a.src),a.fill&&(j.on=!0);if(j.on==null||a.fill=="none"||a.fill===null)j.on=!1;if(j.on&&a.fill){var I=n(a.fill).match(e._ISURL);if(I){j.parentNode==c&&c.removeChild(j),j.rotate=!0,j.src=I[1],j.type="tile";var q=i.getBBox(1);j.position=q.x+p+q.y,i._.fillpos=[q.x,q.y],e._preload(I[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else j.color=e.getRGB(a.fill).hex,j.src=d,j.type="solid",e.getRGB(a.fill).error&&(b.type in{circle:1,ellipse:1}||n(a.fill).charAt()!="r")&&L(b,a.fill,j)&&(h.fill="none",h.gradient=a.fill,j.rotate=!1)}if("fill-opacity"in a||"opacity"in a){var U=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+e.getRGB(a.fill).o+1||2)-1);U=u(o(U,0),1),j.opacity=U,j.src&&(j.color="none")}c.appendChild(j);var z=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],W=!1;!z&&(W=z=M("stroke"));if(a.stroke&&a.stroke!="none"||a["stroke-width"]||a["stroke-opacity"]!=null||a["stroke-dasharray"]||a["stroke-miterlimit"]||a["stroke-linejoin"]||a["stroke-linecap"])z.on=!0;(a.stroke=="none"||a.stroke===null||z.on==null||a.stroke==0||a["stroke-width"]==0)&&(z.on=!1);var X=e.getRGB(a.stroke);z.on&&a.stroke&&(z.color=X.hex),U=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+X.o+1||2)-1);var V=(r(a["stroke-width"])||1)*.75;U=u(o(U,0),1),a["stroke-width"]==null&&(V=h["stroke-width"]),a["stroke-width"]&&(z.weight=V),V&&V<1&&(U*=V)&&(z.weight=1),z.opacity=U,a["stroke-linejoin"]&&(z.joinstyle=a["stroke-linejoin"]||"miter"),z.miterlimit=a["stroke-miterlimit"]||8,a["stroke-linecap"]&&(z.endcap=a["stroke-linecap"]=="butt"?"flat":a["stroke-linecap"]=="square"?"square":"round");if(a["stroke-dasharray"]){var $={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=$[t](a["stroke-dasharray"])?$[a["stroke-dasharray"]]:d}W&&c.appendChild(z)}if(b.type=="text"){b.paper.canvas.style.display=d;var J=b.paper.span,K=100,Q=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);v=J.style,h.font&&(v.font=h.font),h["font-family"]&&(v.fontFamily=h["font-family"]),h["font-weight"]&&(v.fontWeight=h["font-weight"]),h["font-style"]&&(v.fontStyle=h["font-style"]),Q=r(h["font-size"]||Q&&Q[0])||10,v.fontSize=Q*K+"px",b.textpath.string&&(J.innerHTML=n(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=J.getBoundingClientRect();b.W=h.w=(G.right-G.left)/K,b.H=h.h=(G.bottom-G.top)/K,b.X=h.x,b.Y=h.y+b.H/2,("x"in a||"y"in a)&&(b.path.v=e.format("m{0},{1}l{2},{1}",s(h.x*w),s(h.y*w),s(h.x*w)+1));var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var Z=0,et=Y.length;Z<et;Z++)if(Y[Z]in a){b._.dirty=1;break}switch(h["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}
},L=function(t,s,o){t.attrs=t.attrs||{};var u=t.attrs,a=Math.pow,f,l,c="linear",h=".5 .5";t.attrs.gradient=s,s=n(s).replace(e._radial_gradient,function(e,t,n){return c="radial",t&&n&&(t=r(t),n=r(n),a(t-.5,2)+a(n-.5,2)>.25&&(n=i.sqrt(.25-a(t-.5,2))*((n>.5)*2-1)+.5),h=t+p+n),d}),s=s.split(/\s*\-\s*/);if(c=="linear"){var v=s.shift();v=-r(v);if(isNaN(v))return null}var m=e._parseDots(s);if(!m)return null;t=t.shape||t.node;if(m.length){t.removeChild(o),o.on=!0,o.method="none",o.color=m[0].color,o.color2=m[m.length-1].color;var g=[];for(var y=0,b=m.length;y<b;y++)m[y].offset&&g.push(m[y].offset+p+m[y].color);o.colors=g.length?g.join():"0% "+o.color,c=="radial"?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=h,o.angle=0):(o.type="gradient",o.angle=(270-v)%360),t.appendChild(o)}return 1},A=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},O=e.el;A.prototype=O,O.constructor=A,O.transform=function(t){if(t==null)return this._.transform;var r=this.paper._viewBoxShift,i=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d,s;r&&(s=t=n(t).replace(/\.{3}|\u2026/g,this._.transform||d)),e._extractTransform(this,i+t);var o=this.matrix.clone(),u=this.skew,a=this.node,f,l=~n(this.attrs.fill).indexOf("-"),c=!n(this.attrs.fill).indexOf("url(");o.translate(-0.5,-0.5);if(c||l||this.type=="image"){u.matrix="1 0 0 1",u.offset="0 0",f=o.split();if(l&&f.noRotation||!f.isSimple){a.style.filter=o.toFilter();var h=this.getBBox(),v=this.getBBox(1),m=h.x-v.x,g=h.y-v.y;a.coordorigin=m*-w+p+g*-w,N(this,1,1,m,g,0)}else a.style.filter=d,N(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate)}else a.style.filter=d,u.matrix=n(o),u.offset=o.offset();return s&&(this._.transform=s),this},O.rotate=function(e,t,i){if(this.removed)return this;if(e==null)return;e=n(e).split(l),e.length-1&&(t=r(e[1]),i=r(e[2])),e=r(e[0]),i==null&&(t=i);if(t==null||i==null){var s=this.getBBox(1);t=s.x+s.width/2,i=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,i]])),this},O.translate=function(e,t){return this.removed?this:(e=n(e).split(l),e.length-1&&(t=r(e[1])),e=r(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]])),this)},O.scale=function(e,t,i,s){if(this.removed)return this;e=n(e).split(l),e.length-1&&(t=r(e[1]),i=r(e[2]),s=r(e[3]),isNaN(i)&&(i=null),isNaN(s)&&(s=null)),e=r(e[0]),t==null&&(t=e),s==null&&(i=s);if(i==null||s==null)var o=this.getBBox(1);return i=i==null?o.x+o.width/2:i,s=s==null?o.y+o.height/2:s,this.transform(this._.transform.concat([["s",e,t,i,s]])),this._.dirtyT=1,this},O.hide=function(){return!this.removed&&(this.node.style.display="none"),this},O.show=function(){return!this.removed&&(this.node.style.display=d),this},O._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},O.remove=function(){if(this.removed||!this.node.parentNode)return;this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null;this.removed=!0},O.attr=function(n,r){if(this.removed)return this;if(n==null){var i={};for(var s in this.attrs)this.attrs[t](s)&&(i[s]=this.attrs[s]);return i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(r==null&&e.is(n,"string")){if(n==f&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;var o=n.split(l),u={};for(var a=0,h=o.length;a<h;a++)n=o[a],n in this.attrs?u[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?u[n]=this.paper.customAttributes[n].def:u[n]=e._availableAttrs[n];return h-1?u:u[o[0]]}if(this.attrs&&r==null&&e.is(n,"array")){u={};for(a=0,h=n.length;a<h;a++)u[n[a]]=this.attr(n[a]);return u}var p;r!=null&&(p={},p[n]=r),r==null&&e.is(n,"object")&&(p=n);for(var d in p)c("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[t](d)&&p[t](d)&&e.is(this.paper.customAttributes[d],"function")){var v=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var m in v)v[t](m)&&(p[m]=v[m])}p.text&&this.type=="text"&&(this.textpath.string=p.text),k(this,p)}return this},O.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},O.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},O.insertAfter=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this)},O.insertBefore=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper),this)},O.blur=function(t){var n=this.node.runtimeStyle,r=n.filter;r=r.replace(g,d),+t!==0?(this.attrs.blur=t,n.filter=r+p+h+".Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",s(+t||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur)},e._engine.path=function(e,t){var n=M("shape");n.style.cssText=b,n.coordsize=w+p+w,n.coordorigin=t.coordorigin;var r=new A(n,t),i={fill:"none",stroke:"#000"};e&&(i.path=e),r.type="path",r.path=[],r.Path=d,k(r,i),t.canvas.appendChild(n);var s=M("skew");return s.on=!0,n.appendChild(s),r.skew=s,r.transform(d),r},e._engine.rect=function(t,n,r,i,s,o){var u=e._rectPath(n,r,i,s,o),a=t.path(u),f=a.attrs;return a.X=f.x=n,a.Y=f.y=r,a.W=f.width=i,a.H=f.height=s,f.r=o,f.path=u,a.type="rect",a},e._engine.ellipse=function(e,t,n,r,i){var s=e.path(),o=s.attrs;return s.X=t-r,s.Y=n-i,s.W=r*2,s.H=i*2,s.type="ellipse",k(s,{cx:t,cy:n,rx:r,ry:i}),s},e._engine.circle=function(e,t,n,r){var i=e.path(),s=i.attrs;return i.X=t-r,i.Y=n-r,i.W=i.H=r*2,i.type="circle",k(i,{cx:t,cy:n,r:r}),i},e._engine.image=function(t,n,r,i,s,o){var u=e._rectPath(r,i,s,o),a=t.path(u).attr({stroke:"none"}),l=a.attrs,c=a.node,h=c.getElementsByTagName(f)[0];return l.src=n,a.X=l.x=r,a.Y=l.y=i,a.W=l.width=s,a.H=l.height=o,l.path=u,a.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=n,h.type="tile",a._.fillpos=[r,i],a._.fillsize=[s,o],c.appendChild(h),N(a,1,1,0,0,0),a},e._engine.text=function(t,r,i,o){var u=M("shape"),a=M("path"),f=M("textpath");r=r||0,i=i||0,o=o||"",a.v=e.format("m{0},{1}l{2},{1}",s(r*w),s(i*w),s(r*w)+1),a.textpathok=!0,f.string=n(o),f.on=!0,u.style.cssText=b,u.coordsize=w+p+w,u.coordorigin="0 0";var l=new A(u,t),c={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:o};l.shape=u,l.path=a,l.textpath=f,l.type="text",l.attrs.text=n(o),l.attrs.x=r,l.attrs.y=i,l.attrs.w=1,l.attrs.h=1,k(l,c),u.appendChild(f),u.appendChild(a),t.canvas.appendChild(u);var h=M("skew");return h.on=!0,u.appendChild(h),l.skew=h,l.transform(d),l},e._engine.setSize=function(t,n){var r=this.canvas.style;return this.width=t,this.height=n,t==+t&&(t+="px"),n==+n&&(n+="px"),r.width=t,r.height=n,r.clip="rect(0 "+t+" "+n+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,n,r,i,s){e.eve("raphael.setViewBox",this,this._viewBox,[t,n,r,i,s]);var u=this.width,a=this.height,f=1/o(r/u,i/a),l,c;return s&&(l=a/i,c=u/r,r*l<u&&(t-=(u-r*l)/2/l),i*c<a&&(n-=(a-i*c)/2/c)),this._viewBox=[t,n,r,i,!!s],this._viewBoxShift={dx:-t,dy:-n,scale:f},this.forEach(function(e){e.transform("...")}),this};var M;e._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(n){M=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t.container,r=t.height,i,s=t.width,o=t.x,u=t.y;if(!n)throw new Error("VML container not found.");var a=new e._Paper,f=a.canvas=e._g.doc.createElement("div"),l=f.style;return o=o||0,u=u||0,s=s||512,r=r||342,a.width=s,a.height=r,s==+s&&(s+="px"),r==+r&&(r+="px"),a.coordsize=w*1e3+p+w*1e3,a.coordorigin="0 0",a.span=e._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",f.appendChild(a.span),l.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,r),n==1?(e._g.doc.body.appendChild(f),l.left=o+"px",l.top=u+"px",l.position="absolute"):n.firstChild?n.insertBefore(f,n.firstChild):n.appendChild(f),a.renderfix=function(){},a},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?e._removedFactory(t):null;return!0};var _=e.st;for(var D in O)O[t](D)&&!_[t](D)&&(_[D]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(D))}(window.Raphael);var YEARS=["year2012","year2013","year2014","year2015","year2016","year2017","year2018","year2019"],URL="https://docs.google.com/spreadsheet/pub?key=0Aj3c4mZCQQaMdGE2TVphOWlXMUMyclRXa2Z1c0g5MGc&output=html";(function(e){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){t==null?t=0:t<0&&(t=Math.max(0,this.length+t));for(var n=t,r=this.length;n<r;n++)if(this[n]===e)return n;return-1}),"use strict";var t=e.Tabletop=function(n){if(!this||this===e)return new t(n);typeof n=="string"&&(n={key:n}),this.callback=n.callback,this.wanted=n.wanted||[],this.key=n.key,this.simpleSheet=!!n.simpleSheet,this.parseNumbers=!!n.parseNumbers,this.wait=!!n.wait,this.postProcess=n.postProcess,this.debug=!!n.debug,/key=/.test(this.key)&&(this.log("You passed a key as a URL! Attempting to parse."),this.key=this.key.match("key=(.*?)&")[1]);if(!this.key){alert("You need to pass Tabletop a key!");return}this.log("Initializing with key %s",this.key),this.models={},this.model_names=[],this.base_json_url="https://spreadsheets.google.com/feeds/worksheets/"+this.key+"/public/basic?alt=json-in-script",this.wait||this.fetch()};t.callbacks={},t.init=function(e){return new t(e)},t.sheets=function(){alert("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},t.prototype={fetch:function(e){typeof e!="undefined"&&(this.callback=e),this.injectScript(this.base_json_url,this.loadSheets)},injectScript:function(e,n){var r=document.createElement("script"),i=this,s="tt"+ +(new Date)+Math.floor(Math.random()*1e5);t.callbacks[s]=function(){var e=Array.prototype.slice.call(arguments,0);n.apply(i,e),r.parentNode.removeChild(r),delete t.callbacks[s]},e=e+"&callback="+"Tabletop.callbacks."+s,r.src=e,document.getElementsByTagName("script")[0].parentNode.appendChild(r)},isWanted:function(e){return this.wanted.length===0?!0:this.wanted.indexOf(e)!=-1},data:function(){return this.model_names.length===0?undefined:this.simpleSheet?(this.model_names.length>1&&this.debug&&console.debug("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.model_names[0]].all()):this.models},addWanted:function(e){this.wanted.indexOf(e)==-1&&this.wanted.push(e)},loadSheets:function(e){var t,n,r=[];for(t=0,n=e.feed.entry.length;t<n;t++)if(this.isWanted(e.feed.entry[t].content.$t)){var i=e.feed.entry[t].link[3].href.substr(e.feed.entry[t].link[3].href.length-3,3),s="https://spreadsheets.google.com/feeds/list/"+this.key+"/"+i+"/public/values?alt=json-in-script";r.push(s)}this.sheetsToLoad=r.length;for(t=0,n=r.length;t<n;t++)this.injectScript(r[t],this.loadSheet)},sheets:function(e){if(typeof e=="undefined")return this.models;if(typeof this.models[e]=="undefined")return;return this.models[e]},loadSheet:function(e){var n=new t.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess});this.models[n.name]=n,this.model_names.indexOf(n.name)==-1&&this.model_names.push(n.name),this.sheetsToLoad--,this.sheetsToLoad===0&&this.doCallback()},doCallback:function(){this.sheetsToLoad===0&&this.callback(this.data(),this)},log:function(e){this.debug&&typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(e)}},t.Model=function(e){var t,n,r,i;this.column_names=[],this.name=e.data.feed.title.$t,this.elements=[],this.raw=e.data;for(var s in e.data.feed.entry[0])/^gsx/.test(s)&&this.column_names.push(s.replace("gsx$",""));for(t=0,r=e.data.feed.entry.length;t<r;t++){var o=e.data.feed.entry[t],u={};for(var n=0,i=this.column_names.length;n<i;n++){var a=o["gsx$"+this.column_names[n]];e.parseNumbers&&a.$t!==""&&!isNaN(a.$t)?u[this.column_names[n]]=+a.$t:u[this.column_names[n]]=a.$t}u.rowNumber===undefined&&(u.rowNumber=t+1),e.postProcess&&e.postProcess(u),this.elements.push(u)}},t.Model.prototype={all:function(){return this.elements},toArray:function(){var e=[],t,n,r,i;for(t=0,r=this.elements.length;t<r;t++){var s=[];for(n=0,i=this.column_names.length;n<i;n++)s.push(this.elements[t][this.column_names[n]]);e.push(s)}return e}}})(this);